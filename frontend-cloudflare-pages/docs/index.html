<!--
  ⚠️ DO NOT EDIT THIS FILE ⚠️
  This file is auto-generated by build-static.js
  To make changes, edit the source files and run: node build-static.js
  Generated: 2025-12-27T09:28:38.046Z
-->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Face Swap AI - API Documentation</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/buble.css">
  <style>
    * {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    :root {
      --theme-color: #3b82f6;
      --theme-color-dark: #2563eb;
      --sidebar-width: 380px;
      --content-max-width: 95%;
    }
    
    body {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
    }
    
    .app-name-link img {
      max-width: 200px;
    }
    
    .sidebar {
      background: #ffffff;
      border-right: 1px solid #e5e7eb;
      width: var(--sidebar-width) !important;
    }
    
    .sidebar-toggle {
      display: none !important;
    }
    
    @media (max-width: 768px) {
      .sidebar {
        width: var(--sidebar-width) !important;
        transform: translateX(0) !important;
      }
    }
    
    .sidebar ul li a {
      color: #374151;
      font-weight: 400;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .sidebar ul li a:hover {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
    }
    
    .sidebar ul li.active > a {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.1);
      border-left: 3px solid var(--theme-color);
      font-weight: 500;
    }
    
    .markdown-section {
      max-width: var(--content-max-width) !important;
      width: var(--content-max-width) !important;
      padding: 2rem 3rem;
    }
    
    @media (min-width: 1400px) {
      .markdown-section {
        max-width: 1400px !important;
        width: 1400px !important;
      }
    }
    
    .markdown-section h1 {
      color: #1f2937;
      border-bottom: 2px solid var(--theme-color);
      padding-bottom: 10px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h2 {
      color: #374151;
      margin-top: 40px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h3 {
      color: #4b5563;
      margin-top: 30px;
      font-weight: 500;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section p,
    .markdown-section li {
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 400;
      line-height: 1.7;
      color: #4b5563;
    }
    
    .markdown-section code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: #f3f4f6;
      color: #dc2626;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      font-weight: 400;
    }
    
    .markdown-section pre {
      background: #1f2937;
      border-left: 4px solid var(--theme-color);
      border-radius: 6px;
      padding: 1.5rem;
      overflow-x: auto;
    }
    
    .markdown-section pre code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: transparent;
      color: #e5e7eb;
      padding: 0;
      font-size: 0.9em;
      font-weight: 400;
      line-height: 1.6;
    }
    
    .markdown-section blockquote {
      border-left: 4px solid var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }
    
    .markdown-section blockquote p {
      color: #4b5563;
      margin: 0;
    }
    
    .app-name {
      font-size: 24px;
      font-weight: 600;
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .cover {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 50%, #bfdbfe 100%);
    }
    
    .cover-main {
      color: #1f2937;
    }
    
    .cover-main h1 {
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 600;
    }
    
    .cover-main p {
      color: #4b5563;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    
    table th,
    table td {
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
      text-align: left;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    
    table tr:hover {
      background: #f9fafb;
    }
    
    .search input {
      font-family: 'Lexend Deca', sans-serif;
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  
  <script>
    // Embedded markdown content
    window.__staticDocs = {
      'API_TONG_QUAN_VI.md': `# Tổng quan API Face Swap AI

Tài liệu này mô tả đầy đủ các điểm cuối (endpoint) mà Cloudflare Worker cung cấp.

**Base URL:** \`https://api.d.shotpix.app\`

---

## Mục lục

- [Xác thực API](#xác-thực-api-api-authentication)
- [APIs cần tích hợp với mobile](#apis-cần-tích-hợp-với-mobile-14-apis)
- [Error Codes Reference](#error-codes-reference)
- [API Endpoints (Chi tiết)](#api-endpoints-chi-tiết)
  - [1. Upload & Quản lý File](#1-upload--quản-lý-file)
  - [2. AI Processing](#2-ai-processing)
  - [3. Quản lý Profile](#3-quản-lý-profile)
  - [4. Truy vấn Dữ liệu](#4-truy-vấn-dữ-liệu)
  - [5. Hệ thống & Cấu hình](#5-hệ-thống--cấu-hình)
- [Tổng kết](#tổng-kết)

---

## Xác thực API (API Authentication)

### Mobile API Key Authentication

Hệ thống hỗ trợ xác thực bằng API key cho các mobile APIs. Tính năng này có thể được bật/tắt thông qua biến môi trường \`ENABLE_MOBILE_API_KEY_AUTH\`.

**Khi bật (\`ENABLE_MOBILE_API_KEY_AUTH=true\`):**
- Các mobile APIs được bảo vệ yêu cầu API key trong request header
- API key có thể được gửi qua:
  - Header \`X-API-Key\`: \`X-API-Key: your_api_key_here\`
  - Header \`Authorization\`: \`Authorization: Bearer your_api_key_here\`

**Các endpoints được bảo vệ (khi authentication được bật):**
- POST \`/upload-url\` (type=selfie) - Chỉ khi upload selfie
- POST \`/faceswap\`
- POST \`/background\`
- POST \`/enhance\`
- POST \`/beauty\`
- POST \`/filter\`
- POST \`/restore\`
- POST \`/aging\`
- POST \`/upscaler4k\`
- POST \`/profiles\` - Chỉ khi tạo profile mới
- GET \`/profiles/{id}\` - Chỉ khi lấy profile theo ID
- DELETE \`/results/{id}\` - Xóa result

**Lưu ý:**
- POST \`/upload-url\` (type=preset) không yêu cầu API key (backend only)
- Các endpoints khác không nằm trong danh sách trên không yêu cầu API key

**Tạo API Key:**

Sử dụng script \`generate-api-key.js\` để tạo API key mới:

\`\`\`bash
node backend-cloudflare-workers/generate-api-key.js
\`\`\`

Script sẽ tạo một API key ngẫu nhiên 32 bytes (256 bits) và hiển thị hướng dẫn thêm vào \`deployments-secrets.json\`:

\`\`\`json
{
  "MOBILE_API_KEY": "your_generated_key_here",
  "ENABLE_MOBILE_API_KEY_AUTH": "true"
}
\`\`\`

**Ví dụ request với API key:**

\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890"
  }'
\`\`\`

Hoặc sử dụng Authorization header:

\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Error Response (401 Unauthorized):**

Khi API key không hợp lệ hoặc thiếu:

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Unauthorized",
  "code": 401
}
\`\`\`

---

## APIs cần tích hợp với mobile (14 APIs)

**Tổng số API endpoints: 26**

### APIs cần tích hợp với mobile (14 APIs)

1. POST \`/upload-url\` (type=selfie) - Upload selfie
2. POST \`/faceswap\` - Đổi mặt (Face Swap) - luôn dùng Vertex AI, hỗ trợ multiple selfies
3. POST \`/background\` - Tạo nền AI (AI Background)
4. POST \`/enhance\` - AI enhance ảnh (cải thiện chất lượng kỹ thuật)
5. POST \`/beauty\` - AI beautify ảnh (cải thiện thẩm mỹ khuôn mặt)
6. POST \`/filter\` - AI Filter (Styles) - Áp dụng style từ preset lên selfie
7. POST \`/restore\` - AI khôi phục và nâng cấp ảnh
8. POST \`/aging\` - AI lão hóa khuôn mặt
9. POST \`/upscaler4k\` - AI upscale ảnh lên 4K
10. POST \`/profiles\` - Tạo profile
11. GET \`/profiles/{id}\` - Lấy profile
12. GET \`/selfies\` - Liệt kê selfies
13. GET \`/results\` - Liệt kê results (generated images)
14. DELETE \`/results/{id}\` - Xóa result

### APIs không cần tích hợp với mobile (12 APIs)

15. PUT \`/profiles/{id}\` - Cập nhật profile
16. GET \`/profiles\` - Liệt kê profiles
17. POST \`/upload-url\` (type=preset) - Upload preset (backend only)
18. GET \`/presets\` - Liệt kê presets
19. GET \`/presets/{id}\` - Lấy preset theo ID (bao gồm prompt_json)
20. DELETE \`/presets/{id}\` - Xóa preset
21. DELETE \`/selfies/{id}\` - Xóa selfie
22. POST \`/upload-thumbnails\` - Tải lên thumbnails và presets (batch)
23. GET \`/thumbnails\` - Liệt kê thumbnails
24. GET \`/thumbnails/{id}/preset\` - Lấy preset_id từ thumbnail_id
25. GET \`/config\` - Lấy config
26. OPTIONS \`/*\` - CORS preflight requests

---

## Error Codes Reference

### Vision API Safety Error Codes (1001-1005)

Các error codes này được trả về khi Google Vision API SafeSearch phát hiện nội dung không phù hợp trong ảnh. Được sử dụng cho:
- POST \`/upload-url\` (type=selfie, action="4k" hoặc "4K") - Kiểm tra ảnh selfie trước khi lưu

| Error Code | Category | Mô tả |
|------------|----------|-------|
| **1001** | ADULT | Thể hiện khả năng nội dung dành cho người lớn của hình ảnh. Nội dung dành cho người lớn có thể bao gồm các yếu tố như khỏa thân, hình ảnh hoặc phim hoạt hình khiêu dâm, hoặc các hoạt động tình dục. |
| **1002** | VIOLENCE | Hình ảnh này có khả năng chứa nội dung bạo lực. Nội dung bạo lực có thể bao gồm cái chết, thương tích nghiêm trọng hoặc tổn hại đến cá nhân hoặc nhóm cá nhân. |
| **1003** | RACY | Khả năng cao hình ảnh được yêu cầu chứa nội dung khiêu dâm. Nội dung khiêu dâm có thể bao gồm (nhưng không giới hạn) quần áo mỏng manh hoặc xuyên thấu, khỏa thân được che đậy một cách khéo léo, tư thế tục tĩu hoặc khiêu khích, hoặc cận cảnh các vùng nhạy cảm trên cơ thể. |
| **1004** | MEDICAL | Rất có thể đây là hình ảnh y tế. |
| **1005** | SPOOF | Xác suất chế giễu. Xác suất xảy ra việc chỉnh sửa phiên bản gốc của hình ảnh để làm cho nó trông hài hước hoặc phản cảm. |

#### Tìm kiếm An toàn (Safe Search)

Tập hợp các đặc điểm liên quan đến hình ảnh, được tính toán bằng các phương pháp thị giác máy tính trên các lĩnh vực tìm kiếm an toàn (ví dụ: người lớn, giả mạo, y tế, bạo lực).

**Các trường (Fields):**

- **adult** (Likelihood): Thể hiện khả năng nội dung dành cho người lớn của hình ảnh. Nội dung dành cho người lớn có thể bao gồm các yếu tố như khỏa thân, hình ảnh hoặc phim hoạt hình khiêu dâm, hoặc các hoạt động tình dục.

- **spoof** (Likelihood): Xác suất chế giễu. Xác suất xảy ra việc chỉnh sửa phiên bản gốc của hình ảnh để làm cho nó trông hài hước hoặc phản cảm.

- **medical** (Likelihood): Rất có thể đây là hình ảnh y tế.

- **violence** (Likelihood): Hình ảnh này có khả năng chứa nội dung bạo lực. Nội dung bạo lực có thể bao gồm cái chết, thương tích nghiêm trọng hoặc tổn hại đến cá nhân hoặc nhóm cá nhân.

- **racy** (Likelihood): Khả năng cao hình ảnh được yêu cầu chứa nội dung khiêu dâm. Nội dung khiêu dâm có thể bao gồm (nhưng không giới hạn) quần áo mỏng manh hoặc xuyên thấu, khỏa thân được che đậy một cách khéo léo, tư thế tục tĩu hoặc khiêu khích, hoặc cận cảnh các vùng nhạy cảm trên cơ thể.

#### Severity Levels (Độ nghiêm trọng)

Google Vision API SafeSearch trả về các mức độ nghiêm trọng cho mỗi category. App sử dụng các mức độ này để quyết định có chặn ảnh hay không:

| Severity Level | Giá trị | Mô tả | Có bị chặn? |
|----------------|---------|-------|-------------|
| **VERY_UNLIKELY** | -1 | Không có nội dung nhạy cảm, chắc chắn | ❌ Không |
| **UNLIKELY** | 0 | Không có nội dung nhạy cảm, nhưng chưa chắc chắn | ❌ Không |
| **POSSIBLE** | 1 | Có thể có nội dung nhạy cảm, nhưng chưa chắc chắn | ✅ Có (chỉ trong strict mode) |
| **LIKELY** | 2 | Có nội dung nhạy cảm, chắc chắn | ✅ Có (chỉ trong strict mode) |
| **VERY_LIKELY** | 3 | Có nội dung nhạy cảm, chắc chắn | ✅ Có (cả strict và lenient mode) |

#### Strictness Modes (Chế độ kiểm tra)

App hỗ trợ 2 chế độ kiểm tra, được cấu hình qua biến môi trường \`SAFETY_STRICTNESS\`:

**Strict Mode (Mặc định):**
- Chặn: \`POSSIBLE\`, \`LIKELY\`, và \`VERY_LIKELY\`
- Cho phép: \`VERY_UNLIKELY\`, \`UNLIKELY\`
- Sử dụng khi: \`SAFETY_STRICTNESS=strict\` hoặc không set (default)

**Lenient Mode:**
- Chặn: \`VERY_LIKELY\` only
- Cho phép: \`VERY_UNLIKELY\`, \`UNLIKELY\`, \`POSSIBLE\`, \`LIKELY\`
- Sử dụng khi: \`SAFETY_STRICTNESS=lenient\`

**Lưu ý:**
- \`statusCode\` (1001-1005) chỉ được trả về khi nội dung thực sự bị chặn
- Trong strict mode, \`POSSIBLE\`, \`LIKELY\`, và \`VERY_LIKELY\` đều bị chặn
- Trong lenient mode, chỉ \`VERY_LIKELY\` bị chặn

**Ví dụ Response:**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Content blocked: Image contains adult content (VERY_LIKELY)",
  "code": 1001
}
\`\`\`

---

### Vertex AI Safety Error Codes (2001-2004)

Các error codes này được trả về khi Vertex AI Gemini safety filters chặn nội dung trong prompt hoặc generated image. Được sử dụng cho:
- POST \`/faceswap\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/background\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/enhance\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/beauty\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/filter\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/restore\` - Khi Vertex AI chặn prompt hoặc generated image
- POST \`/aging\` - Khi Vertex AI chặn prompt hoặc generated image

#### Các loại tác hại

Bộ lọc nội dung đánh giá nội dung dựa trên các loại tác hại sau:

| Error Code | Loại nguy hiểm | Sự định nghĩa |
|------------|----------------|---------------|
| **2001** | Lời lẽ kích động thù hận | Những bình luận tiêu cực hoặc gây hại nhắm vào danh tính và/hoặc các thuộc tính được bảo vệ. |
| **2002** | Quấy rối | Những lời lẽ đe dọa, hăm dọa, bắt nạt hoặc lăng mạ nhắm vào người khác. |
| **2003** | Nội dung khiêu dâm | Có chứa nội dung liên quan đến hành vi tình dục hoặc các nội dung khiêu dâm khác. |
| **2004** | Nội dung nguy hiểm | Thúc đẩy hoặc tạo điều kiện tiếp cận các hàng hóa, dịch vụ và hoạt động có hại. |

#### So sánh điểm xác suất và điểm mức độ nghiêm trọng (Probability Scores and Severity Scores)

Điểm an toàn xác suất phản ánh khả năng phản hồi của mô hình có liên quan đến tác hại tương ứng. Nó có một điểm tin cậy tương ứng nằm trong khoảng từ **0.0 đến 1.0**, được làm tròn đến một chữ số thập phân.

Điểm tin cậy được chia thành bốn mức độ tin cậy:

| Mức độ tin cậy | Mô tả |
|----------------|-------|
| **NEGLIGIBLE** | Rất thấp - Khả năng có nội dung gây hại là không đáng kể |
| **LOW** | Thấp - Khả năng có nội dung gây hại là thấp |
| **MEDIUM** | Trung bình - Khả năng có nội dung gây hại là trung bình |
| **HIGH** | Cao - Khả năng có nội dung gây hại là cao |

**Lưu ý:**
- App chặn nội dung khi phát hiện vi phạm với \`HIGH\` hoặc \`MEDIUM\` probability
- Nội dung với \`LOW\` hoặc \`NEGLIGIBLE\` probability thường được cho phép
- Safety violations trả về HTTP 422 với internal error codes 2001-2004 trong trường \`code\`
- Message trả về là lý do cụ thể từ hệ thống (ví dụ: finishMessage từ Vertex AI)

**Ví dụ Response (Input Blocked):**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Unable to show the generated image. The image was filtered out because it violated usage guidelines. You will not be charged for blocked images. Try rephrasing the prompt. If you think this was an error, send feedback. Support code: 14952152.",
  "code": 2001
}
\`\`\`

**Ví dụ Response (Output Blocked):**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Unable to show the generated image. The image was filtered out because it violated usage guidelines. You will not be charged for blocked images. Try rephrasing the prompt. If you think this was an error, send feedback. Support code: 14952152.",
  "code": 2003
}
\`\`\`

---

### HTTP Status Codes

Ngoài các error codes trên, API cũng trả về các HTTP status codes chuẩn:

| Status Code | Mô tả |
|-------------|-------|
| **200** | Success |
| **400** | Bad Request - Request không hợp lệ |
| **401** | Unauthorized - API key không hợp lệ hoặc thiếu (khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`) |
| **422** | Unprocessable Entity - Content bị chặn (sử dụng error codes 1001-1005 hoặc 2001-2004) |
| **429** | Rate Limit Exceeded - Vượt quá giới hạn request |
| **500** | Internal Server Error - Lỗi server |

**Lưu ý:**
- Error codes 1001-1005 và 2001-2004 được trả về trong trường \`code\` của response body
- HTTP status code luôn là 422 cho các safety violations (content bị chặn)
- Chi tiết về violation có thể được tìm thấy trong \`debug.vision\` (cho Vision API) hoặc \`debug.provider\` (cho Vertex AI)

---

## API Endpoints (Chi tiết)

### 1. Upload & Quản lý File

#### 1.1. POST \`/upload-url\` (type=selfie) - Upload selfie

**Mục đích:** Tải ảnh selfie trực tiếp lên server và lưu vào database. Endpoint này được sử dụng bởi mobile app để upload selfie.

**Authentication:** Yêu cầu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\` (chỉ áp dụng cho \`type=selfie\`).

**Request:**

**Upload selfie với action:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "X-API-Key: your_api_key_here" \\
  -F "files=@/path/to/selfie.jpg" \\
  -F "type=selfie" \\
  -F "profile_id=profile_1234567890" \\
  -F "action=faceswap"
\`\`\`

**Multipart/form-data (với action):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "X-API-Key: your_api_key_here" \\
  -F "files=@/path/to/selfie.jpg" \\
  -F "type=selfie" \\
  -F "profile_id=profile_1234567890" \\
  -F "action=faceswap"
\`\`\`

**JSON với image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://example.com/selfie.jpg",
    "type": "selfie",
    "profile_id": "profile_1234567890",
    "action": "faceswap"
  }'
\`\`\`

**Request Parameters:**
- \`files\` (file[], required nếu dùng multipart): Mảng file ảnh selfie cần upload (hỗ trợ nhiều file).
- \`image_url\` hoặc \`image_urls\` (string/string[], required nếu dùng JSON): URL ảnh selfie trực tiếp.
- \`type\` (string, required): Phải là \`"selfie"\` cho mobile app.
- \`profile_id\` (string, required): ID profile người dùng.
- \`action\` (string, required, chỉ áp dụng cho \`type=selfie\`): Loại action của selfie. Phải được chỉ định rõ ràng. Các giá trị hỗ trợ: 
  - \`"faceswap"\`: Tối đa 8 ảnh (có thể cấu hình), tự động xóa ảnh cũ khi upload ảnh mới (giữ lại số ảnh mới nhất theo giới hạn). **Không kiểm tra Vision API.**
  - \`"wedding"\`: Tối đa 2 ảnh, tự động xóa ảnh cũ khi upload ảnh mới (giữ lại 1 ảnh mới nhất). **Không kiểm tra Vision API.**
  - \`"4k"\` hoặc \`"4K"\`: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới. **Ảnh sẽ được kiểm tra bằng Vision API trước khi lưu vào database.**
  - Các action khác: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới. **Không kiểm tra Vision API.**

**Response (Success 200):**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "selfie_1234567890_xyz789",
        "url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200
}
\`\`\`

**Response (Error - Vision API Blocked):**
Khi ảnh selfie không vượt qua kiểm tra an toàn của Vision API, endpoint sẽ trả về error code tương ứng với loại vi phạm:

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Upload failed",
  "code": 1001
}
\`\`\`

**Lưu ý quan trọng:**
- **Vision API Error Codes (1001-1005):** Chỉ selfie uploads với \`action="4k"\` hoặc \`action="4K"\` mới được quét bởi Vision API trước khi lưu vào database. Các action khác (như \`"faceswap"\`, \`"wedding"\`, \`"default"\`, v.v.) **không** được kiểm tra bằng Vision API. Xem chi tiết error codes tại [Vision API Safety Error Codes](#vision-api-safety-error-codes-1001-1005).
- **Vertex AI Error Codes (2001-2004):** Được trả về khi Vertex AI Gemini safety filters chặn nội dung trong prompt hoặc generated image. Áp dụng cho các endpoints: \`/faceswap\`, \`/background\`, \`/enhance\`, \`/beauty\`, \`/filter\`, \`/restore\`, \`/aging\`. Xem chi tiết error codes tại [Vertex AI Safety Error Codes](#vertex-ai-safety-error-codes-2001-2004).
- Scan level mặc định: \`strict\` (chặn \`POSSIBLE\`, \`LIKELY\`, và \`VERY_LIKELY\` violations)
- Nếu ảnh không an toàn, file sẽ bị xóa khỏi R2 storage và trả về error code tương ứng
- Error code được trả về trong trường \`code\` của response
- **Giới hạn số lượng selfie:** Mỗi action có giới hạn riêng và tự động xóa ảnh cũ khi vượt quá giới hạn:
  - \`faceswap\`: Tối đa 8 ảnh (có thể cấu hình qua \`SELFIE_MAX_FACESWAP\`)
  - \`wedding\`: Tối đa 2 ảnh (cấu hình qua \`SELFIE_MAX_WEDDING\`)
  - \`4k\`/\`4K\`: Tối đa 1 ảnh (cấu hình qua \`SELFIE_MAX_4K\`)
  - Các action khác: Tối đa 1 ảnh (cấu hình qua \`SELFIE_MAX_OTHER\`)

---

#### 1.2. POST \`/upload-url\` (type=preset) - Upload preset (backend only)

**Mục đích:** Tải ảnh preset trực tiếp lên server và lưu vào database với xử lý tự động (Vision scan, Vertex prompt generation). Endpoint này chỉ được sử dụng bởi backend, không cần test trên mobile.

**Authentication:** Không yêu cầu API key.

**Request:**

**Multipart/form-data:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -F "files=@/path/to/image1.jpg" \\
  -F "files=@/path/to/image2.jpg" \\
  -F "type=preset" \\
  -F "profile_id=profile_1234567890" \\
  -F "enableVertexPrompt=true"
\`\`\`

**JSON với image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "Content-Type: application/json" \\
  -d '{
    "image_url": "https://example.com/image.jpg",
    "type": "preset",
    "profile_id": "profile_1234567890",
    "enableVertexPrompt": true
  }'
\`\`\`

**Request Parameters:**
- \`files\` (file[], required nếu dùng multipart): Mảng file ảnh preset cần upload (hỗ trợ nhiều file).
- \`image_url\` hoặc \`image_urls\` (string/string[], required nếu dùng JSON): URL ảnh preset trực tiếp.
- \`type\` (string, required): Phải là \`"preset"\` cho backend upload.
- \`profile_id\` (string, required): ID profile người dùng.
- \`enableVertexPrompt\` (boolean/string, optional): \`true\` hoặc \`"true"\` để bật tạo prompt Vertex khi upload preset. Sử dụng Vertex AI để phân tích ảnh và tạo prompt_json tự động.
- \`art_style\` (string, optional): Filter art style cho prompt generation. Giá trị: \`auto\` (mặc định), \`photorealistic\`, \`figurine\`, \`popmart\`, \`clay\`, \`disney\`, \`anime\`, \`chibi\`, \`watercolor\`, \`oil_painting\`, \`sketch\`, \`comic\`, \`pixel_art\`, \`cyberpunk\`, \`fantasy\`, \`vintage\`, \`minimalist\`, \`ghibli\`, \`lego\`, \`cartoon\`.

**Response:**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "preset_1234567890_abc123",
        "url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "vertex": [
      {
        "hasPrompt": true,
        "prompt_json": {
          "prompt": "...",
          "style": "...",
          "lighting": "..."
        },
        "vertex_info": {
          "success": true,
          "promptKeys": ["prompt", "style", "lighting"],
          "debug": {
            "endpoint": "https://.../generateContent",
            "status": 200,
            "responseTimeMs": 4200
          }
        }
      }
    ],
    "filesProcessed": 1,
    "resultsCount": 1
  }
}
\`\`\`

---

#### 1.3. POST \`/upload-thumbnails\` - Upload thumbnails (backend only)

**Mục đích:** Tải lên thumbnails (WebP và Lottie JSON) và tự động tạo presets. Hỗ trợ upload file zip chứa tất cả assets hoặc upload từng file riêng lẻ. Mỗi file sẽ trở thành một preset với filename làm preset_id. Vertex AI sẽ tự động phân tích ảnh WebP từ thư mục preset và tạo prompt_json metadata.

**Authentication:** Không yêu cầu API key.

**Upload individual files:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/preset/fs_wonder_f_3.png" \\
  -F "path_preset_fs_wonder_f_3.png=preset/" \\
  -F "files=@/path/to/lottie_1x/fs_wonder_f_3.json" \\
  -F "path_lottie_1x_fs_wonder_f_3.json=lottie_1x/" \\
  -F "files=@/path/to/lottie_avif_2x/fs_wonder_f_3.json" \\
  -F "path_lottie_avif_2x_fs_wonder_f_3.json=lottie_avif_2x/" \\
  -F "art_style=auto"
\`\`\`

**Upload with Art Style Filter (e.g., Pop Mart style):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/preset/popmart_figure.png" \\
  -F "path_popmart_figure.png=preset/" \\
  -F "art_style=popmart"
\`\`\`

**Upload zip file containing all assets:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/thumbnails.zip" \\
  -F "art_style=disney"
\`\`\`

**Supported Art Styles:**
| Style | Description |
|-------|-------------|
| \`auto\` | Auto-detect style (default) |
| \`photorealistic\` | Real photography |
| \`figurine\` | 3D figurine/toy |
| \`popmart\` | Pop Mart blind box |
| \`clay\` | Clay/plasticine animation |
| \`disney\` | Disney/Pixar 3D animation |
| \`anime\` | Japanese anime/manga |
| \`chibi\` | Chibi/super-deformed |
| \`watercolor\` | Watercolor painting |
| \`oil_painting\` | Classical oil painting |
| \`sketch\` | Pencil/charcoal sketch |
| \`comic\` | Western comic book |
| \`pixel_art\` | Retro pixel art |
| \`cyberpunk\` | Cyberpunk/neon futuristic |
| \`fantasy\` | Fantasy/magical illustration |
| \`vintage\` | Vintage/retro photography |
| \`minimalist\` | Minimalist/flat design |
| \`ghibli\` | Studio Ghibli animation |
| \`lego\` | LEGO minifigure |
| \`cartoon\` | General cartoon |

**Cấu trúc thư mục:**
\`\`\`
├── preset/
│   ├── fs_wonder_f_3.png    # Files here get Vertex AI prompt generation
│   └── fs_wonder_m_2.png
├── lottie_1x/
│   ├── fs_wonder_f_3.json   # Thumbnails at 1x resolution
│   └── fs_wonder_m_2.json
├── lottie_1.5x/
│   ├── fs_wonder_f_3.json   # Thumbnails at 1.5x resolution
│   └── fs_wonder_m_2.json
├── lottie_2x/
│   ├── fs_wonder_f_3.json   # Thumbnails at 2x resolution
│   └── fs_wonder_m_2.json
├── lottie_avif_1x/
│   ├── fs_wonder_f_3.json   # AVIF thumbnails at 1x resolution
│   └── fs_wonder_m_2.json
└── [other resolution folders...]
\`\`\`

**Quy tắc đặt tên file:**
- Format: \`[preset_id].[png|webp|json]\`
- Ví dụ: \`fs_wonder_f_3.png\`, \`fs_wonder_m_2.webp\`, \`fireworks_animation.json\`
- Tên file (không bao gồm extension) sẽ trở thành \`preset_id\`
- Vertex AI chỉ phân tích file ảnh từ thư mục "preset" để tạo \`prompt_json\` metadata
- File từ các thư mục resolution khác (lottie_*, lottie_avif_*) là thumbnails, KHÔNG được gửi đến Vertex AI

**Tính năng Vertex AI:**
- Tự động gọi Vertex AI Gemini để phân tích file ảnh từ thư mục "preset"
- Sử dụng \`Promise.all\` để xử lý batch upload và tạo prompt song song
- \`prompt_json\` được lưu trong R2 custom metadata của preset files
- Thumbnails được lưu ở nhiều resolution (1x, 1.5x, 2x, 3x, 4x) trong database
- Chỉ áp dụng cho file ảnh từ thư mục "preset", bỏ qua thumbnails

**Response:**
\`\`\`json
{
  "data": {
    "total": 3,
    "successful": 3,
    "failed": 0,
    "thumbnails_processed": 3,
    "results": [
      {
        "filename": "fs_wonder_f_3.png",
        "success": true,
        "type": "preset",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/presets/fs_wonder_f_3.png",
        "hasPrompt": true,
        "prompt_json": {
          "scene": "wonder woman portrait",
          "style": "heroic",
          "mood": "confident",
          "colors": ["red", "blue", "gold"]
        },
        "vertex_info": {
          "success": true,
          "promptKeys": ["scene", "style", "mood", "colors"]
        },
        "metadata": {
          "format": "webp"
        }
      },
      {
        "filename": "fs_wonder_f_3.json",
        "success": true,
        "type": "thumbnail",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/lottie_1x/fs_wonder_f_3.json",
        "hasPrompt": false,
        "vertex_info": {
          "success": false
        },
        "metadata": {
          "format": "lottie",
          "resolution": "1x"
        }
      },
      {
        "filename": "fs_wonder_f_3.json",
        "success": true,
        "type": "thumbnail",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/lottie_avif_2x/fs_wonder_f_3.json",
        "hasPrompt": false,
        "vertex_info": {
          "success": false
        },
        "metadata": {
          "format": "lottie",
          "resolution": "2x"
        }
      }
    ]
  },
  "status": "success",
  "message": "Processed 3 of 3 files",
  "code": 200,
  "debug": {
    "filesProcessed": 3,
    "resultsCount": 3
  }
}
\`\`\`

---

### 2. AI Processing

#### 2.1. POST \`/faceswap\` - Face Swap

**Mục đích:** Thực hiện face swap giữa ảnh preset và ảnh selfie sử dụng Vertex AI (luôn dùng chế độ Vertex). Hỗ trợ multiple selfies để tạo composite results (ví dụ: wedding photos với cả male và female).

**Lưu ý:** 
- Khác với \`/background\`: FaceSwap thay đổi khuôn mặt trong preset, còn AI Background merge selfie vào preset scene.
- Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**

**Sử dụng selfie_ids (từ database):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890",
    "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Sử dụng selfie_image_urls (URL trực tiếp):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_urls": ["https://example.com/selfie1.jpg", "https://example.com/selfie2.jpg"],
    "profile_id": "profile_1234567890",
    "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Request Parameters:**
- \`preset_image_id\` (string, required): ID ảnh preset đã lưu trong database (format: \`preset_...\`).
- \`selfie_ids\` (array of strings, optional): Mảng các ID ảnh selfie đã lưu trong database (hỗ trợ multiple selfies). Thứ tự: [selfie_chính, selfie_phụ] - selfie đầu tiên sẽ được face swap vào preset, selfie thứ hai (nếu có) sẽ được sử dụng làm tham chiếu bổ sung.
- \`selfie_image_urls\` (array of strings, optional): Mảng các URL ảnh selfie trực tiếp (thay thế cho \`selfie_ids\`). Hỗ trợ multiple selfies. Phải cung cấp \`selfie_ids\` HOẶC \`selfie_image_urls\` (không phải cả hai).
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình (mặc định: "3:4"). Hỗ trợ: "1:1", "3:2", "2:3", "3:4", "4:3", "4:5", "5:4", "9:16", "16:9", "21:9".
- \`additional_prompt\` (string, optional): câu mô tả bổ sung, được nối vào cuối trường \`prompt\` bằng ký tự \`+\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
      "sourceUrls": [
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg",
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg"
      ]
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
      "debug": {
        "endpoint": "https://...",
        "status": 200,
        "durationMs": 843
      }
    },
    "vertex": {
      "prompt": { "...": "..." },
      "debug": {
        "endpoint": "https://.../generateContent",
        "status": 200,
        "durationMs": 5180,
        "requestPayload": {
          "promptLength": 746,
          "imageBytes": 921344
        }
      }
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_..."
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.2. POST \`/background\` - AI Background

**Mục đích:** Tạo ảnh mới bằng cách merge selfie (người) vào preset (cảnh nền) sử dụng AI. Selfie sẽ được đặt vào preset scene một cách tự nhiên với nền AI được tạo tự động. Hỗ trợ 3 cách cung cấp nền: preset_image_id (từ database), preset_image_url (URL trực tiếp), hoặc custom_prompt (tạo nền từ text prompt sử dụng Vertex AI).

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**

**Sử dụng selfie_id (từ database):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "additional_prompt": "Make the person look happy and relaxed",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Sử dụng selfie_image_url (URL trực tiếp):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_url": "https://example.com/selfie.png",
    "profile_id": "profile_1234567890",
    "additional_prompt": "Make the person look happy and relaxed",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Sử dụng custom_prompt (tạo nền từ text prompt với Vertex AI):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "custom_prompt": "A beautiful sunset beach scene with palm trees and golden sand",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "additional_prompt": "Make the person look happy and relaxed",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Sử dụng custom_prompt với selfie_image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "custom_prompt": "A futuristic cityscape at night with neon lights and flying cars",
    "selfie_image_url": "https://example.com/selfie.png",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Lưu ý về custom_prompt:**
- Khi sử dụng \`custom_prompt\`, hệ thống sẽ thực hiện 2 bước:
  1. **Tạo ảnh nền**: Sử dụng Vertex AI Gemini để tạo ảnh nền từ text prompt
  2. **Merge selfie**: Tự động merge selfie vào ảnh nền vừa tạo với lighting và color grading phù hợp
- \`custom_prompt\` không thể kết hợp với \`preset_image_id\` hoặc \`preset_image_url\` (chỉ chọn một trong ba)
- \`aspect_ratio\` và \`model\` sẽ được áp dụng cho cả việc tạo nền và merge
- \`additional_prompt\` chỉ ảnh hưởng đến bước merge, không ảnh hưởng đến việc tạo nền

**Request Parameters:**
- \`preset_image_id\` (string, optional): ID ảnh preset (landscape scene) đã lưu trong database (format: \`preset_...\`). Phải cung cấp \`preset_image_id\` HOẶC \`preset_image_url\` HOẶC \`custom_prompt\` (chỉ một trong ba).
- \`preset_image_url\` (string, optional): URL ảnh preset trực tiếp (thay thế cho \`preset_image_id\`). Phải cung cấp \`preset_image_id\` HOẶC \`preset_image_url\` HOẶC \`custom_prompt\` (chỉ một trong ba).
- \`custom_prompt\` (string, optional): Prompt tùy chỉnh để tạo ảnh nền từ text sử dụng Vertex AI (thay thế cho preset image). Khi sử dụng \`custom_prompt\`, hệ thống sẽ:
  1. Tạo ảnh nền từ text prompt bằng Vertex AI Gemini
  2. Merge selfie vào ảnh nền đã tạo
  Phải cung cấp \`preset_image_id\` HOẶC \`preset_image_url\` HOẶC \`custom_prompt\` (chỉ một trong ba).
- \`selfie_id\` (string, optional): ID ảnh selfie đã lưu trong database (người). Phải cung cấp \`selfie_id\` HOẶC \`selfie_image_url\` (không phải cả hai).
- \`selfie_image_url\` (string, optional): URL ảnh selfie trực tiếp (thay thế cho \`selfie_id\`).
- \`profile_id\` (string, required): ID profile người dùng.
- \`additional_prompt\` (string, optional): Câu mô tả bổ sung cho việc merge (ví dụ: "Make the person look happy", "Adjust lighting to match sunset"). Chỉ áp dụng cho bước merge, không ảnh hưởng đến việc tạo nền từ \`custom_prompt\`.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Các giá trị hỗ trợ: \`"original"\`, \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. Mặc định: \`"3:4"\`. Khi sử dụng \`custom_prompt\`, tỷ lệ này sẽ được áp dụng cho cả việc tạo nền và merge.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg",
      "selfieUrl": "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png"
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_1234567890_abc123"
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.3. POST \`/enhance\` - AI Enhance

**Mục đích:** AI enhance ảnh - cải thiện chất lượng, độ sáng, độ tương phản và chi tiết của ảnh.

**Lưu ý:** 
- Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.
- Các endpoints không phải faceswap (\`/enhance\`, \`/beauty\`, \`/filter\`, \`/restore\`, \`/aging\`, \`/background\`) hỗ trợ giá trị \`"original"\` cho \`aspect_ratio\`.
- Khi \`aspect_ratio\` là \`"original"\` hoặc không được cung cấp, hệ thống sẽ tự động:
  1. Lấy kích thước (width/height) từ ảnh input
  2. Tính toán tỷ lệ khung hình thực tế
  3. Chọn tỷ lệ gần nhất trong danh sách hỗ trợ của Vertex AI
  4. Sử dụng tỷ lệ đó để generate ảnh
- Điều này đảm bảo ảnh kết quả giữ được tỷ lệ gần với ảnh gốc thay vì mặc định về 1:1.
- **Các giá trị hỗ trợ:** \`"original"\`, \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. Mặc định: \`"original"\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/enhance \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ảnh cần enhance.
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg"
  },
  "status": "success",
  "message": "Image enhancement completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Enhancement completed"
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.4. POST \`/beauty\` - AI Beauty

**Mục đích:** AI beautify ảnh - cải thiện thẩm mỹ khuôn mặt (lý tưởng cho selfies và chân dung). Làm mịn da, xóa mụn, làm sáng mắt, tinh chỉnh khuôn mặt một cách tự nhiên.

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/beauty \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ảnh cần beautify.
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/beauty_123.jpg"
  },
  "status": "success",
  "message": "Image beautification completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Beautification completed"
    }
  }
}
\`\`\`

**Tính năng AI Beauty:**
- Làm mịn da (smooth skin)
- Xóa mụn và vết thâm (removes blemishes/acne)
- Đều màu da (evens skin tone)
- Làm thon mặt và đường viền hàm một cách tinh tế (slims face/jawline subtly)
- Làm sáng mắt (brightens eyes)
- Tăng cường môi và lông mày (enhances lips and eyebrows)
- Mở rộng mắt nhẹ (enlarges eyes slightly, optional)
- Làm mềm hoặc chỉnh hình mũi (softens or reshapes nose)
- Tự động điều chỉnh makeup (adjusts makeup automatically)

**Lưu ý:** AI Beauty tập trung vào cải thiện thẩm mỹ khuôn mặt, khác với AI Enhance (cải thiện chất lượng kỹ thuật như độ sắc nét, giảm nhiễu).

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.5. POST \`/filter\` - AI Filter (Styles)

**Mục đích:** AI Filter (Styles) - Áp dụng các style sáng tạo hoặc điện ảnh từ preset lên selfie trong khi giữ nguyên tính toàn vẹn khuôn mặt. Sử dụng prompt_json từ preset để áp dụng style.

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/filter \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
    "additional_prompt": "Add dramatic lighting"
  }'
\`\`\`

**Hoặc sử dụng selfie_image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/filter \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_url": "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png",
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Request Parameters:**
- \`preset_image_id\` (string, required): ID preset đã lưu trong database (format: \`preset_...\`). Preset phải có prompt_json.
- \`selfie_id\` (string, optional): ID selfie đã lưu trong database. Bắt buộc nếu không có \`selfie_image_url\`.
- \`selfie_image_url\` (string, optional): URL ảnh selfie trực tiếp. Bắt buộc nếu không có \`selfie_id\`.
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: \`"original"\`.
- \`additional_prompt\` (string, optional): Prompt bổ sung để tùy chỉnh style.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/filter_123.jpg"
  },
  "status": "success",
  "message": "Style filter applied successfully",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Filter applied"
    }
  }
}
\`\`\`

**Tính năng AI Filter:**
- Đọc prompt_json từ preset (chứa thông tin về style, lighting, composition, camera, background)
- Áp dụng style sáng tạo/điện ảnh từ preset lên selfie
- Giữ nguyên 100% khuôn mặt, đặc điểm, cấu trúc xương, màu da
- Chỉ thay đổi style, môi trường, ánh sáng, màu sắc, và mood hình ảnh
- Hỗ trợ additional_prompt để tùy chỉnh thêm

**Lưu ý:**
- Preset phải có prompt_json (được tạo tự động khi upload preset với \`enableVertexPrompt=true\`)
- Nếu preset chưa có prompt_json, API sẽ tự động generate từ preset image
- Khác với \`/faceswap\`: Filter giữ nguyên khuôn mặt và chỉ áp dụng style, không thay đổi khuôn mặt

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.6. POST \`/restore\` - AI Restore

**Mục đích:** AI khôi phục và nâng cấp ảnh - phục hồi ảnh bị hư hỏng, cũ, mờ, hoặc đen trắng thành ảnh chất lượng cao với màu sắc sống động.

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/restore \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ảnh cần khôi phục (ảnh cũ, bị hư hỏng, mờ, hoặc đen trắng).
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/restore_123.jpg"
  },
  "status": "success",
  "message": "Image restoration completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Restoration completed"
    }
  }
}
\`\`\`

**Tính năng AI Restore:**
- Khôi phục ảnh bị hư hỏng (fix scratches, tears, noise, blurriness)
- Chuyển đổi ảnh đen trắng thành màu với màu sắc sống động
- Nâng cấp chất lượng lên 16K DSLR quality
- Tăng cường chi tiết (face, eyes, hair, clothing)
- Thêm ánh sáng, bóng đổ, và độ sâu trường ảnh thực tế
- Retouching chuyên nghiệp cấp Photoshop
- High dynamic range, ultra-HD, lifelike textures

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.7. POST \`/aging\` - AI Aging

**Mục đích:** AI lão hóa khuôn mặt - tạo phiên bản già hơn của khuôn mặt trong ảnh.

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/aging \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "age_years": 20,
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ảnh chứa khuôn mặt cần lão hóa.
- \`age_years\` (number, optional): Số năm muốn lão hóa (mặc định: 20).
- \`profile_id\` (string, required): ID profile người dùng.
- \`aspect_ratio\` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg"
  },
  "status": "success",
  "message": "Aging transformation completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Aging completed"
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.8. POST \`/upscaler4k\` - AI Upscale 4K

**Mục đích:** Upscale ảnh lên độ phân giải 4K sử dụng WaveSpeed AI.

**Lưu ý:** Endpoint này yêu cầu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upscaler4k \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ảnh cần upscale.
- \`profile_id\` (string, required): ID profile người dùng.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
  },
  "status": "success",
  "message": "Upscaling completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Upscaler4K image upscaling completed",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
    },
    "vertex": {
      "debug": {
        "endpoint": "https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler",
        "status": 200,
        "durationMs": 5000
      }
    },
    "inputSafety": {
      "checked": true,
      "isSafe": true
    },
    "outputSafety": {
      "checked": true,
      "isSafe": true
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

### 3. Quản lý Profile

#### 3.1. POST \`/profiles\` - Tạo profile

**Mục đích:** Tạo profile mới.

**Authentication:** Yêu cầu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**

**Minimal (chỉ cần device_id):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz"
  }'
\`\`\`

**Full request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "userID": "profile_1234567890",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}"
  }'
\`\`\`

**Với preferences dạng object:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": {
      "theme": "dark",
      "language": "vi"
    }
  }'
\`\`\`

**Hoặc gửi device_id qua header:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -H "x-device-id: device_1765774126587_yaq0uh6rvz" \\
  -d '{
    "name": "John Doe",
    "email": "john@example.com"
  }'
\`\`\`

**Request Parameters:**
- \`device_id\` (string, optional): ID thiết bị. Có thể gửi trong body hoặc header \`x-device-id\`. Nếu không có, sẽ là \`null\`.
- \`userID\` hoặc \`id\` (string, optional): ID profile. Nếu không có, hệ thống tự tạo bằng \`nanoid(16)\`.
- \`name\` (string, optional): tên profile.
- \`email\` (string, optional): email.
- \`avatar_url\` (string, optional): URL avatar.
- \`preferences\` (string hoặc object, optional): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trước khi lưu vào D1 database (vì D1 không hỗ trợ JSON object trực tiếp).

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T04:48:47.676Z"
  },
  "status": "success",
  "message": "Profile created successfully",
  "code": 200,
  "debug": {
    "profileId": "uYNgRR70Ry9OFuMV",
    "deviceId": "device_1765774126587_yaq0uh6rvz"
  }
}
\`\`\`

---

#### 3.2. GET \`/profiles/{id}\` - Lấy profile

**Mục đích:** Lấy thông tin profile theo ID.

**Authentication:** Yêu cầu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/profiles/profile_1234567890 \\
  -H "X-API-Key: your_api_key_here"
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T04:48:47.676Z"
  },
  "status": "success",
  "message": "Profile retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 3.3. PUT \`/profiles/{id}\` - Cập nhật profile

**Mục đích:** Cập nhật thông tin profile.

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl -X PUT https://api.d.shotpix.app/profiles/profile_1234567890 \\
  -H "Content-Type: application/json" \\
  -d '{
    "name": "John Doe Updated",
    "email": "john.updated@example.com",
    "avatar_url": "https://example.com/new-avatar.jpg",
    "preferences": {
      "theme": "light",
      "language": "en"
    }
  }'
\`\`\`

**Request Parameters:**
- \`name\` (string, optional): tên profile.
- \`email\` (string, optional): email.
- \`avatar_url\` (string, optional): URL avatar.
- \`preferences\` (string hoặc object, optional): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trước khi lưu vào D1 database (vì D1 không hỗ trợ JSON object trực tiếp).

**Lưu ý:** ID profile phải được cung cấp trong URL path (\`/profiles/{id}\`), không cần gửi trong body.

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe Updated",
    "email": "john.updated@example.com",
    "avatar_url": "https://example.com/new-avatar.jpg",
    "preferences": "{\\"theme\\":\\"light\\",\\"language\\":\\"en\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T05:00:00.000Z"
  },
  "status": "success",
  "message": "Profile updated successfully",
  "code": 200
}
\`\`\`

---

#### 3.4. GET \`/profiles\` - Liệt kê profiles

**Mục đích:** Liệt kê tất cả profiles (dùng cho admin/debugging).

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/profiles
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "profiles": [
      {
        "id": "uYNgRR70Ry9OFuMV",
        "device_id": "device_1765774126587_yaq0uh6rvz",
        "name": "John Doe",
        "email": "john@example.com",
        "avatar_url": "https://example.com/avatar.jpg",
        "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
        "created_at": "2025-12-15T04:48:47.676Z",
        "updated_at": "2025-12-15T04:48:47.676Z"
      }
    ]
  },
  "status": "success",
  "message": "Profiles retrieved successfully",
  "code": 200
}
\`\`\`

---

### 4. Truy vấn Dữ liệu

#### 4.1. GET \`/presets\` - Liệt kê presets

**Mục đích:** Trả về danh sách preset trong database.

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/presets
curl https://api.d.shotpix.app/presets?include_thumbnails=true
\`\`\`

**Query Parameters:**
- \`include_thumbnails\` (optional): \`true\` để bao gồm cả presets có thumbnail. Mặc định chỉ trả về presets không có thumbnail.

**Response:**
\`\`\`json
{
  "data": {
    "presets": [
      {
        "id": "preset_1234567890_abc123",
        "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "hasPrompt": true,
        "prompt_json": null,
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
        "thumbnail_format": "webp",
        "thumbnail_resolution": "1x",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Presets retrieved successfully",
  "code": 200,
  "debug": {
    "count": 1
  }
}
\`\`\`

---

#### 4.2. GET \`/presets/{id}\` - Lấy preset theo ID

**Mục đích:** Lấy thông tin chi tiết của một preset theo ID (bao gồm \`prompt_json\`).

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "id": "preset_1234567890_abc123",
    "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "hasPrompt": true,
    "prompt_json": {
      "prompt": "...",
      "style": "...",
      "lighting": "..."
    },
    "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
    "thumbnail_format": "webp",
    "thumbnail_resolution": "1x",
    "created_at": "2024-01-01T00:00:00.000Z"
  },
  "status": "success",
  "message": "Preset retrieved successfully",
  "code": 200,
  "debug": {
    "presetId": "preset_1234567890_abc123",
    "hasPrompt": true
  }
}
\`\`\`

---

#### 4.3. DELETE \`/presets/{id}\` - Xóa preset

**Mục đích:** Xóa preset khỏi D1 và R2.

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Preset deleted successfully",
  "code": 200
}
\`\`\`

---

#### 4.4. GET \`/selfies\` - Liệt kê selfies

**Mục đích:** Trả về tối đa 50 selfie gần nhất của một profile. Endpoint này được sử dụng bởi mobile app để lấy danh sách selfies đã upload.

**Authentication:** Không yêu cầu API key (có thể được bật trong tương lai).

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/selfies?profile_id=profile_1234567890
\`\`\`

**Query Parameters:**
- \`profile_id\` (required): ID profile.
- \`limit\` (optional): Số lượng selfies tối đa trả về (1-50). Mặc định: 50.

**Response:**
\`\`\`json
{
  "data": {
    "selfies": [
      {
        "id": "selfie_1234567890_xyz789",
        "selfie_url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "action": "faceswap",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Selfies retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 4.5. DELETE \`/selfies/{id}\` - Xóa selfie

**Mục đích:** Xóa selfie khỏi D1 và R2.

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Selfie deleted successfully",
  "code": 200,
  "debug": {
    "selfieId": "selfie_1234567890_xyz789",
    "r2Deleted": true,
    "r2Error": null
  }
}
\`\`\`

---

#### 4.6. GET \`/results\` - Liệt kê results

**Mục đích:** Trả về tối đa 50 kết quả generated images (face swap, background, enhance, beauty, filter, restore, aging, upscaler4k) gần nhất. Endpoint này được sử dụng bởi mobile app để lấy danh sách các ảnh đã được tạo.

**Authentication:** Không yêu cầu API key (có thể được bật trong tương lai).

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/results
curl https://api.d.shotpix.app/results?profile_id=profile_1234567890
\`\`\`

**Query Parameters:**
- \`profile_id\` (optional): ID profile để lọc kết quả.
- \`limit\` (optional): Số lượng results tối đa trả về (1-50). Mặc định: 50.

**Response:**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "result_1234567890_abc123",
        "result_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "profile_id": "profile_1234567890",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Results retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 4.7. DELETE \`/results/{id}\` - Xóa result

**Mục đích:** Xóa kết quả khỏi D1 và R2.

**Authentication:** Yêu cầu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/results/result_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Result deleted successfully",
  "code": 200,
  "debug": {
    "resultId": "result_1234567890_abc123",
    "databaseDeleted": 1,
    "r2Deleted": true,
    "r2Key": "results/result_123.jpg",
    "r2Error": null
  }
}
\`\`\`

---

#### 4.8. GET \`/thumbnails\` - Liệt kê thumbnails

**Mục đích:** Lấy danh sách thumbnails từ database. Trả về tất cả presets có thumbnail (bất kỳ cột thumbnail nào không null).

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/thumbnails
\`\`\`

**Query Parameters:**
- Không có query parameters. Endpoint trả về tất cả presets có thumbnail.

**Lưu ý:** Endpoint này query từ bảng \`presets\` với điều kiện \`thumbnail_r2\` không null và không rỗng. Dữ liệu thumbnail được lưu dưới dạng JSON object trong trường \`thumbnail_r2\`.

**Response:**
\`\`\`json
{
  "data": {
    "thumbnails": [
      {
        "id": "fs_wonder_f_3",
        "ext": "png",
        "thumbnail_r2": "{\\"webp_1x\\":\\"webp_1x/fs_wonder_f_3.webp\\",\\"lottie_1x\\":\\"lottie_1x/fs_wonder_f_3.json\\",\\"lottie_avif_2x\\":\\"lottie_avif_2x/fs_wonder_f_3.json\\"}",
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp",
        "thumbnail_url_1x": "https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp",
        "thumbnail_url_1_5x": null,
        "thumbnail_url_2x": null,
        "thumbnail_url_3x": null,
        "thumbnail_url_4x": null,
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Thumbnails retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** Response trả về tất cả các cột thumbnail resolution (1x, 1.5x, 2x, 3x) từ database. \`thumbnail_url\` là alias của \`thumbnail_url_1x\` cho backward compatibility.

---

#### 4.9. GET \`/thumbnails/{id}/preset\` - Lấy preset_id từ thumbnail_id

**Mục đích:** Lấy preset_id từ thumbnail_id (dùng cho mobile app).

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "preset_id": "preset_1234567890_abc123"
  },
  "status": "success",
  "message": "Preset ID retrieved successfully",
  "code": 200
}
\`\`\`

---

### 5. Hệ thống & Cấu hình

#### 5.1. GET \`/config\` - Lấy config

**Mục đích:** Lấy cấu hình public của Worker (custom domains).

**Authentication:** Không yêu cầu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/config
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "backendDomain": "https://api.d.shotpix.app",
    "r2Domain": "https://resources.d.shotpix.app",
    "kvCache": {
      "available": true,
      "test": "success",
      "details": {
        "bindingName": "PROMPT_CACHE_KV",
        "envKeys": ["PROMPT_CACHE_KV_BINDING_NAME", "..."]
      }
    }
  },
  "status": "success",
  "message": "Config retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 5.2. OPTIONS \`/*\` - CORS preflight requests

**Mục đích:** Xử lý CORS preflight requests cho tất cả các endpoints. Tự động được gọi bởi trình duyệt khi thực hiện cross-origin requests.

**Authentication:** Không yêu cầu API key.

**Response:**

Trả về HTTP 204 (No Content) với các headers CORS:
- \`Access-Control-Allow-Origin\`: Cho phép tất cả origins
- \`Access-Control-Allow-Methods\`: GET, POST, PUT, DELETE, OPTIONS
- \`Access-Control-Allow-Headers\`: Content-Type, Authorization, X-API-Key, và các headers khác
- \`Access-Control-Max-Age\`: 86400 (24 giờ)

Endpoint \`/upload-proxy/*\` có hỗ trợ thêm method PUT trong CORS headers.

---

## Tổng kết

**Tổng số API endpoints: 26**

Xem danh sách đầy đủ tại [APIs cần tích hợp với mobile](#apis-cần-tích-hợp-với-mobile-14-apis) ở đầu tài liệu.

---

## Custom Domain

- **Worker API Domain**: \`https://api.d.shotpix.app\` - Dùng cho tất cả API endpoints
- **R2 Public Domain**: \`https://resources.d.shotpix.app\` - Dùng cho public URLs của files trong R2 bucket
- Format R2 public URL: \`https://resources.d.shotpix.app/{bucket-name}/{key}\`
`,
      'REQUIREMENTS.md': `# Face Swap AI - Requirements

## Overview
A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The application uses Cloudflare Workers for backend API, Cloudflare R2 for image storage, and Cloudflare D1 for database storage.

## Frontend Structure

### File Organization
- \`index.html\` - Main HTML structure with inline CSS and JavaScript

### UI Layout
- Main workspace: Two-column grid layout
  - Left column: Preset section (top) and Selfie section (bottom)
  - Right column: Result image (spans both rows, large display)
- Bottom section: Results history gallery
- Both preset and selfie have identical UI: Upload area + Gallery for selection

## UI/UX Design Guide

### Design Principles
- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.
- **Clarity**: Users should understand what to do without reading instructions.
- **Efficiency**: Minimize clicks and steps to complete tasks.
- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.
- **Feedback**: Always provide clear visual feedback for user actions.

### Layout Structure

#### Main Container
- Max width: 1200px (centered on large screens)
- Padding: 24px on desktop, 16px on mobile
- Background: #FFFFFF (white) or #FAFAFA (very light gray)
- Border radius: 0px (sharp, professional edges)

#### Main Workspace - Two Column Grid
- **Layout**: CSS Grid with 2 columns
- **Left Column** (40% width):
  - **Preset Section** (top row):
    - Upload area with drag & drop
    - Gallery grid below for selecting existing presets
    - Selected preset preview (large, prominent)
  - **Selfie Section** (bottom row):
    - Upload area with drag & drop (identical to preset)
    - Gallery grid below for selecting existing selfies
    - Selected selfie preview (large, prominent)
  - Gap between sections: 24px
- **Right Column** (60% width):
  - **Result Image Display** (spans both rows):
    - Large preview area (min-height: 600px)
    - Shows generated face swap result
    - Empty state: "Result will appear here"
    - Centered, object-fit: contain
- **Gap between columns**: 24px
- **Generate Button**: Full width below the grid, centered

#### Bottom Section - Results History
- Full width grid layout
- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile
- Gap: 16px between items

### Color Palette

#### Primary Colors
- **Primary**: #2563EB (Blue 600) - Main actions, selected states
- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover
- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds

#### Neutral Colors
- **Background**: #FFFFFF (White)
- **Surface**: #F9FAFB (Gray 50) - Card backgrounds
- **Border**: #E5E7EB (Gray 200) - Dividers, borders
- **Text Primary**: #111827 (Gray 900) - Main text
- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels

#### Status Colors
- **Success**: #10B981 (Green 500) - Success messages, completed states
- **Error**: #EF4444 (Red 500) - Error messages, warnings
- **Warning**: #F59E0B (Amber 500) - Warnings
- **Info**: #3B82F6 (Blue 500) - Informational messages

### Typography

#### Font Family
- **Primary**: System font stack: \`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\`
- **Monospace**: \`'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace\` (for filenames only)

#### Font Sizes
- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight
- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight
- **Body**: 16px / 1.5 line-height / 400 weight
- **Small**: 14px / 1.4 line-height / 400 weight
- **Caption**: 12px / 1.3 line-height / 400 weight

#### Text Hierarchy
- Page title: H1, centered or left-aligned
- Section headers: H2, left-aligned with 24px margin-bottom
- Labels: Small, Text Secondary color, 8px margin-bottom
- Body text: Body size, Text Primary color

### Spacing System
- Use 4px base unit for consistent spacing
- **XS**: 4px (tight spacing)
- **S**: 8px (small gaps)
- **M**: 16px (default spacing)
- **L**: 24px (section spacing)
- **XL**: 32px (large sections)
- **XXL**: 48px (major sections)

### Component Specifications

#### Upload Areas
- **Container**: 
  - Background: #FFFFFF
  - Border: 2px dashed #D1D5DB (Gray 300)
  - Border radius: 8px
  - Padding: 32px
  - Min height: 200px
  - Display: flex, column, center, align-items center
  - Cursor: pointer
  - Transition: border-color 0.2s ease

- **Hover State**:
  - Border color: #2563EB (Primary)
  - Background: #F9FAFB (subtle highlight)

- **Drag Over State**:
  - Border color: #2563EB (Primary)
  - Background: #DBEAFE (Primary Light)
  - Border style: solid

- **Icon/Illustration**:
  - Size: 48px × 48px
  - Color: #9CA3AF (Gray 400)
  - Margin-bottom: 12px

- **Text**:
  - Primary: "Click to upload or drag and drop"
  - Font: Body, Text Primary
  - Margin-bottom: 4px

- **Subtext**:
  - "JPG, PNG, WebP (max 10MB)"
  - Font: Small, Text Secondary

- **File Input**:
  - Hidden (display: none)
  - Triggered by container click

#### Selected Image Preview (Preset/Selfie)
- **Container**:
  - Position: relative
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6 (Gray 100)
  - Min height: 300px
  - Max height: 400px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Border: 2px solid #E5E7EB
  - Margin-top: 16px

- **Image**:
  - Width: 100%
  - Height: 100%
  - Max height: 400px
  - Object-fit: contain (show full image without cropping)
  - Display: block

- **Label**:
  - Position: absolute, top-left
  - Background: rgba(0, 0, 0, 0.7)
  - Color: #FFFFFF
  - Padding: 8px 12px
  - Border-radius: 0 0 8px 0
  - Font: Small, 600 weight
  - Text: "Selected Preset" or "Selected Selfie"

- **Delete Button**:
  - Position: absolute, top-right corner
  - Size: 36px × 36px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: × (close/delete, 20px, white)
  - Z-index: 10
  - Transition: background-color 0.2s ease, transform 0.2s ease
  - Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)
  - Click: Show confirmation dialog before deletion

#### Result Image Display
- **Container**:
  - Background: #F9FAFB (Surface)
  - Border: 2px solid #E5E7EB
  - Border radius: 8px
  - Min height: 600px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Position: relative
  - Grid-row: span 2 (spans both preset and selfie rows)

- **Image** (when result exists):
  - Max width: 100%
  - Max height: 100%
  - Object-fit: contain (show full image)
  - Border radius: 8px

- **Empty State**:
  - Text: "Result will appear here"
  - Font: Body, Text Secondary
  - Icon: 64px × 64px, Gray 300
  - Centered vertically and horizontally

#### Gallery Grid (Preset/Selfie Selection)
- **Container**:
  - Display: grid
  - Gap: 12px
  - Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))
  - Max columns: 3 on desktop (fits in left column)
  - Max height: 200px
  - Overflow-y: auto
  - Margin-top: 16px
  - Padding: 8px
  - Background: #F9FAFB
  - Border-radius: 8px

- **Gallery Item**:
  - Aspect ratio: 1:1 (square)
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6
  - Border: 2px solid transparent
  - Cursor: pointer
  - Transition: transform 0.2s ease, border-color 0.2s ease
  - Position: relative

- **Selected State**:
  - Border color: #2563EB (Primary)
  - Border width: 3px
  - Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)

- **Hover State**:
  - Transform: scale(1.02)
  - Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)

- **Image**:
  - Width: 100%
  - Height: 100%
  - Object-fit: cover
  - Display: block

- **Delete Button** (Gallery Item):
  - Position: absolute, top-right corner
  - Size: 24px × 24px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: × (close/delete, 14px, white)
  - Z-index: 10
  - Opacity: 0 (hidden by default)
  - Transition: opacity 0.2s ease, background-color 0.2s ease
  - Hover (on gallery item): Opacity: 1
  - Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)
  - Click: Show confirmation dialog, prevent event propagation (don't select item)

#### Buttons

##### Primary Button (Generate)
- **Default**:
  - Background: #2563EB (Primary)
  - Color: #FFFFFF
  - Padding: 12px 24px
  - Border: none
  - Border radius: 6px
  - Font: Body, 600 weight
  - Width: 100% (on mobile), auto (on desktop)
  - Min width: 200px
  - Cursor: pointer
  - Transition: background-color 0.2s ease

- **Hover**:
  - Background: #1D4ED8 (Primary Hover)

- **Disabled**:
  - Background: #D1D5DB (Gray 300)
  - Color: #9CA3AF (Gray 400)
  - Cursor: not-allowed

- **Loading**:
  - Show spinner icon (16px) + text
  - Disable interaction

##### Secondary Button (Reset/Clear)
- Background: transparent
- Color: #6B7280 (Text Secondary)
- Border: 1px solid #E5E7EB
- Same padding and sizing as primary
- Hover: Background #F9FAFB

#### Status Messages
- **Container**:
  - Padding: 12px 16px
  - Border radius: 6px
  - Margin: 8px 0
  - Font: Small
  - Display: flex
  - Align-items: center
  - Gap: 8px

- **Success**:
  - Background: #D1FAE5 (Green 100)
  - Color: #065F46 (Green 800)
  - Icon: ✓ (checkmark)

- **Error**:
  - Background: #FEE2E2 (Red 100)
  - Color: #991B1B (Red 800)
  - Icon: ✕ (cross)

- **Info**:
  - Background: #DBEAFE (Blue 100)
  - Color: #1E40AF (Blue 800)
  - Icon: ℹ (info)

#### Loading Spinner
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 9999

- **Spinner Container**:
  - Background: #FFFFFF
  - Padding: 32px
  - Border radius: 8px
  - Text-align: center
  - Min-width: 200px

- **Spinner**:
  - Size: 40px × 40px
  - Border: 3px solid #E5E7EB
  - Border-top: 3px solid #2563EB
  - Border radius: 50%
  - Animation: spin 0.8s linear infinite
  - Margin: 0 auto 16px

- **Text**:
  - Font: Body, Text Primary
  - Margin-top: 12px

#### Confirmation Dialog
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 10000

- **Dialog Container**:
  - Background: #FFFFFF
  - Padding: 24px
  - Border radius: 8px
  - Min-width: 320px
  - Max-width: 400px
  - Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)

- **Title**:
  - Font: H2 (20px, 600 weight)
  - Color: Text Primary
  - Margin-bottom: 12px

- **Message**:
  - Font: Body (16px)
  - Color: Text Secondary
  - Margin-bottom: 24px
  - Line-height: 1.5

- **Button Container**:
  - Display: flex
  - Gap: 12px
  - Justify-content: flex-end

- **Cancel Button**:
  - Background: transparent
  - Color: Text Secondary
  - Border: 1px solid #E5E7EB
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #F9FAFB

- **Confirm Button** (Delete):
  - Background: #EF4444 (Red 500)
  - Color: #FFFFFF
  - Border: none
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #DC2626 (Red 600)

### User Flow

#### Primary Flow: Generate Face Swap
1. **Select/Upload Preset** (left column, top)
   - Option A: Upload new preset
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." → "Uploaded" or "Already exists"
     - Gallery refreshes to show new preset
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected preset shows in large preview area
     - Visual feedback: Selected border on thumbnail

2. **Select/Upload Selfie** (left column, bottom)
   - Option A: Upload new selfie
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." → "Uploaded" or "Already exists"
     - Gallery refreshes to show new selfie
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected selfie shows in large preview area
     - Visual feedback: Selected border on thumbnail

3. **Generate Button Enabled**
   - Visual feedback: Button changes from disabled to active
   - Both large previews visible in left column
   - Right column shows empty state

4. **Click Generate**
   - Loading overlay appears
   - Button disabled
   - Status: "Processing face swap..."

5. **Result Display**
   - Loading overlay disappears
   - Result image appears in large right column (spans both rows)
   - Success message: "Face swap completed"
   - Result added to history gallery below

### Responsive Design

#### Breakpoints
- **Mobile**: < 768px
  - Single column layout (stack preset, selfie, result vertically)
  - Full-width buttons
  - 2-column gallery grid for presets/selfies
  - Reduced padding (16px)
  - Result image: Full width, normal height

- **Tablet**: 768px - 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Standard padding (24px)
  - Result image: Spans both rows

- **Desktop**: > 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Max-width container (1200px)
  - Result image: Large display, spans both rows

### Accessibility

#### Keyboard Navigation
- All interactive elements must be keyboard accessible
- Tab order: Upload areas → Gallery items → Generate button → Results
- Enter/Space to activate buttons and select items
- Focus indicators: 2px solid outline in Primary color

#### Screen Readers
- All images must have alt text
- Buttons must have descriptive labels
- Status messages must be announced
- Loading states must be announced

#### Visual Accessibility
- Color contrast: Minimum 4.5:1 for text
- Focus indicators: Clear and visible
- Error states: Use icons + text, not just color
- Touch targets: Minimum 44px × 44px

### Performance Considerations
- Lazy load gallery images (use loading="lazy")
- Optimize images before upload (client-side compression if possible)
- Show skeleton loaders while fetching data
- Debounce search/filter inputs if added later
- Cache gallery images in browser

### Error States

#### Upload Errors
- Network error: "Upload failed. Please check your connection and try again."
- File too large: "File exceeds 10MB limit. Please choose a smaller file."
- Invalid format: "Invalid file type. Please upload JPG, PNG, or WebP."
- Duplicate: "This image already exists. Using existing version."

#### Generation Errors
- API error: "Face swap failed. Please try again."
- Timeout: "Request timed out. Please try again."
- Invalid images: "Could not process images. Please ensure both images contain faces."

### Empty States
- **No Presets Gallery**: "No presets yet. Upload your first preset above."
- **No Selfies Gallery**: "No selfies yet. Upload your first selfie above."
- **No Results History**: "No results yet. Generate your first face swap to see it here."
- **Result Display Empty**: "Result will appear here"
- Use subtle illustration or icon (48px, Gray 300)
- Text: Small, Text Secondary, centered

## Backend API Endpoints


### Backend Database Schema
- \`presets\` table: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`thumbnail_r2_key\`, \`created_at\`
- \`selfies\` table: \`id\`, \`image_url\`, \`profile_id\`, \`created_at\`
- \`results\` table: \`id\`, \`preset_name\`, \`result_url\`, \`profile_id\`, \`created_at\`

**Lưu ý:**
- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database
- Thumbnails được lưu trong cùng row với preset (same-row approach)

### Endpoints

#### GET \`/presets\`
- Returns: \`{ presets: [...] }\`
- Each preset contains: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`created_at\`
- Query params: \`include_thumbnails\` (optional, default: false) - bao gồm presets có thumbnail
- Presets are stored as individual entries (no collections)
- Backend queries database and returns all presets

#### GET \`/selfies\`
- Returns: \`{ selfies: [...] }\`
- Each selfie contains: \`id\`, \`selfie_url\` (full URL), \`action\`, \`created_at\`
- Selfies are stored as individual entries
- Backend queries database and returns all selfies
- **Lưu ý**: \`selfie_url\` trong database chỉ lưu bucket key, API tự động assemble full URL từ \`R2_DOMAIN\` khi trả về

#### DELETE \`/presets/:id\`
- Path parameter: \`id\` (preset ID)
- Backend logic:
  1. Find preset by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`presets\` table
  4. Return \`{ success: true, message: "Preset deleted" }\`
- Error handling: Return 404 if preset not found, 500 on deletion failure

#### DELETE \`/selfies/:id\`
- Path parameter: \`id\` (selfie ID)
- Backend logic:
  1. Find selfie by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`selfies\` table
  4. Return \`{ success: true, message: "Selfie deleted" }\`
- Error handling: Return 404 if selfie not found, 500 on deletion failure

#### POST \`/upload-url\`
- Content-Type: \`multipart/form-data\` hoặc \`application/json\`
- Body (multipart): \`files\` (file[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, chỉ cho selfie)
- Body (JSON): \`image_url\` hoặc \`image_urls\` (string[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, chỉ cho selfie)
- Backend logic:
  1. Upload file(s) to R2 storage
  2. Với selfie: 
     - **Chỉ với \`action="4k"\` hoặc \`action="4K"\`**: Kiểm tra an toàn bằng Vision API trước khi lưu vào database
     - **Các action khác (như \`"faceswap"\`, \`"wedding"\`, \`"default"\`, v.v.)**: Không kiểm tra Vision API
     - Tự động xóa ảnh cũ dựa trên action:
       - \`action="faceswap"\`: Tối đa 8 ảnh (có thể cấu hình qua \`SELFIE_MAX_FACESWAP\`), xóa ảnh cũ nhất khi vượt quá giới hạn
       - \`action="wedding"\`: Tối đa 2 ảnh (cấu hình qua \`SELFIE_MAX_WEDDING\`), xóa ảnh cũ nhất khi có >= 2 ảnh
       - \`action="4k"\` hoặc \`"4K"\`: Tối đa 1 ảnh (cấu hình qua \`SELFIE_MAX_4K\`), xóa ảnh cũ khi có >= 1 ảnh
       - Action khác: Tối đa 1 ảnh (cấu hình qua \`SELFIE_MAX_OTHER\`), xóa ảnh cũ khi có >= 1 ảnh
  3. Insert record(s) vào database (\`presets\` hoặc \`selfies\` table) với bucket key (không phải full URL)
  4. Với preset: tự động generate Vertex prompt nếu \`enableVertexPrompt=true\`
- Response format: \`{ data: { results: [...], count, successful, failed }, status, message, code, debug? }\`
  - Với selfie: mỗi result có thêm field \`action\`
- Hỗ trợ upload nhiều file cùng lúc
- **Lưu ý**: \`selfie_url\` trong database chỉ lưu bucket key (ví dụ: \`"selfie/filename.jpg"\`), API tự động assemble full URL khi trả về

#### POST \`/faceswap\`
- Body:
  \`\`\`json
  {
    "preset_image_id": "preset_id_from_database",
    "selfie_id": "selfie_id_from_database",
    "profile_id": "user_profile_id"
  }
  \`\`\`
- Returns:
  \`\`\`json
  {
    "data": {
      "resultImageUrl": "result_url"
    },
    "status": "success",
    "message": "Processing successful",
    "code": 200,
    "debug": {}
  }
  \`\`\`

#### GET \`/results\`
- Returns: \`{ results: [...] }\`
- Each result contains: \`result_url\`, \`created_at\`

## Frontend Functionality

### Preset Section (Left Column, Top)
- **Upload Area**:
  - Single file input (one preset at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'preset'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and preset object
  - Show success/error status messages
  - Reload presets gallery after upload

- **Preset Gallery**:
  - Display below upload area in scrollable grid
  - Load presets from \`/presets\` endpoint on page load
  - Each preset card shows thumbnail image (square, 100px)
  - Click preset to select (visual feedback with selected state)
  - Selected preset shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No presets yet. Upload your first preset above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected preset preview (top-right corner, always visible)

- **Delete Preset**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this preset?"
    - If confirmed: Call \`DELETE /presets/:id\`
    - On success: Remove from gallery, clear selection if deleted preset was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload presets gallery after successful deletion

### Selfie Section (Left Column, Bottom)
- **Upload Area**:
  - Identical UI and functionality to Preset Upload
  - Single file input (one selfie at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'selfie'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and selfie object
  - Show success/error status messages
  - Reload selfies gallery after upload

- **Selfie Gallery**:
  - Display below upload area in scrollable grid
  - Load selfies from \`/selfies\` endpoint on page load
  - Each selfie card shows thumbnail image (square, 100px)
  - Click selfie to select (visual feedback with selected state)
  - Selected selfie shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No selfies yet. Upload your first selfie above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected selfie preview (top-right corner, always visible)

- **Delete Selfie**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this selfie?"
    - If confirmed: Call \`DELETE /selfies/:id\`
    - On success: Remove from gallery, clear selection if deleted selfie was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload selfies gallery after successful deletion

### Result Display (Right Column, Spans Both Rows)
- Large display area (min-height: 600px)
- Shows generated face swap result
- Empty state: "Result will appear here" with icon
- Result image: Max width/height 100%, object-fit: contain
- Updates automatically after successful generation

### Face Swap Generation
- Button positioned below main workspace grid
- Enabled when both preset and selfie are selected
- On click:
  - Show loading spinner overlay
  - Disable button
  - Call \`/faceswap\` with preset URL and selfie URL
  - Display result image in right column on success
  - Show error message on failure
  - Reload results history gallery after success

### Results Display
- Load results from \`/results\` on page load
- Display results in simple grid gallery
- Each result card shows image and date
- Date formatted as Vietnamese locale

## Data Structures

### Preset Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  prompt_json: object | null,
  thumbnail_url: string | null,
  thumbnail_format: 'webp' | 'lottie' | null,
  thumbnail_resolution: string | null,
  created_at: string
}
\`\`\`

### Selfie Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  created_at: string
}
\`\`\`

### Result Object
\`\`\`javascript
{
  result_url: string,
  created_at: string (ISO format)
}
\`\`\`

## State Variables
- \`selectedPreset\`: Currently selected preset object or null
- \`selectedSelfie\`: Currently selected selfie object or null
- \`presets\`: Array of all preset objects (loaded from \`/presets\`)
- \`selfies\`: Array of all selfie objects (loaded from \`/selfies\`)
- \`results\`: Array of all result objects (loaded from \`/results\`)

## UI Elements

### Preset Gallery
- Simple grid layout
- Each card: square aspect ratio, image only
- Selected state: border highlight

### Status Messages
- Success: Green color
- Error: Red color
- Loading: Spinner animation

## Image URL Handling
- Database stores the final accessible URL directly in \`image_url\` field
- Backend constructs the correct R2 URL (e.g., \`/r2/preset/filename.jpg\` or full URL with worker domain) when uploading
- Frontend uses \`image_url\` from database directly - no conversion needed
- URLs are ready to use as-is for display and API calls

## Error Handling
- Network errors: Show error message
- API errors: Display error message from response
- Image load errors: Show placeholder

## Initialization
- Load presets from \`/presets\` on page load
- Load selfies from \`/selfies\` on page load
- Load results from \`/results\` on page load
- Display loading placeholders while fetching
- Show empty states if no data available

`
    };
    
    // Embedded sidebar
    window.__staticSidebar = `* [📚 Tổng quan API](API_TONG_QUAN_VI.md)

* **APIs cần tích hợp với mobile (14 APIs)**
  * [POST /upload-url - Upload selfie](API_TONG_QUAN_VI.md#11-post-upload-url-typeselfie---upload-selfie)
  * [POST /faceswap - Đổi mặt (Face Swap) - luôn dùng Vertex AI, hỗ trợ multiple selfies](API_TONG_QUAN_VI.md#21-post-faceswap---face-swap)
  * [POST /background - Tạo nền AI (AI Background)](API_TONG_QUAN_VI.md#22-post-background---ai-background)
  * [POST /enhance - AI enhance ảnh (cải thiện chất lượng kỹ thuật)](API_TONG_QUAN_VI.md#23-post-enhance---ai-enhance)
  * [POST /beauty - AI beautify ảnh (cải thiện thẩm mỹ khuôn mặt)](API_TONG_QUAN_VI.md#24-post-beauty---ai-beauty)
  * [POST /filter - AI Filter (Styles) - Áp dụng style từ preset lên selfie](API_TONG_QUAN_VI.md#25-post-filter---ai-filter-styles)
  * [POST /restore - AI khôi phục và nâng cấp ảnh](API_TONG_QUAN_VI.md#26-post-restore---ai-restore)
  * [POST /aging - AI lão hóa khuôn mặt](API_TONG_QUAN_VI.md#27-post-aging---ai-aging)
  * [POST /upscaler4k - AI upscale ảnh lên 4K](API_TONG_QUAN_VI.md#28-post-upscaler4k---ai-upscale-4k)
  * [POST /profiles - Tạo profile](API_TONG_QUAN_VI.md#31-post-profiles---tạo-profile)
  * [GET /profiles/{id} - Lấy profile](API_TONG_QUAN_VI.md#32-get-profilesid---lấy-profile)
  * [GET /selfies - Liệt kê selfies](API_TONG_QUAN_VI.md#44-get-selfies---liệt-kê-selfies)
  * [GET /results - Liệt kê results (generated images)](API_TONG_QUAN_VI.md#46-get-results---liệt-kê-results)
  * [DELETE /results/{id} - Xóa result](API_TONG_QUAN_VI.md#47-delete-resultsid---xóa-result)

* **1. Upload & Quản lý File**
  * [POST /upload-url (type=selfie) - Upload selfie](API_TONG_QUAN_VI.md#post-upload-url-typeselfie-upload-selfie)
  * [POST /upload-url (type=preset) - Upload preset (backend only)](API_TONG_QUAN_VI.md#post-upload-url-typepreset-upload-preset-backend-only)
  * [POST /upload-thumbnails - Upload thumbnails (backend only)](API_TONG_QUAN_VI.md#post-upload-thumbnails-upload-thumbnails-backend-only)
* **2. AI Processing**
  * [POST /faceswap - Face Swap](API_TONG_QUAN_VI.md#post-faceswap-face-swap)
  * [POST /background - AI Background](API_TONG_QUAN_VI.md#post-background-ai-background)
  * [POST /enhance - AI Enhance](API_TONG_QUAN_VI.md#post-enhance-ai-enhance)
  * [POST /beauty - AI Beauty](API_TONG_QUAN_VI.md#post-beauty-ai-beauty)
  * [POST /filter - AI Filter (Styles)](API_TONG_QUAN_VI.md#post-filter-ai-filter-styles)
  * [POST /restore - AI Restore](API_TONG_QUAN_VI.md#post-restore-ai-restore)
  * [POST /aging - AI Aging](API_TONG_QUAN_VI.md#post-aging-ai-aging)
  * [POST /upscaler4k - AI Upscale 4K](API_TONG_QUAN_VI.md#post-upscaler4k-ai-upscale-4k)
* **3. Quản lý Profile**
  * [POST /profiles - Tạo profile](API_TONG_QUAN_VI.md#post-profiles-to-profile)
  * [GET /profiles/{id} - Lấy profile](API_TONG_QUAN_VI.md#get-profilesid-ly-profile)
  * [PUT /profiles/{id} - Cập nhật profile](API_TONG_QUAN_VI.md#put-profilesid-cp-nht-profile)
  * [GET /profiles - Liệt kê profiles](API_TONG_QUAN_VI.md#get-profiles-lit-k-profiles)
* **4. Truy vấn Dữ liệu**
  * [GET /presets - Liệt kê presets](API_TONG_QUAN_VI.md#get-presets-lit-k-presets)
  * [GET /presets/{id} - Lấy preset theo ID](API_TONG_QUAN_VI.md#get-presetsid-ly-preset-theo-id)
  * [DELETE /presets/{id} - Xóa preset](API_TONG_QUAN_VI.md#delete-presetsid-xa-preset)
  * [GET /selfies - Liệt kê selfies](API_TONG_QUAN_VI.md#get-selfies-lit-k-selfies)
  * [DELETE /selfies/{id} - Xóa selfie](API_TONG_QUAN_VI.md#delete-selfiesid-xa-selfie)
  * [GET /results - Liệt kê results](API_TONG_QUAN_VI.md#get-results-lit-k-results)
  * [DELETE /results/{id} - Xóa result](API_TONG_QUAN_VI.md#delete-resultsid-xa-result)
  * [GET /thumbnails - Liệt kê thumbnails](API_TONG_QUAN_VI.md#get-thumbnails-lit-k-thumbnails)
  * [GET /thumbnails/{id}/preset - Lấy preset_id từ thumbnail_id](API_TONG_QUAN_VI.md#get-thumbnailsidpreset-ly-preset_id-t-thumbnail_id)
* **5. Hệ thống & Cấu hình**
  * [GET /config - Lấy config](API_TONG_QUAN_VI.md#get-config-ly-config)
  * [OPTIONS /* - CORS preflight requests](API_TONG_QUAN_VI.md#options-cors-preflight-requests)`;
    
    // Pre-generated search index
    window.__staticSearchIndex = [{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"# Tổng quan API Face Swap AI","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tài liệu này mô tả đầy đủ các điểm cuối (endpoint) mà Cloudflare Worker cung cấp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Base URL:** `https://api.d.shotpix.app`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Mục lục","heading":"Mục lục","text":"## Mục lục","url":"#/API_TONG_QUAN_VI.md?id=mc-lc","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [Xác thực API](#xác-thực-api-api-authentication)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [APIs cần tích hợp với mobile](#apis-cần-tích-hợp-với-mobile-14-apis)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [API Endpoints (Chi tiết)](#api-endpoints-chi-tiết)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [1. Upload & Quản lý File](#1-upload--quản-lý-file)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [2. AI Processing](#2-ai-processing)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [3. Quản lý Profile](#3-quản-lý-profile)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [4. Truy vấn Dữ liệu](#4-truy-vấn-dữ-liệu)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [5. Hệ thống & Cấu hình](#5-hệ-thống--cấu-hình)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- [Tổng kết](#tổng-kết)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Xác thực API (API Authentication)","heading":"Xác thực API (API Authentication)","text":"## Xác thực API (API Authentication)","url":"#/API_TONG_QUAN_VI.md?id=xc-thc-api-api-authentication","level":2},{"title":"Tổng quan API Face Swap AI - Mobile API Key Authentication","heading":"Mobile API Key Authentication","text":"### Mobile API Key Authentication","url":"#/API_TONG_QUAN_VI.md?id=mobile-api-key-authentication","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Hệ thống hỗ trợ xác thực bằng API key cho các mobile APIs. Tính năng này có thể được bật/tắt thông qua biến môi trường `ENABLE_MOBILE_API_KEY_AUTH`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Khi bật (`ENABLE_MOBILE_API_KEY_AUTH=true`):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các mobile APIs được bảo vệ yêu cầu API key trong request header","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- API key có thể được gửi qua:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Header `X-API-Key`: `X-API-Key: your_api_key_here`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Header `Authorization`: `Authorization: Bearer your_api_key_here`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các endpoints được bảo vệ (khi authentication được bật):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/upload-url` (type=selfie) - Chỉ khi upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/faceswap`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/background`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/enhance`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/beauty`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/filter`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/restore`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/aging`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/upscaler4k`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/profiles` - Chỉ khi tạo profile mới","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- GET `/profiles/{id}` - Chỉ khi lấy profile theo ID","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- DELETE `/results/{id}` - Xóa result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/upload-url` (type=preset) không yêu cầu API key (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các endpoints khác không nằm trong danh sách trên không yêu cầu API key","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tạo API Key:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Sử dụng script `generate-api-key.js` để tạo API key mới:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"node backend-cloudflare-workers/generate-api-key.js","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Script sẽ tạo một API key ngẫu nhiên 32 bytes (256 bits) và hiển thị hướng dẫn thêm vào `deployments-secrets.json`:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"MOBILE_API_KEY\": \"your_generated_key_here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"ENABLE_MOBILE_API_KEY_AUTH\": \"true\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ request với API key:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Hoặc sử dụng Authorization header:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Authorization: Bearer your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Response (401 Unauthorized):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Khi API key không hợp lệ hoặc thiếu:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Unauthorized\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 401","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - APIs cần tích hợp với mobile (14 APIs)","heading":"APIs cần tích hợp với mobile (14 APIs)","text":"## APIs cần tích hợp với mobile (14 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-cn-tch-hp-vi-mobile-14-apis","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tổng số API endpoints: 26**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - APIs cần tích hợp với mobile (14 APIs)","heading":"APIs cần tích hợp với mobile (14 APIs)","text":"### APIs cần tích hợp với mobile (14 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-cn-tch-hp-vi-mobile-14-apis","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"1. POST `/upload-url` (type=selfie) - Upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"2. POST `/faceswap` - Đổi mặt (Face Swap) - luôn dùng Vertex AI, hỗ trợ multiple selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"3. POST `/background` - Tạo nền AI (AI Background)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"4. POST `/enhance` - AI enhance ảnh (cải thiện chất lượng kỹ thuật)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"5. POST `/beauty` - AI beautify ảnh (cải thiện thẩm mỹ khuôn mặt)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"6. POST `/filter` - AI Filter (Styles) - Áp dụng style từ preset lên selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"7. POST `/restore` - AI khôi phục và nâng cấp ảnh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"8. POST `/aging` - AI lão hóa khuôn mặt","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"9. POST `/upscaler4k` - AI upscale ảnh lên 4K","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"10. POST `/profiles` - Tạo profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"11. GET `/profiles/{id}` - Lấy profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"12. GET `/selfies` - Liệt kê selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"13. GET `/results` - Liệt kê results (generated images)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"14. DELETE `/results/{id}` - Xóa result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - APIs không cần tích hợp với mobile (12 APIs)","heading":"APIs không cần tích hợp với mobile (12 APIs)","text":"### APIs không cần tích hợp với mobile (12 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-khng-cn-tch-hp-vi-mobile-12-apis","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"15. PUT `/profiles/{id}` - Cập nhật profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"16. GET `/profiles` - Liệt kê profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"17. POST `/upload-url` (type=preset) - Upload preset (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"18. GET `/presets` - Liệt kê presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"19. GET `/presets/{id}` - Lấy preset theo ID (bao gồm prompt_json)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"20. DELETE `/presets/{id}` - Xóa preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"21. DELETE `/selfies/{id}` - Xóa selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"22. POST `/upload-thumbnails` - Tải lên thumbnails và presets (batch)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"23. GET `/thumbnails` - Liệt kê thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"24. GET `/thumbnails/{id}/preset` - Lấy preset_id từ thumbnail_id","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"25. GET `/config` - Lấy config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"26. OPTIONS `/*` - CORS preflight requests","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Error Codes Reference","heading":"Error Codes Reference","text":"## Error Codes Reference","url":"#/API_TONG_QUAN_VI.md?id=error-codes-reference","level":2},{"title":"Tổng quan API Face Swap AI - Vision API Safety Error Codes (1001-1005)","heading":"Vision API Safety Error Codes (1001-1005)","text":"### Vision API Safety Error Codes (1001-1005)","url":"#/API_TONG_QUAN_VI.md?id=vision-api-safety-error-codes-1001-1005","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Các error codes này được trả về khi Google Vision API SafeSearch phát hiện nội dung không phù hợp trong ảnh. Được sử dụng cho:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/upload-url` (type=selfie, action=\"4k\" hoặc \"4K\") - Kiểm tra ảnh selfie trước khi lưu","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### Tìm kiếm An toàn (Safe Search)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tập hợp các đặc điểm liên quan đến hình ảnh, được tính toán bằng các phương pháp thị giác máy tính trên các lĩnh vực tìm kiếm an toàn (ví dụ: người lớ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường (Fields):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **adult** (Likelihood): Thể hiện khả năng nội dung dành cho người lớn của hình ảnh. Nội dung dành cho người lớn có thể bao gồm các yếu tố như khỏa t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **spoof** (Likelihood): Xác suất chế giễu. Xác suất xảy ra việc chỉnh sửa phiên bản gốc của hình ảnh để làm cho nó trông hài hước hoặc phản cảm.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **medical** (Likelihood): Rất có thể đây là hình ảnh y tế.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **violence** (Likelihood): Hình ảnh này có khả năng chứa nội dung bạo lực. Nội dung bạo lực có thể bao gồm cái chết, thương tích nghiêm trọng hoặc t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **racy** (Likelihood): Khả năng cao hình ảnh được yêu cầu chứa nội dung khiêu dâm. Nội dung khiêu dâm có thể bao gồm (nhưng không giới hạn) quần áo ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### Severity Levels (Độ nghiêm trọng)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Google Vision API SafeSearch trả về các mức độ nghiêm trọng cho mỗi category. App sử dụng các mức độ này để quyết định có chặn ảnh hay không:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### Strictness Modes (Chế độ kiểm tra)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"App hỗ trợ 2 chế độ kiểm tra, được cấu hình qua biến môi trường `SAFETY_STRICTNESS`:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Strict Mode (Mặc định):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chặn: `POSSIBLE`, `LIKELY`, và `VERY_LIKELY`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Cho phép: `VERY_UNLIKELY`, `UNLIKELY`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Sử dụng khi: `SAFETY_STRICTNESS=strict` hoặc không set (default)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lenient Mode:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chặn: `VERY_LIKELY` only","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Cho phép: `VERY_UNLIKELY`, `UNLIKELY`, `POSSIBLE`, `LIKELY`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Sử dụng khi: `SAFETY_STRICTNESS=lenient`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `statusCode` (1001-1005) chỉ được trả về khi nội dung thực sự bị chặn","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Trong strict mode, `POSSIBLE`, `LIKELY`, và `VERY_LIKELY` đều bị chặn","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Trong lenient mode, chỉ `VERY_LIKELY` bị chặn","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Content blocked: Image contains adult content (VERY_LIKELY)\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 1001","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Vertex AI Safety Error Codes (2001-2004)","heading":"Vertex AI Safety Error Codes (2001-2004)","text":"### Vertex AI Safety Error Codes (2001-2004)","url":"#/API_TONG_QUAN_VI.md?id=vertex-ai-safety-error-codes-2001-2004","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Các error codes này được trả về khi Vertex AI Gemini safety filters chặn nội dung trong prompt hoặc generated image. Được sử dụng cho:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/faceswap` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/background` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/enhance` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/beauty` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/filter` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/restore` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- POST `/aging` - Khi Vertex AI chặn prompt hoặc generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### Các loại tác hại","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Bộ lọc nội dung đánh giá nội dung dựa trên các loại tác hại sau:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### So sánh điểm xác suất và điểm mức độ nghiêm trọng (Probability Scores and Severity Scores)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Điểm an toàn xác suất phản ánh khả năng phản hồi của mô hình có liên quan đến tác hại tương ứng. Nó có một điểm tin cậy tương ứng nằm trong khoảng từ ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Điểm tin cậy được chia thành bốn mức độ tin cậy:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- App chặn nội dung khi phát hiện vi phạm với `HIGH` hoặc `MEDIUM` probability","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nội dung với `LOW` hoặc `NEGLIGIBLE` probability thường được cho phép","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Safety violations trả về HTTP 422 với internal error codes 2001-2004 trong trường `code`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Message trả về là lý do cụ thể từ hệ thống (ví dụ: finishMessage từ Vertex AI)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ Response (Input Blocked):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Unable to show the generated image. The image was filtered out because it violated usage guidelines. You will not be charged for blocked i","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 2001","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ Response (Output Blocked):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Unable to show the generated image. The image was filtered out because it violated usage guidelines. You will not be charged for blocked i","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 2003","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - HTTP Status Codes","heading":"HTTP Status Codes","text":"### HTTP Status Codes","url":"#/API_TONG_QUAN_VI.md?id=http-status-codes","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Ngoài các error codes trên, API cũng trả về các HTTP status codes chuẩn:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Error codes 1001-1005 và 2001-2004 được trả về trong trường `code` của response body","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- HTTP status code luôn là 422 cho các safety violations (content bị chặn)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chi tiết về violation có thể được tìm thấy trong `debug.vision` (cho Vision API) hoặc `debug.provider` (cho Vertex AI)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - API Endpoints (Chi tiết)","heading":"API Endpoints (Chi tiết)","text":"## API Endpoints (Chi tiết)","url":"#/API_TONG_QUAN_VI.md?id=api-endpoints-chi-tit","level":2},{"title":"Tổng quan API Face Swap AI - 1. Upload & Quản lý File","heading":"1. Upload & Quản lý File","text":"### 1. Upload & Quản lý File","url":"#/API_TONG_QUAN_VI.md?id=1-upload-qun-l-file","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 1.1. POST `/upload-url` (type=selfie) - Upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Tải ảnh selfie trực tiếp lên server và lưu vào database. Endpoint này được sử dụng bởi mobile app để upload selfie.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Yêu cầu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true` (chỉ áp dụng cho `type=selfie`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Upload selfie với action:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/selfie.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"type=selfie\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"action=faceswap\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Multipart/form-data (với action):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/selfie.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"type=selfie\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"action=faceswap\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**JSON với image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://example.com/selfie.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"selfie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"action\": \"faceswap\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `files` (file[], required nếu dùng multipart): Mảng file ảnh selfie cần upload (hỗ trợ nhiều file).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` hoặc `image_urls` (string/string[], required nếu dùng JSON): URL ảnh selfie trực tiếp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `type` (string, required): Phải là `\"selfie\"` cho mobile app.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `action` (string, required, chỉ áp dụng cho `type=selfie`): Loại action của selfie. Phải được chỉ định rõ ràng. Các giá trị hỗ trợ:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `\"faceswap\"`: Tối đa 8 ảnh (có thể cấu hình), tự động xóa ảnh cũ khi upload ảnh mới (giữ lại số ảnh mới nhất theo giới hạn). **Không kiểm tra Vision","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `\"wedding\"`: Tối đa 2 ảnh, tự động xóa ảnh cũ khi upload ảnh mới (giữ lại 1 ảnh mới nhất). **Không kiểm tra Vision API.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `\"4k\"` hoặc `\"4K\"`: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới. **Ảnh sẽ được kiểm tra bằng Vision API trước khi lưu vào database.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các action khác: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới. **Không kiểm tra Vision API.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response (Success 200):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response (Error - Vision API Blocked):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Khi ảnh selfie không vượt qua kiểm tra an toàn của Vision API, endpoint sẽ trả về error code tương ứng với loại vi phạm:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Upload failed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 1001","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý quan trọng:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Vision API Error Codes (1001-1005):** Chỉ selfie uploads với `action=\"4k\"` hoặc `action=\"4K\"` mới được quét bởi Vision API trước khi lưu vào datab","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Vertex AI Error Codes (2001-2004):** Được trả về khi Vertex AI Gemini safety filters chặn nội dung trong prompt hoặc generated image. Áp dụng cho ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Scan level mặc định: `strict` (chặn `POSSIBLE`, `LIKELY`, và `VERY_LIKELY` violations)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu ảnh không an toàn, file sẽ bị xóa khỏi R2 storage và trả về error code tương ứng","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Error code được trả về trong trường `code` của response","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Giới hạn số lượng selfie:** Mỗi action có giới hạn riêng và tự động xóa ảnh cũ khi vượt quá giới hạn:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `faceswap`: Tối đa 8 ảnh (có thể cấu hình qua `SELFIE_MAX_FACESWAP`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `wedding`: Tối đa 2 ảnh (cấu hình qua `SELFIE_MAX_WEDDING`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `4k`/`4K`: Tối đa 1 ảnh (cấu hình qua `SELFIE_MAX_4K`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các action khác: Tối đa 1 ảnh (cấu hình qua `SELFIE_MAX_OTHER`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 1.2. POST `/upload-url` (type=preset) - Upload preset (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Tải ảnh preset trực tiếp lên server và lưu vào database với xử lý tự động (Vision scan, Vertex prompt generation). Endpoint này chỉ được","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Multipart/form-data:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/image1.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/image2.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"type=preset\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"enableVertexPrompt=true\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**JSON với image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://example.com/image.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"enableVertexPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `files` (file[], required nếu dùng multipart): Mảng file ảnh preset cần upload (hỗ trợ nhiều file).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` hoặc `image_urls` (string/string[], required nếu dùng JSON): URL ảnh preset trực tiếp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `type` (string, required): Phải là `\"preset\"` cho backend upload.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `enableVertexPrompt` (boolean/string, optional): `true` hoặc `\"true\"` để bật tạo prompt Vertex khi upload preset. Sử dụng Vertex AI để phân tích ảnh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `art_style` (string, optional): Filter art style cho prompt generation. Giá trị: `auto` (mặc định), `photorealistic`, `figurine`, `popmart`, `clay`,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"promptKeys\": [\"prompt\", \"style\", \"lighting\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"responseTimeMs\": 4200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filesProcessed\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultsCount\": 1","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 1.3. POST `/upload-thumbnails` - Upload thumbnails (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Tải lên thumbnails (WebP và Lottie JSON) và tự động tạo presets. Hỗ trợ upload file zip chứa tất cả assets hoặc upload từng file riêng l","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Upload individual files:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/preset/fs_wonder_f_3.png\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"path_preset_fs_wonder_f_3.png=preset/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/lottie_1x/fs_wonder_f_3.json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"path_lottie_1x_fs_wonder_f_3.json=lottie_1x/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/lottie_avif_2x/fs_wonder_f_3.json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"path_lottie_avif_2x_fs_wonder_f_3.json=lottie_avif_2x/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"art_style=auto\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Upload with Art Style Filter (e.g., Pop Mart style):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/preset/popmart_figure.png\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"path_popmart_figure.png=preset/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"art_style=popmart\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Upload zip file containing all assets:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/thumbnails.zip\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"art_style=disney\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Supported Art Styles:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Cấu trúc thư mục:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"├── preset/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   ├── fs_wonder_f_3.png    # Files here get Vertex AI prompt generation","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   └── fs_wonder_m_2.png","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"├── lottie_1x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   ├── fs_wonder_f_3.json   # Thumbnails at 1x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   └── fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"├── lottie_1.5x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   ├── fs_wonder_f_3.json   # Thumbnails at 1.5x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   └── fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"├── lottie_2x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   ├── fs_wonder_f_3.json   # Thumbnails at 2x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   └── fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"├── lottie_avif_1x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   ├── fs_wonder_f_3.json   # AVIF thumbnails at 1x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"│   └── fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"└── [other resolution folders...]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Quy tắc đặt tên file:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Format: `[preset_id].[png|webp|json]`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Ví dụ: `fs_wonder_f_3.png`, `fs_wonder_m_2.webp`, `fireworks_animation.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tên file (không bao gồm extension) sẽ trở thành `preset_id`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Vertex AI chỉ phân tích file ảnh từ thư mục \"preset\" để tạo `prompt_json` metadata","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- File từ các thư mục resolution khác (lottie_*, lottie_avif_*) là thumbnails, KHÔNG được gửi đến Vertex AI","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tính năng Vertex AI:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tự động gọi Vertex AI Gemini để phân tích file ảnh từ thư mục \"preset\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Sử dụng `Promise.all` để xử lý batch upload và tạo prompt song song","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `prompt_json` được lưu trong R2 custom metadata của preset files","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Thumbnails được lưu ở nhiều resolution (1x, 1.5x, 2x, 3x, 4x) trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chỉ áp dụng cho file ảnh từ thư mục \"preset\", bỏ qua thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"total\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnails_processed\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/presets/fs_wonder_f_3.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"scene\": \"wonder woman portrait\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"style\": \"heroic\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"mood\": \"confident\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"colors\": [\"red\", \"blue\", \"gold\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"promptKeys\": [\"scene\", \"style\", \"mood\", \"colors\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"format\": \"webp\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"thumbnail\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/lottie_1x/fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": false","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"format\": \"lottie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resolution\": \"1x\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"thumbnail\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/lottie_avif_2x/fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": false","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"format\": \"lottie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resolution\": \"2x\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processed 3 of 3 files\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filesProcessed\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultsCount\": 3","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 2. AI Processing","heading":"2. AI Processing","text":"### 2. AI Processing","url":"#/API_TONG_QUAN_VI.md?id=2-ai-processing","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.1. POST `/faceswap` - Face Swap","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Thực hiện face swap giữa ảnh preset và ảnh selfie sử dụng Vertex AI (luôn dùng chế độ Vertex). Hỗ trợ multiple selfies để tạo composite ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khác với `/background`: FaceSwap thay đổi khuôn mặt trong preset, còn AI Background merge selfie vào preset scene.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng selfie_ids (từ database):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng selfie_image_urls (URL trực tiếp):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_urls\": [\"https://example.com/selfie1.jpg\", \"https://example.com/selfie2.jpg\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_id` (string, required): ID ảnh preset đã lưu trong database (format: `preset_...`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_ids` (array of strings, optional): Mảng các ID ảnh selfie đã lưu trong database (hỗ trợ multiple selfies). Thứ tự: [selfie_chính, selfie_phụ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_image_urls` (array of strings, optional): Mảng các URL ảnh selfie trực tiếp (thay thế cho `selfie_ids`). Hỗ trợ multiple selfies. Phải cung ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình (mặc định: \"3:4\"). Hỗ trợ: \"1:1\", \"3:2\", \"2:3\", \"3:4\", \"4:3\", \"4:5\", \"5:4\", \"9:16\", \"16:9\", \"21:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): câu mô tả bổ sung, được nối vào cuối trường `prompt` bằng ký tự `+`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"sourceUrls\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 843","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": { \"...\": \"...\" },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 5180,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"requestPayload\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"promptLength\": 746,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"imageBytes\": 921344","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.2. POST `/background` - AI Background","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Tạo ảnh mới bằng cách merge selfie (người) vào preset (cảnh nền) sử dụng AI. Selfie sẽ được đặt vào preset scene một cách tự nhiên với n","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng selfie_id (từ database):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the person look happy and relaxed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng selfie_image_url (URL trực tiếp):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the person look happy and relaxed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng custom_prompt (tạo nền từ text prompt với Vertex AI):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"custom_prompt\": \"A beautiful sunset beach scene with palm trees and golden sand\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the person look happy and relaxed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Sử dụng custom_prompt với selfie_image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"custom_prompt\": \"A futuristic cityscape at night with neon lights and flying cars\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý về custom_prompt:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi sử dụng `custom_prompt`, hệ thống sẽ thực hiện 2 bước:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"1. **Tạo ảnh nền**: Sử dụng Vertex AI Gemini để tạo ảnh nền từ text prompt","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"2. **Merge selfie**: Tự động merge selfie vào ảnh nền vừa tạo với lighting và color grading phù hợp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `custom_prompt` không thể kết hợp với `preset_image_id` hoặc `preset_image_url` (chỉ chọn một trong ba)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` và `model` sẽ được áp dụng cho cả việc tạo nền và merge","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` chỉ ảnh hưởng đến bước merge, không ảnh hưởng đến việc tạo nền","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_id` (string, optional): ID ảnh preset (landscape scene) đã lưu trong database (format: `preset_...`). Phải cung cấp `preset_image_id` ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_url` (string, optional): URL ảnh preset trực tiếp (thay thế cho `preset_image_id`). Phải cung cấp `preset_image_id` HOẶC `preset_image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `custom_prompt` (string, optional): Prompt tùy chỉnh để tạo ảnh nền từ text sử dụng Vertex AI (thay thế cho preset image). Khi sử dụng `custom_promp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"1. Tạo ảnh nền từ text prompt bằng Vertex AI Gemini","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"2. Merge selfie vào ảnh nền đã tạo","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Phải cung cấp `preset_image_id` HOẶC `preset_image_url` HOẶC `custom_prompt` (chỉ một trong ba).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_id` (string, optional): ID ảnh selfie đã lưu trong database (người). Phải cung cấp `selfie_id` HOẶC `selfie_image_url` (không phải cả hai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_image_url` (string, optional): URL ảnh selfie trực tiếp (thay thế cho `selfie_id`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): Câu mô tả bổ sung cho việc merge (ví dụ: \"Make the person look happy\", \"Adjust lighting to match sunset\"). C","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Các giá trị hỗ trợ: `\"original\"`, `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfieUrl\": \"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.3. POST `/enhance` - AI Enhance","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** AI enhance ảnh - cải thiện chất lượng, độ sáng, độ tương phản và chi tiết của ảnh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các endpoints không phải faceswap (`/enhance`, `/beauty`, `/filter`, `/restore`, `/aging`, `/background`) hỗ trợ giá trị `\"original\"` cho `aspect_ra","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi `aspect_ratio` là `\"original\"` hoặc không được cung cấp, hệ thống sẽ tự động:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"1. Lấy kích thước (width/height) từ ảnh input","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"2. Tính toán tỷ lệ khung hình thực tế","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"3. Chọn tỷ lệ gần nhất trong danh sách hỗ trợ của Vertex AI","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"4. Sử dụng tỷ lệ đó để generate ảnh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Điều này đảm bảo ảnh kết quả giữ được tỷ lệ gần với ảnh gốc thay vì mặc định về 1:1.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Các giá trị hỗ trợ:** `\"original\"`, `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`, `\"9:16\"`, `\"16:9\"`, `\"21:9\"`. Mặc định: `\"origi","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/enhance \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, required): URL ảnh cần enhance.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Image enhancement completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Enhancement completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.4. POST `/beauty` - AI Beauty","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** AI beautify ảnh - cải thiện thẩm mỹ khuôn mặt (lý tưởng cho selfies và chân dung). Làm mịn da, xóa mụn, làm sáng mắt, tinh chỉnh khuôn m","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/beauty \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, required): URL ảnh cần beautify.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/beauty_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Image beautification completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Beautification completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tính năng AI Beauty:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Làm mịn da (smooth skin)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Xóa mụn và vết thâm (removes blemishes/acne)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Đều màu da (evens skin tone)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Làm thon mặt và đường viền hàm một cách tinh tế (slims face/jawline subtly)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Làm sáng mắt (brightens eyes)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tăng cường môi và lông mày (enhances lips and eyebrows)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Mở rộng mắt nhẹ (enlarges eyes slightly, optional)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Làm mềm hoặc chỉnh hình mũi (softens or reshapes nose)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tự động điều chỉnh makeup (adjusts makeup automatically)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** AI Beauty tập trung vào cải thiện thẩm mỹ khuôn mặt, khác với AI Enhance (cải thiện chất lượng kỹ thuật như độ sắc nét, giảm nhiễu).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.5. POST `/filter` - AI Filter (Styles)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** AI Filter (Styles) - Áp dụng các style sáng tạo hoặc điện ảnh từ preset lên selfie trong khi giữ nguyên tính toàn vẹn khuôn mặt. Sử dụng","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/filter \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hoặc sử dụng selfie_image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/filter \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_id` (string, required): ID preset đã lưu trong database (format: `preset_...`). Preset phải có prompt_json.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_id` (string, optional): ID selfie đã lưu trong database. Bắt buộc nếu không có `selfie_image_url`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_image_url` (string, optional): URL ảnh selfie trực tiếp. Bắt buộc nếu không có `selfie_id`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): Prompt bổ sung để tùy chỉnh style.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/filter_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Style filter applied successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Filter applied\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tính năng AI Filter:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Đọc prompt_json từ preset (chứa thông tin về style, lighting, composition, camera, background)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Áp dụng style sáng tạo/điện ảnh từ preset lên selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Giữ nguyên 100% khuôn mặt, đặc điểm, cấu trúc xương, màu da","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chỉ thay đổi style, môi trường, ánh sáng, màu sắc, và mood hình ảnh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Hỗ trợ additional_prompt để tùy chỉnh thêm","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Preset phải có prompt_json (được tạo tự động khi upload preset với `enableVertexPrompt=true`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu preset chưa có prompt_json, API sẽ tự động generate từ preset image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khác với `/faceswap`: Filter giữ nguyên khuôn mặt và chỉ áp dụng style, không thay đổi khuôn mặt","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.6. POST `/restore` - AI Restore","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** AI khôi phục và nâng cấp ảnh - phục hồi ảnh bị hư hỏng, cũ, mờ, hoặc đen trắng thành ảnh chất lượng cao với màu sắc sống động.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/restore \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, required): URL ảnh cần khôi phục (ảnh cũ, bị hư hỏng, mờ, hoặc đen trắng).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/restore_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Image restoration completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Restoration completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tính năng AI Restore:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khôi phục ảnh bị hư hỏng (fix scratches, tears, noise, blurriness)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Chuyển đổi ảnh đen trắng thành màu với màu sắc sống động","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nâng cấp chất lượng lên 16K DSLR quality","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tăng cường chi tiết (face, eyes, hair, clothing)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Thêm ánh sáng, bóng đổ, và độ sâu trường ảnh thực tế","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Retouching chuyên nghiệp cấp Photoshop","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- High dynamic range, ultra-HD, lifelike textures","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.7. POST `/aging` - AI Aging","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** AI lão hóa khuôn mặt - tạo phiên bản già hơn của khuôn mặt trong ảnh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/aging \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"age_years\": 20,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, required): URL ảnh chứa khuôn mặt cần lão hóa.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `age_years` (number, optional): Số năm muốn lão hóa (mặc định: 20).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): Tỷ lệ khung hình. Xem [Lưu ý về Aspect Ratio](#23-post-enhance---ai-enhance) cho chi tiết. Mặc định: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Aging transformation completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Aging completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 2.8. POST `/upscaler4k` - AI Upscale 4K","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Upscale ảnh lên độ phân giải 4K sử dụng WaveSpeed AI.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này yêu cầu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upscaler4k \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, required): URL ảnh cần upscale.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Upscaler4K image upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 5000","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"inputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"outputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 3. Quản lý Profile","heading":"3. Quản lý Profile","text":"### 3. Quản lý Profile","url":"#/API_TONG_QUAN_VI.md?id=3-qun-l-profile","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 3.1. POST `/profiles` - Tạo profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Tạo profile mới.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Yêu cầu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Minimal (chỉ cần device_id):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Full request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"userID\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Với preferences dạng object:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"theme\": \"dark\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"language\": \"vi\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hoặc gửi device_id qua header:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"x-device-id: device_1765774126587_yaq0uh6rvz\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `device_id` (string, optional): ID thiết bị. Có thể gửi trong body hoặc header `x-device-id`. Nếu không có, sẽ là `null`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `userID` hoặc `id` (string, optional): ID profile. Nếu không có, hệ thống tự tạo bằng `nanoid(16)`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `name` (string, optional): tên profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `email` (string, optional): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `avatar_url` (string, optional): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` (string hoặc object, optional): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trư","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profile created successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profileId\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"deviceId\": \"device_1765774126587_yaq0uh6rvz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 3.2. GET `/profiles/{id}` - Lấy profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Lấy thông tin profile theo ID.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Yêu cầu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/profiles/profile_1234567890 \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profile retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 3.3. PUT `/profiles/{id}` - Cập nhật profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Cập nhật thông tin profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X PUT https://api.d.shotpix.app/profiles/profile_1234567890 \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"theme\": \"light\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"language\": \"en\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `name` (string, optional): tên profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `email` (string, optional): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `avatar_url` (string, optional): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` (string hoặc object, optional): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trư","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** ID profile phải được cung cấp trong URL path (`/profiles/{id}`), không cần gửi trong body.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"light\\\",\\\"language\\\":\\\"en\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T05:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profile updated successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 3.4. GET `/profiles` - Liệt kê profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Liệt kê tất cả profiles (dùng cho admin/debugging).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profiles\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profiles retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 4. Truy vấn Dữ liệu","heading":"4. Truy vấn Dữ liệu","text":"### 4. Truy vấn Dữ liệu","url":"#/API_TONG_QUAN_VI.md?id=4-truy-vn-d-liu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.1. GET `/presets` - Liệt kê presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Trả về danh sách preset trong database.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/presets?include_thumbnails=true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `include_thumbnails` (optional): `true` để bao gồm cả presets có thumbnail. Mặc định chỉ trả về presets không có thumbnail.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"presets\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Presets retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.2. GET `/presets/{id}` - Lấy preset theo ID","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Lấy thông tin chi tiết của một preset theo ID (bao gồm `prompt_json`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"presetId\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.3. DELETE `/presets/{id}` - Xóa preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Xóa preset khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.4. GET `/selfies` - Liệt kê selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Trả về tối đa 50 selfie gần nhất của một profile. Endpoint này được sử dụng bởi mobile app để lấy danh sách selfies đã upload.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key (có thể được bật trong tương lai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/selfies?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (required): ID profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `limit` (optional): Số lượng selfies tối đa trả về (1-50). Mặc định: 50.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfies\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"action\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Selfies retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.5. DELETE `/selfies/{id}` - Xóa selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Xóa selfie khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Selfie deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfieId\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.6. GET `/results` - Liệt kê results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Trả về tối đa 50 kết quả generated images (face swap, background, enhance, beauty, filter, restore, aging, upscaler4k) gần nhất. Endpoin","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key (có thể được bật trong tương lai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/results?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (optional): ID profile để lọc kết quả.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `limit` (optional): Số lượng results tối đa trả về (1-50). Mặc định: 50.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"result_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Results retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.7. DELETE `/results/{id}` - Xóa result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Xóa kết quả khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Yêu cầu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X DELETE https://api.d.shotpix.app/results/result_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Result deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"databaseDeleted\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.8. GET `/thumbnails` - Liệt kê thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Lấy danh sách thumbnails từ database. Trả về tất cả presets có thumbnail (bất kỳ cột thumbnail nào không null).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Không có query parameters. Endpoint trả về tất cả presets có thumbnail.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Endpoint này query từ bảng `presets` với điều kiện `thumbnail_r2` không null và không rỗng. Dữ liệu thumbnail được lưu dưới dạng JSON objec","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnails\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"ext\": \"png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_r2\": \"{\\\"webp_1x\\\":\\\"webp_1x/fs_wonder_f_3.webp\\\",\\\"lottie_1x\\\":\\\"lottie_1x/fs_wonder_f_3.json\\\",\\\"lottie_avif_2x\\\":\\\"lottie_avif_2x/fs_won","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url_1x\": \"https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url_1_5x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url_2x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url_3x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url_4x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Thumbnails retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Response trả về tất cả các cột thumbnail resolution (1x, 1.5x, 2x, 3x) từ database. `thumbnail_url` là alias của `thumbnail_url_1x` cho bac","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 4.9. GET `/thumbnails/{id}/preset` - Lấy preset_id từ thumbnail_id","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Lấy preset_id từ thumbnail_id (dùng cho mobile app).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"preset_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset ID retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 5. Hệ thống & Cấu hình","heading":"5. Hệ thống & Cấu hình","text":"### 5. Hệ thống & Cấu hình","url":"#/API_TONG_QUAN_VI.md?id=5-h-thng-cu-hnh","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 5.1. GET `/config` - Lấy config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Lấy cấu hình public của Worker (custom domains).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl https://api.d.shotpix.app/config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"backendDomain\": \"https://api.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Domain\": \"https://resources.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"kvCache\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"available\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"test\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"details\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"bindingName\": \"PROMPT_CACHE_KV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"envKeys\": [\"PROMPT_CACHE_KV_BINDING_NAME\", \"...\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Config retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"#### 5.2. OPTIONS `/*` - CORS preflight requests","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Mục đích:** Xử lý CORS preflight requests cho tất cả các endpoints. Tự động được gọi bởi trình duyệt khi thực hiện cross-origin requests.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Authentication:** Không yêu cầu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Trả về HTTP 204 (No Content) với các headers CORS:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Origin`: Cho phép tất cả origins","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Methods`: GET, POST, PUT, DELETE, OPTIONS","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Headers`: Content-Type, Authorization, X-API-Key, và các headers khác","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Max-Age`: 86400 (24 giờ)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Endpoint `/upload-proxy/*` có hỗ trợ thêm method PUT trong CORS headers.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Tổng kết","heading":"Tổng kết","text":"## Tổng kết","url":"#/API_TONG_QUAN_VI.md?id=tng-kt","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tổng số API endpoints: 26**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xem danh sách đầy đủ tại [APIs cần tích hợp với mobile](#apis-cần-tích-hợp-với-mobile-14-apis) ở đầu tài liệu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Custom Domain","heading":"Custom Domain","text":"## Custom Domain","url":"#/API_TONG_QUAN_VI.md?id=custom-domain","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Worker API Domain**: `https://api.d.shotpix.app` - Dùng cho tất cả API endpoints","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **R2 Public Domain**: `https://resources.d.shotpix.app` - Dùng cho public URLs của files trong R2 bucket","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Format R2 public URL: `https://resources.d.shotpix.app/{bucket-name}/{key}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"# Face Swap AI - Requirements","url":"#/REQUIREMENTS.md","level":1},{"title":"Face Swap AI - Requirements - Overview","heading":"Overview","text":"## Overview","url":"#/REQUIREMENTS.md?id=overview","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The applicat","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Structure","heading":"Frontend Structure","text":"## Frontend Structure","url":"#/REQUIREMENTS.md?id=frontend-structure","level":2},{"title":"Face Swap AI - Requirements - File Organization","heading":"File Organization","text":"### File Organization","url":"#/REQUIREMENTS.md?id=file-organization","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `index.html` - Main HTML structure with inline CSS and JavaScript","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Layout","heading":"UI Layout","text":"### UI Layout","url":"#/REQUIREMENTS.md?id=ui-layout","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Main workspace: Two-column grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Left column: Preset section (top) and Selfie section (bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column: Result image (spans both rows, large display)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Bottom section: Results history gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both preset and selfie have identical UI: Upload area + Gallery for selection","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI/UX Design Guide","heading":"UI/UX Design Guide","text":"## UI/UX Design Guide","url":"#/REQUIREMENTS.md?id=uiux-design-guide","level":2},{"title":"Face Swap AI - Requirements - Design Principles","heading":"Design Principles","text":"### Design Principles","url":"#/REQUIREMENTS.md?id=design-principles","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Clarity**: Users should understand what to do without reading instructions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Efficiency**: Minimize clicks and steps to complete tasks.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Feedback**: Always provide clear visual feedback for user actions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Layout Structure","heading":"Layout Structure","text":"### Layout Structure","url":"#/REQUIREMENTS.md?id=layout-structure","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Container","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 1200px (centered on large screens)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px on desktop, 16px on mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF (white) or #FAFAFA (very light gray)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 0px (sharp, professional edges)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Workspace - Two Column Grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Layout**: CSS Grid with 2 columns","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Left Column** (40% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Section** (top row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Section** (bottom row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop (identical to preset)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap between sections: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Right Column** (60% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Image Display** (spans both rows):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gap between columns**: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Generate Button**: Full width below the grid, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Bottom Section - Results History","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full width grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 16px between items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Color Palette","heading":"Color Palette","text":"### Color Palette","url":"#/REQUIREMENTS.md?id=color-palette","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: #2563EB (Blue 600) - Main actions, selected states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Neutral Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Background**: #FFFFFF (White)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Surface**: #F9FAFB (Gray 50) - Card backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Border**: #E5E7EB (Gray 200) - Dividers, borders","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Primary**: #111827 (Gray 900) - Main text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**: #10B981 (Green 500) - Success messages, completed states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**: #EF4444 (Red 500) - Error messages, warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Warning**: #F59E0B (Amber 500) - Warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**: #3B82F6 (Blue 500) - Informational messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Typography","heading":"Typography","text":"### Typography","url":"#/REQUIREMENTS.md?id=typography","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Family","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: System font stack: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Monospace**: `'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace` (for filenames only)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Sizes","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Body**: 16px / 1.5 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Small**: 14px / 1.4 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Caption**: 12px / 1.3 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Text Hierarchy","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Page title: H1, centered or left-aligned","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Section headers: H2, left-aligned with 24px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Labels: Small, Text Secondary color, 8px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body text: Body size, Text Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Spacing System","heading":"Spacing System","text":"### Spacing System","url":"#/REQUIREMENTS.md?id=spacing-system","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use 4px base unit for consistent spacing","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XS**: 4px (tight spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **S**: 8px (small gaps)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **M**: 16px (default spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **L**: 24px (section spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XL**: 32px (large sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XXL**: 48px (major sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Component Specifications","heading":"Component Specifications","text":"### Component Specifications","url":"#/REQUIREMENTS.md?id=component-specifications","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Areas","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px dashed #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex, column, center, align-items center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (subtle highlight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Drag Over State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Primary Light)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border style: solid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Icon/Illustration**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 48px × 48px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Primary: \"Click to upload or drag and drop\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 4px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Subtext**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- \"JPG, PNG, WebP (max 10MB)\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **File Input**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hidden (display: none)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Triggered by container click","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Selected Image Preview (Preset/Selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6 (Gray 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 300px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image without cropping)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Label**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-left","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.7)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 0 0 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Selected Preset\" or \"Selected Selfie\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 36px × 36px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: × (close/delete, 20px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease, transform 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog before deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Result Image Display","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (Surface)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 600px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-row: span 2 (spans both preset and selfie rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image** (when result exists):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Empty State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: 64px × 64px, Gray 300","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered vertically and horizontally","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Gallery Grid (Preset/Selfie Selection)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max columns: 3 on desktop (fits in left column)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow-y: auto","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gallery Item**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Aspect ratio: 1:1 (square)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: transform 0.2s ease, border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selected State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border width: 3px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transform: scale(1.02)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: cover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button** (Gallery Item):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 24px × 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: × (close/delete, 14px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Opacity: 0 (hidden by default)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: opacity 0.2s ease, background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on gallery item): Opacity: 1","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog, prevent event propagation (don't select item)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Primary Button (Generate)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Default**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100% (on mobile), auto (on desktop)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #1D4ED8 (Primary Hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Disabled**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: not-allowed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Loading**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show spinner icon (16px) + text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable interaction","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Secondary Button (Reset/Clear)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #6B7280 (Text Secondary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Same padding and sizing as primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1FAE5 (Green 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #065F46 (Green 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ✓ (checkmark)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FEE2E2 (Red 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #991B1B (Red 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ✕ (cross)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Blue 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #1E40AF (Blue 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ℹ (info)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Loading Spinner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 9999","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text-align: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 40px × 40px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 3px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-top: 3px solid #2563EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Animation: spin 0.8s linear infinite","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 0 auto 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Confirmation Dialog","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10000","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Dialog Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 320px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Title**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: H2 (20px, 600 weight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Message**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Line-height: 1.5","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Button Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: flex-end","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Cancel Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Confirm Button** (Delete):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #EF4444 (Red 500)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #DC2626 (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - User Flow","heading":"User Flow","text":"### User Flow","url":"#/REQUIREMENTS.md?id=user-flow","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Flow: Generate Face Swap","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. **Select/Upload Preset** (left column, top)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" → \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. **Select/Upload Selfie** (left column, bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" → \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. **Generate Button Enabled**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Button changes from disabled to active","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both large previews visible in left column","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column shows empty state","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. **Click Generate**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay appears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button disabled","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Processing face swap...\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"5. **Result Display**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay disappears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image appears in large right column (spans both rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success message: \"Face swap completed\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result added to history gallery below","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Responsive Design","heading":"Responsive Design","text":"### Responsive Design","url":"#/REQUIREMENTS.md?id=responsive-design","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Breakpoints","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Mobile**: < 768px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single column layout (stack preset, selfie, result vertically)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full-width buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 2-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reduced padding (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Full width, normal height","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Tablet**: 768px - 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Standard padding (24px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Desktop**: > 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width container (1200px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Large display, spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Accessibility","heading":"Accessibility","text":"### Accessibility","url":"#/REQUIREMENTS.md?id=accessibility","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Keyboard Navigation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All interactive elements must be keyboard accessible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Tab order: Upload areas → Gallery items → Generate button → Results","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enter/Space to activate buttons and select items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: 2px solid outline in Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Screen Readers","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All images must have alt text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Buttons must have descriptive labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status messages must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading states must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Visual Accessibility","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color contrast: Minimum 4.5:1 for text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: Clear and visible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error states: Use icons + text, not just color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Touch targets: Minimum 44px × 44px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Performance Considerations","heading":"Performance Considerations","text":"### Performance Considerations","url":"#/REQUIREMENTS.md?id=performance-considerations","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Lazy load gallery images (use loading=\"lazy\")","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Optimize images before upload (client-side compression if possible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show skeleton loaders while fetching data","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Debounce search/filter inputs if added later","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cache gallery images in browser","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error States","heading":"Error States","text":"### Error States","url":"#/REQUIREMENTS.md?id=error-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network error: \"Upload failed. Please check your connection and try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- File too large: \"File exceeds 10MB limit. Please choose a smaller file.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid format: \"Invalid file type. Please upload JPG, PNG, or WebP.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Duplicate: \"This image already exists. Using existing version.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Generation Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API error: \"Face swap failed. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Timeout: \"Request timed out. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid images: \"Could not process images. Please ensure both images contain faces.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Empty States","heading":"Empty States","text":"### Empty States","url":"#/REQUIREMENTS.md?id=empty-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Presets Gallery**: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Selfies Gallery**: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Results History**: \"No results yet. Generate your first face swap to see it here.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Display Empty**: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use subtle illustration or icon (48px, Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: Small, Text Secondary, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Backend API Endpoints","heading":"Backend API Endpoints","text":"## Backend API Endpoints","url":"#/REQUIREMENTS.md?id=backend-api-endpoints","level":2},{"title":"Face Swap AI - Requirements - Backend Database Schema","heading":"Backend Database Schema","text":"### Backend Database Schema","url":"#/REQUIREMENTS.md?id=backend-database-schema","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets` table: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `thumbnail_r2_key`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies` table: `id`, `image_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results` table: `id`, `preset_name`, `result_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Thumbnails được lưu trong cùng row với preset (same-row approach)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Endpoints","heading":"Endpoints","text":"### Endpoints","url":"#/REQUIREMENTS.md?id=endpoints","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/presets`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ presets: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset contains: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Query params: `include_thumbnails` (optional, default: false) - bao gồm presets có thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Presets are stored as individual entries (no collections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/selfies`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ selfies: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie contains: `id`, `selfie_url` (full URL), `action`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selfies are stored as individual entries","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Lưu ý**: `selfie_url` trong database chỉ lưu bucket key, API tự động assemble full URL từ `R2_DOMAIN` khi trả về","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (preset ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find preset by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `presets` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Preset deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if preset not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (selfie ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find selfie by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `selfies` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Selfie deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if selfie not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/upload-url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Content-Type: `multipart/form-data` hoặc `application/json`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (multipart): `files` (file[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, chỉ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (JSON): `image_url` hoặc `image_urls` (string[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, chỉ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Upload file(s) to R2 storage","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Với selfie:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Chỉ với `action=\"4k\"` hoặc `action=\"4K\"`**: Kiểm tra an toàn bằng Vision API trước khi lưu vào database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Các action khác (như `\"faceswap\"`, `\"wedding\"`, `\"default\"`, v.v.)**: Không kiểm tra Vision API","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Tự động xóa ảnh cũ dựa trên action:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"faceswap\"`: Tối đa 8 ảnh (có thể cấu hình qua `SELFIE_MAX_FACESWAP`), xóa ảnh cũ nhất khi vượt quá giới hạn","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"wedding\"`: Tối đa 2 ảnh (cấu hình qua `SELFIE_MAX_WEDDING`), xóa ảnh cũ nhất khi có >= 2 ảnh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"4k\"` hoặc `\"4K\"`: Tối đa 1 ảnh (cấu hình qua `SELFIE_MAX_4K`), xóa ảnh cũ khi có >= 1 ảnh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Action khác: Tối đa 1 ảnh (cấu hình qua `SELFIE_MAX_OTHER`), xóa ảnh cũ khi có >= 1 ảnh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Insert record(s) vào database (`presets` hoặc `selfies` table) với bucket key (không phải full URL)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Với preset: tự động generate Vertex prompt nếu `enableVertexPrompt=true`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Response format: `{ data: { results: [...], count, successful, failed }, status, message, code, debug? }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Với selfie: mỗi result có thêm field `action`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hỗ trợ upload nhiều file cùng lúc","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Lưu ý**: `selfie_url` trong database chỉ lưu bucket key (ví dụ: `\"selfie/filename.jpg\"`), API tự động assemble full URL khi trả về","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/faceswap`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"preset_image_id\": \"preset_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"selfie_id\": \"selfie_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"profile_id\": \"user_profile_id\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"resultImageUrl\": \"result_url\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"status\": \"success\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"message\": \"Processing successful\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"code\": 200,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"debug\": {}","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/results`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ results: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result contains: `result_url`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Functionality","heading":"Frontend Functionality","text":"## Frontend Functionality","url":"#/REQUIREMENTS.md?id=frontend-functionality","level":2},{"title":"Face Swap AI - Requirements - Preset Section (Left Column, Top)","heading":"Preset Section (Left Column, Top)","text":"### Preset Section (Left Column, Top)","url":"#/REQUIREMENTS.md?id=preset-section-left-column-top","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one preset at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'preset'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and preset object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click preset to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected preset preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Preset**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this preset?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted preset was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Section (Left Column, Bottom)","heading":"Selfie Section (Left Column, Bottom)","text":"### Selfie Section (Left Column, Bottom)","url":"#/REQUIREMENTS.md?id=selfie-section-left-column-bottom","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Identical UI and functionality to Preset Upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one selfie at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'selfie'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and selfie object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click selfie to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected selfie preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Selfie**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this selfie?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted selfie was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Display (Right Column, Spans Both Rows)","heading":"Result Display (Right Column, Spans Both Rows)","text":"### Result Display (Right Column, Spans Both Rows)","url":"#/REQUIREMENTS.md?id=result-display-right-column-spans-both-rows","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large display area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\" with icon","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Max width/height 100%, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Updates automatically after successful generation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Face Swap Generation","heading":"Face Swap Generation","text":"### Face Swap Generation","url":"#/REQUIREMENTS.md?id=face-swap-generation","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button positioned below main workspace grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enabled when both preset and selfie are selected","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On click:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show loading spinner overlay","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable button","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/faceswap` with preset URL and selfie URL","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display result image in right column on success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show error message on failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload results history gallery after success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Results Display","heading":"Results Display","text":"### Results Display","url":"#/REQUIREMENTS.md?id=results-display","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display results in simple grid gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result card shows image and date","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Date formatted as Vietnamese locale","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Data Structures","heading":"Data Structures","text":"## Data Structures","url":"#/REQUIREMENTS.md?id=data-structures","level":2},{"title":"Face Swap AI - Requirements - Preset Object","heading":"Preset Object","text":"### Preset Object","url":"#/REQUIREMENTS.md?id=preset-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"prompt_json: object | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_url: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_format: 'webp' | 'lottie' | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_resolution: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Object","heading":"Selfie Object","text":"### Selfie Object","url":"#/REQUIREMENTS.md?id=selfie-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Object","heading":"Result Object","text":"### Result Object","url":"#/REQUIREMENTS.md?id=result-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"result_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string (ISO format)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - State Variables","heading":"State Variables","text":"## State Variables","url":"#/REQUIREMENTS.md?id=state-variables","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedPreset`: Currently selected preset object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedSelfie`: Currently selected selfie object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets`: Array of all preset objects (loaded from `/presets`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies`: Array of all selfie objects (loaded from `/selfies`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results`: Array of all result objects (loaded from `/results`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Elements","heading":"UI Elements","text":"## UI Elements","url":"#/REQUIREMENTS.md?id=ui-elements","level":2},{"title":"Face Swap AI - Requirements - Preset Gallery","heading":"Preset Gallery","text":"### Preset Gallery","url":"#/REQUIREMENTS.md?id=preset-gallery","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Simple grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each card: square aspect ratio, image only","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected state: border highlight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Status Messages","heading":"Status Messages","text":"### Status Messages","url":"#/REQUIREMENTS.md?id=status-messages","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success: Green color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error: Red color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading: Spinner animation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Image URL Handling","heading":"Image URL Handling","text":"## Image URL Handling","url":"#/REQUIREMENTS.md?id=image-url-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Database stores the final accessible URL directly in `image_url` field","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend constructs the correct R2 URL (e.g., `/r2/preset/filename.jpg` or full URL with worker domain) when uploading","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Frontend uses `image_url` from database directly - no conversion needed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- URLs are ready to use as-is for display and API calls","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error Handling","heading":"Error Handling","text":"## Error Handling","url":"#/REQUIREMENTS.md?id=error-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network errors: Show error message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API errors: Display error message from response","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Image load errors: Show placeholder","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Initialization","heading":"Initialization","text":"## Initialization","url":"#/REQUIREMENTS.md?id=initialization","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display loading placeholders while fetching","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show empty states if no data available","url":"#/REQUIREMENTS.md","level":0}];
    
    // Configure Docsify
    window.$docsify = {
      name: 'Face Swap AI API',
      repo: '',
      loadSidebar: true,
      subMaxLevel: 4,
      auto2top: true,
      homepage: 'API_TONG_QUAN_VI.md',
      coverpage: false,
      search: {
        maxAge: 86400000,
        paths: ["API_TONG_QUAN_VI.md","REQUIREMENTS.md"],
        placeholder: 'Tìm kiếm...',
        noData: 'Không tìm thấy kết quả',
        depth: 6
      },
      notFoundPage: true,
      executeScript: true,
      pagination: {
        previousText: 'Trước',
        nextText: 'Tiếp',
        crossChapter: true,
        crossChapterText: true,
      },
      plugins: [
        function(hook, vm) {
          // Override sidebar loading
          hook.beforeEach(function(html) {
            return html;
          });
          
          hook.mounted(function() {
            // Inject sidebar content
            const sidebarEl = document.querySelector('.sidebar');
            if (sidebarEl && window.__staticSidebar) {
              // Docsify will load sidebar, but we can pre-populate it
            }
            
            // Ensure sidebar is expanded by default
            setTimeout(() => {
              const sidebar = document.querySelector('.sidebar');
              const app = document.querySelector('#app');
              if (sidebar && app) {
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.display = 'block';
                app.classList.remove('close');
              }
            }, 100);
          });
          
          // Override fetch to serve from embedded content
          const originalFetch = window.fetch;
          window.fetch = function(url, options) {
            if (typeof url === 'string') {
              // Handle markdown files
              if (url.endsWith('.md') || url.includes('.md')) {
                const fileName = url.split('/').pop().split('?')[0];
                if (window.__staticDocs[fileName]) {
                  return Promise.resolve(new Response(
                    window.__staticDocs[fileName],
                    { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                  ));
                }
              }
              // Handle sidebar
              if (url.includes('_sidebar.md') || url.endsWith('_sidebar')) {
                return Promise.resolve(new Response(
                  window.__staticSidebar,
                  { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                ));
              }
            }
            return originalFetch.apply(this, arguments);
          };
          
          // Inject search index when search plugin loads
          hook.doneEach(function() {
            if (window.Docsify && window.Docsify.util && window.__staticSearchIndex) {
              // Try to set search index
              setTimeout(() => {
                const searchPlugin = window.Docsify.dom.find('.search input');
                if (searchPlugin && !window.__searchIndexSet) {
                  // Store index globally for search plugin
                  window.DocsifySearchIndex = window.__staticSearchIndex;
                  window.__searchIndexSet = true;
                }
              }, 100);
            }
          });
        },
        // Custom search plugin that uses pre-generated index
        function(hook, vm) {
          hook.ready(function() {
            if (window.__staticSearchIndex) {
              // Override search functionality
              const searchInput = document.querySelector('.search input');
              if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                  const query = e.target.value.toLowerCase().trim();
                  if (query.length < 2) return;
                  
                  const results = window.__staticSearchIndex.filter(item => {
                    const searchText = (item.title + ' ' + item.text).toLowerCase();
                    return searchText.includes(query);
                  });
                  
                  // Display results (simplified - Docsify will handle UI)
                  console.log('Search results:', results.length);
                });
              }
            }
          });
        }
      ]
    };
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/pagination.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
</body>
</html>