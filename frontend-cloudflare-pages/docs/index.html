<!--
  ‚ö†Ô∏è DO NOT EDIT THIS FILE ‚ö†Ô∏è
  This file is auto-generated by build-static.js
  To make changes, edit the source files and run: node build-static.js
  Generated: 2026-02-03T01:53:39.035Z
-->
<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Face Swap AI - API Documentation</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/buble.css">
  <style>
    * {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    :root {
      --theme-color: #3b82f6;
      --theme-color-dark: #2563eb;
      --sidebar-width: 380px;
      --content-max-width: 95%;
    }
    
    body {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
    }
    
    .app-name-link img {
      max-width: 200px;
    }
    
    .sidebar {
      background: #ffffff;
      border-right: 1px solid #e5e7eb;
      width: var(--sidebar-width) !important;
    }
    
    .sidebar-toggle {
      display: none !important;
    }
    
    @media (max-width: 768px) {
      .sidebar {
        width: var(--sidebar-width) !important;
        transform: translateX(0) !important;
      }
    }
    
    .sidebar ul li a {
      color: #374151;
      font-weight: 400;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .sidebar ul li a:hover {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
    }
    
    .sidebar ul li.active > a {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.1);
      border-left: 3px solid var(--theme-color);
      font-weight: 500;
    }
    
    .markdown-section {
      max-width: var(--content-max-width) !important;
      width: var(--content-max-width) !important;
      padding: 2rem 3rem;
    }
    
    @media (min-width: 1400px) {
      .markdown-section {
        max-width: 1400px !important;
        width: 1400px !important;
      }
    }
    
    .markdown-section h1 {
      color: #1f2937;
      border-bottom: 2px solid var(--theme-color);
      padding-bottom: 10px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h2 {
      color: #374151;
      margin-top: 40px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h3 {
      color: #4b5563;
      margin-top: 30px;
      font-weight: 500;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section p,
    .markdown-section li {
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 400;
      line-height: 1.7;
      color: #4b5563;
    }
    
    .markdown-section code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: #f3f4f6;
      color: #dc2626;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      font-weight: 400;
    }
    
    .markdown-section pre {
      background: #1f2937;
      border-left: 4px solid var(--theme-color);
      border-radius: 6px;
      padding: 1.5rem;
      overflow-x: auto;
    }
    
    .markdown-section pre code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: transparent;
      color: #e5e7eb;
      padding: 0;
      font-size: 0.9em;
      font-weight: 400;
      line-height: 1.6;
    }
    
    .markdown-section blockquote {
      border-left: 4px solid var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }
    
    .markdown-section blockquote p {
      color: #4b5563;
      margin: 0;
    }
    
    .app-name {
      font-size: 24px;
      font-weight: 600;
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .cover {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 50%, #bfdbfe 100%);
    }
    
    .cover-main {
      color: #1f2937;
    }
    
    .cover-main h1 {
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 600;
    }
    
    .cover-main p {
      color: #4b5563;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    
    table th,
    table td {
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
      text-align: left;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    
    table tr:hover {
      background: #f9fafb;
    }
    
    .search input {
      font-family: 'Lexend Deca', sans-serif;
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  
  <script>
    // Embedded markdown content
    window.__staticDocs = {
      'API_TONG_QUAN_VI.md': `# T·ªïng quan API Face Swap AI

T√†i li·ªáu n√†y m√¥ t·∫£ ƒë·∫ßy ƒë·ªß c√°c ƒëi·ªÉm cu·ªëi (endpoint) m√† Cloudflare Worker cung c·∫•p.

**Base URL:** \`https://api.d.shotpix.app\`

---

## M·ª•c l·ª•c

- [X√°c th·ª±c API](#x√°c-th·ª±c-api-api-authentication)
- [APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile](#apis-c·∫ßn-t√≠ch-h·ª£p-v·ªõi-mobile-15-apis)
- [Error Codes Reference](#error-codes-reference)
- [API Endpoints (Chi ti·∫øt)](#api-endpoints-chi-ti·∫øt)
  - [1. Upload & Qu·∫£n l√Ω File](#1-upload--qu·∫£n-l√Ω-file)
  - [2. AI Processing](#2-ai-processing)
  - [3. Qu·∫£n l√Ω Profile](#3-qu·∫£n-l√Ω-profile)
  - [4. Truy v·∫•n D·ªØ li·ªáu](#4-truy-v·∫•n-d·ªØ-li·ªáu)
  - [5. H·ªá th·ªëng & C·∫•u h√¨nh](#5-h·ªá-th·ªëng--c·∫•u-h√¨nh)
- [T·ªïng k·∫øt](#t·ªïng-k·∫øt)

---

## X√°c th·ª±c API (API Authentication)

### Mobile API Key Authentication

H·ªá th·ªëng h·ªó tr·ª£ x√°c th·ª±c b·∫±ng API key cho c√°c mobile APIs. T√≠nh nƒÉng n√†y c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t/t·∫Øt th√¥ng qua bi·∫øn m√¥i tr∆∞·ªùng \`ENABLE_MOBILE_API_KEY_AUTH\`.

**Khi b·∫≠t (\`ENABLE_MOBILE_API_KEY_AUTH=true\`):**
- C√°c mobile APIs ƒë∆∞·ª£c b·∫£o v·ªá y√™u c·∫ßu API key trong request header
- API key c√≥ th·ªÉ ƒë∆∞·ª£c g·ª≠i qua:
  - Header \`X-API-Key\`: \`X-API-Key: your_api_key_here\`
  - Header \`Authorization\`: \`Authorization: Bearer your_api_key_here\`

**C√°c endpoints ƒë∆∞·ª£c b·∫£o v·ªá (khi authentication ƒë∆∞·ª£c b·∫≠t):**
- POST \`/upload-url\` (type=selfie) - Ch·ªâ khi upload selfie
- POST \`/faceswap\`
- POST \`/background\`
- POST \`/enhance\`
- POST \`/beauty\`
- POST \`/filter\`
- POST \`/restore\`
- POST \`/aging\`
- POST \`/upscaler4k\`
- POST \`/profiles\` - Ch·ªâ khi t·∫°o profile m·ªõi
- GET \`/profiles/{id}\` - Ch·ªâ khi l·∫•y profile theo ID
- DELETE \`/results/{id}\` - X√≥a result

**L∆∞u √Ω:**
- POST \`/upload-url\` (type=preset) kh√¥ng y√™u c·∫ßu API key (backend only)
- C√°c endpoints kh√°c kh√¥ng n·∫±m trong danh s√°ch tr√™n kh√¥ng y√™u c·∫ßu API key

---

## Silent Push Notifications (FCM)

H·ªá th·ªëng h·ªó tr·ª£ g·ª≠i silent push notifications (kh√¥ng hi·ªÉn th·ªã notification bar) cho Web, Android, v√† iOS th√¥ng qua Firebase Cloud Messaging (FCM).

### ƒê·∫∑c ƒêi·ªÉm

- **Silent Push:** Kh√¥ng hi·ªÉn th·ªã notification bar, app x·ª≠ l√Ω data trong background
- **Multi-Device:** M·ªôt profile c√≥ th·ªÉ c√≥ nhi·ªÅu devices (phone, tablet, web)
- **Auto-Cleanup:** T·ª± ƒë·ªông x√≥a invalid tokens (app uninstall, token expired)
- **Profile-Based:** Push g·ª≠i ƒë·∫øn t·∫•t c·∫£ devices c·ªßa m·ªôt profile
- **High Performance:** OAuth tokens ƒë∆∞·ª£c cache trong KV (55 ph√∫t)

### Endpoints

#### 1. ƒêƒÉng K√Ω Device (POST /api/device/register)

**URL:** \`POST /api/device/register\`

**Auth:** None (public endpoint)

**Request Body:**
\`\`\`json
{
  "profile_id": "profile_1234567890",
  "platform": "android",
  "token": "fcm-device-token-here",
  "app_version": "1.0.0"
}
\`\`\`

**Fields:**
- \`profile_id\` (string, required): ID c·ªßa profile (t·ª´ \`/profiles\`)
- \`platform\` (string, required): \`android\`, \`ios\`, ho·∫∑c \`web\`
- \`token\` (string, required): FCM device token
- \`app_version\` (string, optional): Version c·ªßa app

**Response Success (200):**
\`\`\`json
{
  "data": { "registered": true },
  "status": "success",
  "message": "Processing successful",
  "code": 200
}
\`\`\`

**Errors:**
- \`400\`: Missing fields ho·∫∑c invalid platform
- \`404\`: Profile kh√¥ng t·ªìn t·∫°i
- \`500\`: Database error

**V√≠ d·ª•:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/api/device/register \\
  -H "Content-Type: application/json" \\
  -d '{
    "profile_id": "profile_abc123",
    "platform": "web",
    "token": "fcm-web-token-xyz",
    "app_version": "1.0.0"
  }'
\`\`\`

---

#### 2. G·ª≠i Silent Push (POST /api/push/silent)

**URL:** \`POST /api/push/silent\`

**Auth:** Requires \`X-API-Key\` header (MOBILE_API_KEY t·ª´ deployments-secrets.json)

**Request Body:**
\`\`\`json
{
  "profile_id": "profile_1234567890",
  "data": {
    "type": "operation_complete",
    "operation": "faceswap",
    "status": "success",
    "result_id": "result_xyz"
  },
  "exclude_token": "current-device-fcm-token"
}
\`\`\`

**Fields:**
- \`profile_id\` (string, required): ID c·ªßa profile nh·∫≠n push
- \`data\` (object, required): Custom data payload (t·∫•t c·∫£ values ph·∫£i l√† string)
- \`exclude_token\` (string, optional): Token c·ªßa device hi·ªán t·∫°i, s·∫Ω kh√¥ng g·ª≠i push cho device n√†y

**Response Success (200):**
\`\`\`json
{
  "data": {
    "sent": 2,
    "failed": 0,
    "cleaned": 1,
    "results": [
      { "token": "token1", "platform": "android", "success": true },
      { "token": "token2", "platform": "ios", "success": true }
    ]
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200
}
\`\`\`

**Response Fields:**
- \`sent\`: S·ªë devices nh·∫≠n push th√†nh c√¥ng
- \`failed\`: S·ªë devices th·∫•t b·∫°i
- \`cleaned\`: S·ªë tokens invalid ƒë√£ x√≥a kh·ªèi database

**Errors:**
- \`401\`: Invalid API key
- \`400\`: Missing fields
- \`500\`: FCM error ho·∫∑c database error

**V√≠ d·ª•:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/api/push/silent \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your-mobile-api-key-here" \\
  -d '{
    "profile_id": "profile_abc123",
    "data": {
      "type": "balance_sync",
      "amount": "100",
      "timestamp": "1706900000"
    }
  }'
\`\`\`

---

#### 3. H·ªßy ƒêƒÉng K√Ω Device (DELETE /api/device/unregister)

**URL:** \`DELETE /api/device/unregister\`

**Auth:** None (public endpoint)

**Request Body:**
\`\`\`json
{
  "token": "fcm-device-token-to-remove"
}
\`\`\`

**Response Success (200):**
\`\`\`json
{
  "data": { "unregistered": true },
  "status": "success",
  "message": "Processing successful",
  "code": 200
}
\`\`\`

**V√≠ d·ª•:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/api/device/unregister \\
  -H "Content-Type: application/json" \\
  -d '{
    "token": "fcm-device-token-xyz"
  }'
\`\`\`

---

### Auto-Push Sau M·ªói Operation

**T·∫•t c·∫£ API operations s·∫Ω t·ª± ƒë·ªông g·ª≠i silent push sau khi ho√†n th√†nh:**

- \`/faceswap\` ‚Üí Push v·ªõi \`type: "operation_complete", operation: "faceswap"\`
- \`/beauty\` ‚Üí Push v·ªõi \`type: "operation_complete", operation: "beauty"\`
- \`/filter\` ‚Üí Push v·ªõi \`type: "operation_complete", operation: "filter"\`
- \`/upscaler4k\` ‚Üí Push v·ªõi \`type: "operation_complete", operation: "upscale"\`
- \`/background\` ‚Üí Push v·ªõi \`type: "operation_complete", operation: "background"\`

**Push Data Structure:**
\`\`\`json
{
  "type": "operation_complete",
  "operation": "faceswap",
  "status": "success",
  "result_id": "result_1234567890",
  "timestamp": "1706900000"
}
\`\`\`

**N·∫øu operation th·∫•t b·∫°i:**
\`\`\`json
{
  "type": "operation_complete",
  "operation": "faceswap",
  "status": "error",
  "error": "Error message here",
  "timestamp": "1706900000"
}
\`\`\`

---

### Test UI

**URL:** \`https://your-domain.com/fcm-test.html\`

Test UI cung c·∫•p:
- ‚úÖ ƒêƒÉng k√Ω FCM token (Web)
- üì§ G·ª≠i test push
- üìù View logs realtime
- ‚ùå H·ªßy ƒëƒÉng k√Ω device

---

### Mobile/Web Integration

**Docs ƒë·∫ßy ƒë·ªß:** [FCM_SETUP_VI.md](./FCM_SETUP_VI.md) v√† [FCM_QUICK_SETUP.md](./FCM_QUICK_SETUP.md)

**Web (Firebase SDK):**
\`\`\`javascript
import { initializeApp } from 'firebase/app';
import { getMessaging, getToken, onMessage } from 'firebase/messaging';

const app = initializeApp(firebaseConfig);
const messaging = getMessaging(app);

// Get token
const token = await getToken(messaging, { vapidKey: 'YOUR_VAPID_KEY' });

// Register with backend
await fetch('/api/device/register', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    profile_id: userProfileId,
    platform: 'web',
    token: token
  })
});

// Listen for foreground messages
onMessage(messaging, (payload) => {
  console.log('Received:', payload.data);
  // Handle data (refresh UI, update balance, etc.)
});
\`\`\`

**Android (Kotlin):**
\`\`\`kotlin
// Register on app startup
FirebaseMessaging.getInstance().token.addOnCompleteListener { task ->
    if (task.isSuccessful) {
        ApiService.registerDevice(
            profileId = UserSession.getProfileId(),
            platform = "android",
            token = task.result
        )
    }
}

// Handle data-only message
class MyFirebaseMessagingService : FirebaseMessagingService() {
    override fun onMessageReceived(message: RemoteMessage) {
        val data = message.data
        when (data["type"]) {
            "operation_complete" -> handleOperationComplete(data)
            "balance_sync" -> BalanceRepository.updateBalance(data["amount"])
        }
    }
}
\`\`\`

**iOS (Swift):**
\`\`\`swift
// Register on app startup
Messaging.messaging().token { token, error in
    guard let token = token else { return }
    ApiService.registerDevice(
        profileId: UserSession.shared.profileId,
        platform: "ios",
        token: token
    )
}

// Handle silent push
func application(_ application: UIApplication,
                 didReceiveRemoteNotification userInfo: [AnyHashable: Any],
                 fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void) {
    let type = userInfo["type"] as? String
    switch type {
    case "operation_complete":
        handleOperationComplete(userInfo)
        completionHandler(.newData)
    default:
        completionHandler(.noData)
    }
}
\`\`\`

---
**T·∫°o API Key:**

S·ª≠ d·ª•ng script \`generate-api-key.js\` ƒë·ªÉ t·∫°o API key m·ªõi:

\`\`\`bash
node backend-cloudflare-workers/generate-api-key.js
\`\`\`

Script s·∫Ω t·∫°o m·ªôt API key ng·∫´u nhi√™n 32 bytes (256 bits) v√† hi·ªÉn th·ªã h∆∞·ªõng d·∫´n th√™m v√†o \`deployments-secrets.json\`:

\`\`\`json
{
  "MOBILE_API_KEY": "your_generated_key_here",
  "ENABLE_MOBILE_API_KEY_AUTH": "true"
}
\`\`\`

**V√≠ d·ª• request v·ªõi API key:**

\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890"
  }'
\`\`\`

Ho·∫∑c s·ª≠ d·ª•ng Authorization header:

\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "Authorization: Bearer your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Error Response (401 Unauthorized):**

Khi API key kh√¥ng h·ª£p l·ªá ho·∫∑c thi·∫øu:

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Unauthorized",
  "code": 401
}
\`\`\`

---

## APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)

**T·ªïng s·ªë API endpoints: 26**

### APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)

1. POST \`/upload-url\` (type=selfie) - Upload selfie
2. POST \`/faceswap\` - ƒê·ªïi m·∫∑t (Face Swap) - lu√¥n d√πng Vertex AI, h·ªó tr·ª£ multiple selfies
3. POST \`/background\` - T·∫°o n·ªÅn AI (AI Background)
4. POST \`/enhance\` - AI enhance ·∫£nh (c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng k·ªπ thu·∫≠t)
5. POST \`/beauty\` - AI beautify ·∫£nh (c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t)
6. POST \`/filter\` - AI Filter (Styles) - √Åp d·ª•ng style t·ª´ preset l√™n selfie
7. POST \`/restore\` - AI kh√¥i ph·ª•c v√† n√¢ng c·∫•p ·∫£nh
8. POST \`/aging\` - AI l√£o h√≥a khu√¥n m·∫∑t
9. POST \`/upscaler4k\` - AI upscale ·∫£nh l√™n 4K
10. POST \`/profiles\` - T·∫°o profile
11. GET \`/profiles/{id}\` - L·∫•y profile (h·ªó tr·ª£ c·∫£ Profile ID v√† Device ID)
12. PUT \`/profiles/{id}\` - C·∫≠p nh·∫≠t profile
13. GET \`/selfies\` - Li·ªát k√™ selfies
14. GET \`/results\` - Li·ªát k√™ results (generated images)
15. DELETE \`/results/{id}\` - X√≥a result

### APIs kh√¥ng c·∫ßn t√≠ch h·ª£p v·ªõi mobile (11 APIs)

16. GET \`/profiles\` - Li·ªát k√™ profiles
17. POST \`/upload-url\` (type=preset) - Upload preset (backend only)
18. GET \`/presets\` - Li·ªát k√™ presets
19. GET \`/presets/{id}\` - L·∫•y preset theo ID (bao g·ªìm prompt_json)
20. DELETE \`/presets/{id}\` - X√≥a preset
21. DELETE \`/selfies/{id}\` - X√≥a selfie
22. POST \`/upload-thumbnails\` - T·∫£i l√™n thumbnails v√† presets (batch)
23. GET \`/thumbnails\` - Li·ªát k√™ thumbnails
24. GET \`/thumbnails/{id}/preset\` - L·∫•y preset_id t·ª´ thumbnail_id
25. GET \`/config\` - L·∫•y config
26. OPTIONS \`/*\` - CORS preflight requests

---

## Error Codes Reference

### Vision API Safety Error Codes (1001-1005)

C√°c error codes n√†y ƒë∆∞·ª£c tr·∫£ v·ªÅ khi Google Vision API SafeSearch ph√°t hi·ªán n·ªôi dung kh√¥ng ph√π h·ª£p trong ·∫£nh. ƒê∆∞·ª£c s·ª≠ d·ª•ng cho:
- POST \`/upload-url\` (type=selfie, action="4k" ho·∫∑c "4K") - Ki·ªÉm tra ·∫£nh selfie tr∆∞·ªõc khi l∆∞u

| Error Code | Category | M√¥ t·∫£ |
|------------|----------|-------|
| **1001** | ADULT | Th·ªÉ hi·ªán kh·∫£ nƒÉng n·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c·ªßa h√¨nh ·∫£nh. N·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c√≥ th·ªÉ bao g·ªìm c√°c y·∫øu t·ªë nh∆∞ kh·ªèa th√¢n, h√¨nh ·∫£nh ho·∫∑c phim ho·∫°t h√¨nh khi√™u d√¢m, ho·∫∑c c√°c ho·∫°t ƒë·ªông t√¨nh d·ª•c. |
| **1002** | VIOLENCE | H√¨nh ·∫£nh n√†y c√≥ kh·∫£ nƒÉng ch·ª©a n·ªôi dung b·∫°o l·ª±c. N·ªôi dung b·∫°o l·ª±c c√≥ th·ªÉ bao g·ªìm c√°i ch·∫øt, th∆∞∆°ng t√≠ch nghi√™m tr·ªçng ho·∫∑c t·ªïn h·∫°i ƒë·∫øn c√° nh√¢n ho·∫∑c nh√≥m c√° nh√¢n. |
| **1003** | RACY | Kh·∫£ nƒÉng cao h√¨nh ·∫£nh ƒë∆∞·ª£c y√™u c·∫ßu ch·ª©a n·ªôi dung khi√™u d√¢m. N·ªôi dung khi√™u d√¢m c√≥ th·ªÉ bao g·ªìm (nh∆∞ng kh√¥ng gi·ªõi h·∫°n) qu·∫ßn √°o m·ªèng manh ho·∫∑c xuy√™n th·∫•u, kh·ªèa th√¢n ƒë∆∞·ª£c che ƒë·∫≠y m·ªôt c√°ch kh√©o l√©o, t∆∞ th·∫ø t·ª•c tƒ©u ho·∫∑c khi√™u kh√≠ch, ho·∫∑c c·∫≠n c·∫£nh c√°c v√πng nh·∫°y c·∫£m tr√™n c∆° th·ªÉ. |
| **1004** | MEDICAL | R·∫•t c√≥ th·ªÉ ƒë√¢y l√† h√¨nh ·∫£nh y t·∫ø. |
| **1005** | SPOOF | X√°c su·∫•t ch·∫ø gi·ªÖu. X√°c su·∫•t x·∫£y ra vi·ªác ch·ªânh s·ª≠a phi√™n b·∫£n g·ªëc c·ªßa h√¨nh ·∫£nh ƒë·ªÉ l√†m cho n√≥ tr√¥ng h√†i h∆∞·ªõc ho·∫∑c ph·∫£n c·∫£m. |

#### T√¨m ki·∫øm An to√†n (Safe Search)

T·∫≠p h·ª£p c√°c ƒë·∫∑c ƒëi·ªÉm li√™n quan ƒë·∫øn h√¨nh ·∫£nh, ƒë∆∞·ª£c t√≠nh to√°n b·∫±ng c√°c ph∆∞∆°ng ph√°p th·ªã gi√°c m√°y t√≠nh tr√™n c√°c lƒ©nh v·ª±c t√¨m ki·∫øm an to√†n (v√≠ d·ª•: ng∆∞·ªùi l·ªõn, gi·∫£ m·∫°o, y t·∫ø, b·∫°o l·ª±c).

**C√°c tr∆∞·ªùng (Fields):**

- **adult** (Likelihood): Th·ªÉ hi·ªán kh·∫£ nƒÉng n·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c·ªßa h√¨nh ·∫£nh. N·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c√≥ th·ªÉ bao g·ªìm c√°c y·∫øu t·ªë nh∆∞ kh·ªèa th√¢n, h√¨nh ·∫£nh ho·∫∑c phim ho·∫°t h√¨nh khi√™u d√¢m, ho·∫∑c c√°c ho·∫°t ƒë·ªông t√¨nh d·ª•c.

- **spoof** (Likelihood): X√°c su·∫•t ch·∫ø gi·ªÖu. X√°c su·∫•t x·∫£y ra vi·ªác ch·ªânh s·ª≠a phi√™n b·∫£n g·ªëc c·ªßa h√¨nh ·∫£nh ƒë·ªÉ l√†m cho n√≥ tr√¥ng h√†i h∆∞·ªõc ho·∫∑c ph·∫£n c·∫£m.

- **medical** (Likelihood): R·∫•t c√≥ th·ªÉ ƒë√¢y l√† h√¨nh ·∫£nh y t·∫ø.

- **violence** (Likelihood): H√¨nh ·∫£nh n√†y c√≥ kh·∫£ nƒÉng ch·ª©a n·ªôi dung b·∫°o l·ª±c. N·ªôi dung b·∫°o l·ª±c c√≥ th·ªÉ bao g·ªìm c√°i ch·∫øt, th∆∞∆°ng t√≠ch nghi√™m tr·ªçng ho·∫∑c t·ªïn h·∫°i ƒë·∫øn c√° nh√¢n ho·∫∑c nh√≥m c√° nh√¢n.

- **racy** (Likelihood): Kh·∫£ nƒÉng cao h√¨nh ·∫£nh ƒë∆∞·ª£c y√™u c·∫ßu ch·ª©a n·ªôi dung khi√™u d√¢m. N·ªôi dung khi√™u d√¢m c√≥ th·ªÉ bao g·ªìm (nh∆∞ng kh√¥ng gi·ªõi h·∫°n) qu·∫ßn √°o m·ªèng manh ho·∫∑c xuy√™n th·∫•u, kh·ªèa th√¢n ƒë∆∞·ª£c che ƒë·∫≠y m·ªôt c√°ch kh√©o l√©o, t∆∞ th·∫ø t·ª•c tƒ©u ho·∫∑c khi√™u kh√≠ch, ho·∫∑c c·∫≠n c·∫£nh c√°c v√πng nh·∫°y c·∫£m tr√™n c∆° th·ªÉ.

#### Severity Levels (ƒê·ªô nghi√™m tr·ªçng)

Google Vision API SafeSearch tr·∫£ v·ªÅ m·ª©c ƒë·ªô nghi√™m tr·ªçng cho m·ªói field (adult, violence, racy, medical, spoof). App ki·ªÉm tra **t·∫•t c·∫£ c√°c fields** v√† s·ª≠ d·ª•ng **m·ª©c ƒë·ªô cao nh·∫•t** trong b·∫•t k·ª≥ field n√†o ƒë·ªÉ quy·∫øt ƒë·ªãnh c√≥ ch·∫∑n ·∫£nh hay kh√¥ng:

| Severity Level | Gi√° tr·ªã | M√¥ t·∫£ | C√≥ b·ªã ch·∫∑n? |
|----------------|---------|-------|-------------|
| **VERY_UNLIKELY** | -1 | Kh√¥ng c√≥ n·ªôi dung nh·∫°y c·∫£m, ch·∫Øc ch·∫Øn | ‚úÖ **Cho ph√©p** |
| **UNLIKELY** | 0 | Kh√¥ng c√≥ n·ªôi dung nh·∫°y c·∫£m, nh∆∞ng ch∆∞a ch·∫Øc ch·∫Øn | ‚úÖ **Cho ph√©p** |
| **POSSIBLE** | 1 | C√≥ th·ªÉ c√≥ n·ªôi dung nh·∫°y c·∫£m, nh∆∞ng ch∆∞a ch·∫Øc ch·∫Øn | ‚ùå **Ch·∫∑n** |
| **LIKELY** | 2 | C√≥ n·ªôi dung nh·∫°y c·∫£m, ch·∫Øc ch·∫Øn | ‚ùå **Ch·∫∑n** |
| **VERY_LIKELY** | 3 | C√≥ n·ªôi dung nh·∫°y c·∫£m, ch·∫Øc ch·∫Øn | ‚ùå **Ch·∫∑n** |

**C√°ch ho·∫°t ƒë·ªông:**
- App ki·ªÉm tra t·∫•t c·∫£ 5 fields: \`adult\`, \`violence\`, \`racy\`, \`medical\`, \`spoof\`
- N·∫øu **b·∫•t k·ª≥ field n√†o** c√≥ level l√† \`POSSIBLE\`, \`LIKELY\`, ho·∫∑c \`VERY_LIKELY\` ‚Üí ·∫¢nh b·ªã ch·∫∑n
- \`statusCode\` (1001-1005) ƒë∆∞·ª£c tr·∫£ v·ªÅ d·ª±a tr√™n field c√≥ **m·ª©c ƒë·ªô cao nh·∫•t** (worst violation)
- Error code mapping: \`adult\`=1001, \`violence\`=1002, \`racy\`=1003, \`medical\`=1004, \`spoof\`=1005

**V√≠ d·ª•:**

**V√≠ d·ª• 1 - ·∫¢nh b·ªã ch·∫∑n:**
\`\`\`json
{
  "adult": "VERY_UNLIKELY",
  "violence": "POSSIBLE",
  "racy": "UNLIKELY",
  "medical": "VERY_UNLIKELY",
  "spoof": "VERY_UNLIKELY"
}
\`\`\`
‚Üí **K·∫øt qu·∫£:** B·ªã ch·∫∑n v√¨ \`violence\` c√≥ level \`POSSIBLE\`. Tr·∫£ v·ªÅ \`code: 1002\` (violence).

**V√≠ d·ª• 2 - ·∫¢nh b·ªã ch·∫∑n (nhi·ªÅu violations):**
\`\`\`json
{
  "adult": "LIKELY",
  "violence": "POSSIBLE",
  "racy": "VERY_LIKELY",
  "medical": "UNLIKELY",
  "spoof": "VERY_UNLIKELY"
}
\`\`\`
‚Üí **K·∫øt qu·∫£:** B·ªã ch·∫∑n. \`racy\` c√≥ level cao nh·∫•t (\`VERY_LIKELY\`), n√™n tr·∫£ v·ªÅ \`code: 1003\` (racy).

**V√≠ d·ª• 3 - ·∫¢nh ƒë∆∞·ª£c ph√©p:**
\`\`\`json
{
  "adult": "VERY_UNLIKELY",
  "violence": "UNLIKELY",
  "racy": "VERY_UNLIKELY",
  "medical": "UNLIKELY",
  "spoof": "VERY_UNLIKELY"
}
\`\`\`
‚Üí **K·∫øt qu·∫£:** ƒê∆∞·ª£c ph√©p v√¨ t·∫•t c·∫£ fields ƒë·ªÅu l√† \`VERY_UNLIKELY\` ho·∫∑c \`UNLIKELY\`.

**V√≠ d·ª• Response khi b·ªã ch·∫∑n:**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Upload failed",
  "code": 1001
}
\`\`\`

---

### Vertex AI Safety Error Codes (2001-2004)

C√°c error codes n√†y ƒë∆∞·ª£c tr·∫£ v·ªÅ khi Vertex AI Gemini safety filters ch·∫∑n generated image. ƒê∆∞·ª£c s·ª≠ d·ª•ng cho:
- POST \`/faceswap\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/background\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/enhance\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/beauty\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/filter\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/restore\` - Khi Vertex AI ch·∫∑n generated image
- POST \`/aging\` - Khi Vertex AI ch·∫∑n generated image

#### C√°c lo·∫°i t√°c h·∫°i

B·ªô l·ªçc n·ªôi dung ƒë√°nh gi√° n·ªôi dung d·ª±a tr√™n c√°c lo·∫°i t√°c h·∫°i sau:

| Error Code | Lo·∫°i nguy hi·ªÉm | S·ª± ƒë·ªãnh nghƒ©a |
|------------|----------------|---------------|
| **2001** | L·ªùi l·∫Ω k√≠ch ƒë·ªông th√π h·∫≠n | Nh·ªØng b√¨nh lu·∫≠n ti√™u c·ª±c ho·∫∑c g√¢y h·∫°i nh·∫Øm v√†o danh t√≠nh v√†/ho·∫∑c c√°c thu·ªôc t√≠nh ƒë∆∞·ª£c b·∫£o v·ªá. |
| **2002** | Qu·∫•y r·ªëi | Nh·ªØng l·ªùi l·∫Ω ƒëe d·ªça, hƒÉm d·ªça, b·∫Øt n·∫°t ho·∫∑c lƒÉng m·∫° nh·∫Øm v√†o ng∆∞·ªùi kh√°c. |
| **2003** | N·ªôi dung khi√™u d√¢m | C√≥ ch·ª©a n·ªôi dung li√™n quan ƒë·∫øn h√†nh vi t√¨nh d·ª•c ho·∫∑c c√°c n·ªôi dung khi√™u d√¢m kh√°c. |
| **2004** | N·ªôi dung nguy hi·ªÉm | Th√∫c ƒë·∫©y ho·∫∑c t·∫°o ƒëi·ªÅu ki·ªán ti·∫øp c·∫≠n c√°c h√†ng h√≥a, d·ªãch v·ª• v√† ho·∫°t ƒë·ªông c√≥ h·∫°i. |

#### So s√°nh ƒëi·ªÉm x√°c su·∫•t v√† ƒëi·ªÉm m·ª©c ƒë·ªô nghi√™m tr·ªçng (Probability Scores and Severity Scores)

ƒêi·ªÉm an to√†n x√°c su·∫•t ph·∫£n √°nh kh·∫£ nƒÉng ph·∫£n h·ªìi c·ªßa m√¥ h√¨nh c√≥ li√™n quan ƒë·∫øn t√°c h·∫°i t∆∞∆°ng ·ª©ng. N√≥ c√≥ m·ªôt ƒëi·ªÉm tin c·∫≠y t∆∞∆°ng ·ª©ng n·∫±m trong kho·∫£ng t·ª´ **0.0 ƒë·∫øn 1.0**, ƒë∆∞·ª£c l√†m tr√≤n ƒë·∫øn m·ªôt ch·ªØ s·ªë th·∫≠p ph√¢n.

ƒêi·ªÉm tin c·∫≠y ƒë∆∞·ª£c chia th√†nh b·ªën m·ª©c ƒë·ªô tin c·∫≠y:

| M·ª©c ƒë·ªô tin c·∫≠y | Gi√° tr·ªã | M√¥ t·∫£ | C√≥ b·ªã ch·∫∑n? |
|----------------|---------|-------|-------------|
| **NEGLIGIBLE** | R·∫•t th·∫•p | Kh·∫£ nƒÉng c√≥ n·ªôi dung g√¢y h·∫°i l√† kh√¥ng ƒë√°ng k·ªÉ | ‚úÖ **Cho ph√©p** |
| **LOW** | Th·∫•p | Kh·∫£ nƒÉng c√≥ n·ªôi dung g√¢y h·∫°i l√† th·∫•p | ‚úÖ **Cho ph√©p** |
| **MEDIUM** | Trung b√¨nh | Kh·∫£ nƒÉng c√≥ n·ªôi dung g√¢y h·∫°i l√† trung b√¨nh | ‚úÖ **Cho ph√©p** |
| **HIGH** | Cao | Kh·∫£ nƒÉng c√≥ n·ªôi dung g√¢y h·∫°i l√† cao | ‚ùå **Ch·∫∑n** |

#### Safety Threshold Configuration

**C·∫•u h√¨nh hi·ªán t·∫°i:**
- ‚úÖ **Cho ph√©p**: \`NEGLIGIBLE\`, \`LOW\`, \`MEDIUM\`
- ‚ùå **Ch·∫∑n**: \`HIGH\` only

**√Åp d·ª•ng cho t·∫•t c·∫£ c√°c lo·∫°i t√°c h·∫°i:**
- HARM_CATEGORY_HATE_SPEECH (L·ªùi l·∫Ω k√≠ch ƒë·ªông th√π h·∫≠n)
- HARM_CATEGORY_HARASSMENT (Qu·∫•y r·ªëi)
- HARM_CATEGORY_SEXUALLY_EXPLICIT (N·ªôi dung khi√™u d√¢m)
- HARM_CATEGORY_DANGEROUS_CONTENT (N·ªôi dung nguy hi·ªÉm)

**L∆∞u √Ω:**
- App ch·ªâ ch·∫∑n n·ªôi dung khi ph√°t hi·ªán vi ph·∫°m v·ªõi \`HIGH\` confidence level
- N·ªôi dung v·ªõi \`NEGLIGIBLE\`, \`LOW\`, ho·∫∑c \`MEDIUM\` confidence level ƒë·ªÅu ƒë∆∞·ª£c cho ph√©p
- Safety violations tr·∫£ v·ªÅ HTTP 422 v·ªõi internal error codes 2001-2004 trong tr∆∞·ªùng \`code\`
- Message tr·∫£ v·ªÅ t·ª´ Vertex AI API response (c√≥ th·ªÉ l√† finishMessage, refusalText, ho·∫∑c generic message)

**V√≠ d·ª• Response:**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Processing failed",
  "code": 2003
}
\`\`\`

---

### HTTP Status Codes

Ngo√†i c√°c error codes tr√™n, API c≈©ng tr·∫£ v·ªÅ c√°c HTTP status codes chu·∫©n:

| Status Code | M√¥ t·∫£ |
|-------------|-------|
| **200** | Success |
| **400** | Bad Request - Request kh√¥ng h·ª£p l·ªá |
| **401** | Unauthorized - API key kh√¥ng h·ª£p l·ªá ho·∫∑c thi·∫øu (khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`) |
| **422** | Unprocessable Entity - Content b·ªã ch·∫∑n (s·ª≠ d·ª•ng error codes 1001-1005 ho·∫∑c 2001-2004) |
| **429** | Rate Limit Exceeded - V∆∞·ª£t qu√° gi·ªõi h·∫°n request |
| **500** | Internal Server Error - L·ªói server |

**L∆∞u √Ω:**
- Error codes 1001-1005 v√† 2001-2004 ƒë∆∞·ª£c tr·∫£ v·ªÅ trong tr∆∞·ªùng \`code\` c·ªßa response body
- HTTP status code lu√¥n l√† 422 cho c√°c safety violations (content b·ªã ch·∫∑n)
- Chi ti·∫øt v·ªÅ violation c√≥ th·ªÉ ƒë∆∞·ª£c t√¨m th·∫•y trong \`debug.vision\` (cho Vision API) ho·∫∑c \`debug.provider\` (cho Vertex AI)

---

## API Endpoints (Chi ti·∫øt)

### 1. Upload & Qu·∫£n l√Ω File

#### 1.1. POST \`/upload-url\` (type=selfie) - Upload selfie

**M·ª•c ƒë√≠ch:** T·∫£i ·∫£nh selfie tr·ª±c ti·∫øp l√™n server v√† l∆∞u v√†o database. Endpoint n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi mobile app ƒë·ªÉ upload selfie.

**Authentication:** Y√™u c·∫ßu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\` (ch·ªâ √°p d·ª•ng cho \`type=selfie\`).

**Request:**

**Upload single selfie v·ªõi action:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "X-API-Key: your_api_key_here" \\
  -F "files=@/path/to/selfie.jpg" \\
  -F "type=selfie" \\
  -F "profile_id=profile_1234567890" \\
  -F "action=faceswap" \\
  -F "dimensions=1024x768"
\`\`\`

**Upload multiple selfies v·ªõi dimensions array:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "X-API-Key: your_api_key_here" \\
  -F "files=@/path/to/selfie1.jpg" \\
  -F "files=@/path/to/selfie2.jpg" \\
  -F "type=selfie" \\
  -F "profile_id=profile_1234567890" \\
  -F "action=faceswap" \\
  -F 'dimensions=["1024x768", "800x600"]'
\`\`\`

**JSON v·ªõi image_urls v√† dimensions array:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_urls": ["https://example.com/selfie1.jpg", "https://example.com/selfie2.jpg"],
    "type": "selfie",
    "profile_id": "profile_1234567890",
    "action": "faceswap",
    "dimensions": ["1024x768", "800x600"]
  }'
\`\`\`

**Request Parameters:**
- \`files\` (file[], required n·∫øu d√πng multipart): M·∫£ng file ·∫£nh selfie c·∫ßn upload (h·ªó tr·ª£ nhi·ªÅu file).
- \`image_url\` ho·∫∑c \`image_urls\` (string/string[], required n·∫øu d√πng JSON): URL ·∫£nh selfie tr·ª±c ti·∫øp.
- \`type\` (string, required): Ph·∫£i l√† \`"selfie"\` cho mobile app.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`action\` (string, required, ch·ªâ √°p d·ª•ng cho \`type=selfie\`): Lo·∫°i action c·ªßa selfie. Ph·∫£i ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh r√µ r√†ng. C√°c gi√° tr·ªã h·ªó tr·ª£:
  - \`"faceswap"\`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh), t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi (gi·ªØ l·∫°i s·ªë ·∫£nh m·ªõi nh·∫•t theo gi·ªõi h·∫°n). **Kh√¥ng ki·ªÉm tra Vision API.**
  - \`"wedding"\`: T·ªëi ƒëa 2 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi (gi·ªØ l·∫°i 1 ·∫£nh m·ªõi nh·∫•t). **Kh√¥ng ki·ªÉm tra Vision API.**
  - \`"4k"\` ho·∫∑c \`"4K"\`: T·ªëi ƒëa 1 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi. **·∫¢nh s·∫Ω ƒë∆∞·ª£c ki·ªÉm tra b·∫±ng Vision API tr∆∞·ªõc khi l∆∞u v√†o database.**
  - C√°c action kh√°c: T·ªëi ƒëa 1 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi. **Kh√¥ng ki·ªÉm tra Vision API.**
- \`dimensions\` (string | string[], optional): K√≠ch th∆∞·ªõc ·∫£nh selfie theo ƒë·ªãnh d·∫°ng \`"widthxheight"\` (v√≠ d·ª•: \`"1024x768"\`). ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ truy·ªÅn k√≠ch th∆∞·ªõc ·∫£nh g·ªëc cho WaveSpeed API khi th·ª±c hi·ªán face swap, gi√∫p gi·ªØ nguy√™n t·ª∑ l·ªá v√† k√≠ch th∆∞·ªõc ·∫£nh ƒë·∫ßu ra. N·∫øu kh√¥ng cung c·∫•p, WaveSpeed API s·∫Ω t·ª± ƒë·ªông x√°c ƒë·ªãnh k√≠ch th∆∞·ªõc t·ª´ ·∫£nh ƒë·∫ßu v√†o.
  - **Cho single file**: C√≥ th·ªÉ truy·ªÅn string ƒë∆°n: \`"1024x768"\`
  - **Cho multiple files**: Truy·ªÅn JSON array c√πng th·ª© t·ª± v·ªõi files: \`["1024x768", "800x600", null]\` (null cho file kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c k√≠ch th∆∞·ªõc)

**Response (Success 200):**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "selfie_1234567890_xyz789",
        "url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200
}
\`\`\`

**Response (Error - Vision API Blocked):**
Khi ·∫£nh selfie kh√¥ng v∆∞·ª£t qua ki·ªÉm tra an to√†n c·ªßa Vision API, endpoint s·∫Ω tr·∫£ v·ªÅ error code t∆∞∆°ng ·ª©ng v·ªõi lo·∫°i vi ph·∫°m:

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Upload failed",
  "code": 1001
}
\`\`\`

**L∆∞u √Ω quan tr·ªçng:**
- **Vision API Error Codes (1001-1005):** Ch·ªâ selfie uploads v·ªõi \`action="4k"\` ho·∫∑c \`action="4K"\` m·ªõi ƒë∆∞·ª£c qu√©t b·ªüi Vision API tr∆∞·ªõc khi l∆∞u v√†o database. C√°c action kh√°c (nh∆∞ \`"faceswap"\`, \`"wedding"\`, \`"default"\`, v.v.) **kh√¥ng** ƒë∆∞·ª£c ki·ªÉm tra b·∫±ng Vision API. Xem chi ti·∫øt error codes t·∫°i [Vision API Safety Error Codes](#vision-api-safety-error-codes-1001-1005).
- **Vertex AI Error Codes (2001-2004):** ƒê∆∞·ª£c tr·∫£ v·ªÅ khi Vertex AI Gemini safety filters ch·∫∑n generated image. √Åp d·ª•ng cho c√°c endpoints: \`/faceswap\`, \`/background\`, \`/enhance\`, \`/beauty\`, \`/filter\`, \`/restore\`, \`/aging\`. Xem chi ti·∫øt error codes t·∫°i [Vertex AI Safety Error Codes](#vertex-ai-safety-error-codes-2001-2004).
- Ch·∫∑n \`POSSIBLE\`, \`LIKELY\`, v√† \`VERY_LIKELY\` violations
- N·∫øu ·∫£nh kh√¥ng an to√†n, file s·∫Ω b·ªã x√≥a kh·ªèi R2 storage v√† tr·∫£ v·ªÅ error code t∆∞∆°ng ·ª©ng
- Error code ƒë∆∞·ª£c tr·∫£ v·ªÅ trong tr∆∞·ªùng \`code\` c·ªßa response
- **Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng selfie:** M·ªói action c√≥ gi·ªõi h·∫°n ri√™ng v√† t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi v∆∞·ª£t qu√° gi·ªõi h·∫°n:
  - \`faceswap\`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh qua \`SELFIE_MAX_FACESWAP\`)
  - \`wedding\`: T·ªëi ƒëa 2 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_WEDDING\`)
  - \`4k\`/\`4K\`: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_4K\`)
  - C√°c action kh√°c: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_OTHER\`)

---

#### 1.2. POST \`/upload-url\` (type=preset) - Upload preset (backend only)

**M·ª•c ƒë√≠ch:** T·∫£i ·∫£nh preset tr·ª±c ti·∫øp l√™n server v√† l∆∞u v√†o database v·ªõi x·ª≠ l√Ω t·ª± ƒë·ªông (Vision scan, Vertex prompt generation). Endpoint n√†y ch·ªâ ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi backend, kh√¥ng c·∫ßn test tr√™n mobile.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**

**Multipart/form-data:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -F "files=@/path/to/image1.jpg" \\
  -F "files=@/path/to/image2.jpg" \\
  -F "type=preset" \\
  -F "profile_id=profile_1234567890" \\
  -F "enableVertexPrompt=true"
\`\`\`

**JSON v·ªõi image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -H "Content-Type: application/json" \\
  -d '{
    "image_url": "https://example.com/image.jpg",
    "type": "preset",
    "profile_id": "profile_1234567890",
    "enableVertexPrompt": true
  }'
\`\`\`

**Request Parameters:**
- \`files\` (file[], required n·∫øu d√πng multipart): M·∫£ng file ·∫£nh preset c·∫ßn upload (h·ªó tr·ª£ nhi·ªÅu file).
- \`image_url\` ho·∫∑c \`image_urls\` (string/string[], required n·∫øu d√πng JSON): URL ·∫£nh preset tr·ª±c ti·∫øp.
- \`type\` (string, required): Ph·∫£i l√† \`"preset"\` cho backend upload.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`enableVertexPrompt\` (boolean/string, optional): \`true\` ho·∫∑c \`"true"\` ƒë·ªÉ b·∫≠t t·∫°o prompt Vertex khi upload preset. S·ª≠ d·ª•ng Vertex AI ƒë·ªÉ ph√¢n t√≠ch ·∫£nh v√† t·∫°o prompt_json t·ª± ƒë·ªông.
- \`art_style\` (string, optional): Filter art style cho prompt generation. Gi√° tr·ªã: \`auto\` (m·∫∑c ƒë·ªãnh), \`photorealistic\`, \`figurine\`, \`popmart\`, \`clay\`, \`disney\`, \`anime\`, \`chibi\`, \`watercolor\`, \`oil_painting\`, \`sketch\`, \`comic\`, \`pixel_art\`, \`cyberpunk\`, \`fantasy\`, \`vintage\`, \`minimalist\`, \`ghibli\`, \`lego\`, \`cartoon\`.

**Response:**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "preset_1234567890_abc123",
        "url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "vertex": [
      {
        "hasPrompt": true,
        "prompt_json": {
          "prompt": "...",
          "style": "...",
          "lighting": "..."
        },
        "vertex_info": {
          "success": true,
          "promptKeys": ["prompt", "style", "lighting"],
          "debug": {
            "endpoint": "https://.../generateContent",
            "status": 200,
            "responseTimeMs": 4200
          }
        }
      }
    ],
    "filesProcessed": 1,
    "resultsCount": 1
  }
}
\`\`\`

---

#### 1.3. POST \`/upload-thumbnails\` - Upload thumbnails (backend only)

**M·ª•c ƒë√≠ch:** T·∫£i l√™n thumbnails (WebP v√† Lottie JSON) v√† t·ª± ƒë·ªông t·∫°o presets. H·ªó tr·ª£ upload file zip ch·ª©a t·∫•t c·∫£ assets ho·∫∑c upload t·ª´ng file ri√™ng l·∫ª. M·ªói file s·∫Ω tr·ªü th√†nh m·ªôt preset v·ªõi filename l√†m preset_id. Vertex AI s·∫Ω t·ª± ƒë·ªông ph√¢n t√≠ch ·∫£nh WebP t·ª´ th∆∞ m·ª•c preset v√† t·∫°o prompt_json metadata.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Upload individual files:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/preset/fs_wonder_f_3.png" \\
  -F "path_preset_fs_wonder_f_3.png=preset/" \\
  -F "files=@/path/to/lottie_1x/fs_wonder_f_3.json" \\
  -F "path_lottie_1x_fs_wonder_f_3.json=lottie_1x/" \\
  -F "files=@/path/to/lottie_avif_2x/fs_wonder_f_3.json" \\
  -F "path_lottie_avif_2x_fs_wonder_f_3.json=lottie_avif_2x/" \\
  -F "art_style=auto"
\`\`\`

**Upload with Art Style Filter (e.g., Pop Mart style):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/preset/popmart_figure.png" \\
  -F "path_popmart_figure.png=preset/" \\
  -F "art_style=popmart"
\`\`\`

**Upload zip file containing all assets:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-thumbnails \\
  -F "files=@/path/to/thumbnails.zip" \\
  -F "art_style=disney"
\`\`\`

**Supported Art Styles:**
| Style | Description |
|-------|-------------|
| \`auto\` | Auto-detect style (default) |
| \`photorealistic\` | Real photography |
| \`figurine\` | 3D figurine/toy |
| \`popmart\` | Pop Mart blind box |
| \`clay\` | Clay/plasticine animation |
| \`disney\` | Disney/Pixar 3D animation |
| \`anime\` | Japanese anime/manga |
| \`chibi\` | Chibi/super-deformed |
| \`watercolor\` | Watercolor painting |
| \`oil_painting\` | Classical oil painting |
| \`sketch\` | Pencil/charcoal sketch |
| \`comic\` | Western comic book |
| \`pixel_art\` | Retro pixel art |
| \`cyberpunk\` | Cyberpunk/neon futuristic |
| \`fantasy\` | Fantasy/magical illustration |
| \`vintage\` | Vintage/retro photography |
| \`minimalist\` | Minimalist/flat design |
| \`ghibli\` | Studio Ghibli animation |
| \`lego\` | LEGO minifigure |
| \`cartoon\` | General cartoon |

**C·∫•u tr√∫c th∆∞ m·ª•c:**
\`\`\`
‚îú‚îÄ‚îÄ preset/
‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.png    # Files here get Vertex AI prompt generation
‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.png
‚îú‚îÄ‚îÄ lottie_1x/
‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 1x resolution
‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json
‚îú‚îÄ‚îÄ lottie_1.5x/
‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 1.5x resolution
‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json
‚îú‚îÄ‚îÄ lottie_2x/
‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 2x resolution
‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json
‚îú‚îÄ‚îÄ lottie_avif_1x/
‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # AVIF thumbnails at 1x resolution
‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json
‚îî‚îÄ‚îÄ [other resolution folders...]
\`\`\`

**Quy t·∫Øc ƒë·∫∑t t√™n file:**
- Format: \`[preset_id].[png|webp|json]\`
- V√≠ d·ª•: \`fs_wonder_f_3.png\`, \`fs_wonder_m_2.webp\`, \`fireworks_animation.json\`
- T√™n file (kh√¥ng bao g·ªìm extension) s·∫Ω tr·ªü th√†nh \`preset_id\`
- Vertex AI ch·ªâ ph√¢n t√≠ch file ·∫£nh t·ª´ th∆∞ m·ª•c "preset" ƒë·ªÉ t·∫°o \`prompt_json\` metadata
- File t·ª´ c√°c th∆∞ m·ª•c resolution kh√°c (lottie_*, lottie_avif_*) l√† thumbnails, KH√îNG ƒë∆∞·ª£c g·ª≠i ƒë·∫øn Vertex AI

**T√≠nh nƒÉng Vertex AI:**
- T·ª± ƒë·ªông g·ªçi Vertex AI Gemini ƒë·ªÉ ph√¢n t√≠ch file ·∫£nh t·ª´ th∆∞ m·ª•c "preset"
- S·ª≠ d·ª•ng \`Promise.all\` ƒë·ªÉ x·ª≠ l√Ω batch upload v√† t·∫°o prompt song song
- \`prompt_json\` ƒë∆∞·ª£c l∆∞u trong R2 custom metadata c·ªßa preset files
- Thumbnails ƒë∆∞·ª£c l∆∞u ·ªü nhi·ªÅu resolution (1x, 1.5x, 2x, 3x, 4x) trong database
- Ch·ªâ √°p d·ª•ng cho file ·∫£nh t·ª´ th∆∞ m·ª•c "preset", b·ªè qua thumbnails

**Response:**
\`\`\`json
{
  "data": {
    "total": 3,
    "successful": 3,
    "failed": 0,
    "thumbnails_processed": 3,
    "results": [
      {
        "filename": "fs_wonder_f_3.png",
        "success": true,
        "type": "preset",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/presets/fs_wonder_f_3.png",
        "hasPrompt": true,
        "prompt_json": {
          "scene": "wonder woman portrait",
          "style": "heroic",
          "mood": "confident",
          "colors": ["red", "blue", "gold"]
        },
        "vertex_info": {
          "success": true,
          "promptKeys": ["scene", "style", "mood", "colors"]
        },
        "metadata": {
          "format": "webp"
        }
      },
      {
        "filename": "fs_wonder_f_3.json",
        "success": true,
        "type": "thumbnail",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/lottie_1x/fs_wonder_f_3.json",
        "hasPrompt": false,
        "vertex_info": {
          "success": false
        },
        "metadata": {
          "format": "lottie",
          "resolution": "1x"
        }
      },
      {
        "filename": "fs_wonder_f_3.json",
        "success": true,
        "type": "thumbnail",
        "preset_id": "fs_wonder_f_3",
        "url": "https://resources.d.shotpix.app/lottie_avif_2x/fs_wonder_f_3.json",
        "hasPrompt": false,
        "vertex_info": {
          "success": false
        },
        "metadata": {
          "format": "lottie",
          "resolution": "2x"
        }
      }
    ]
  },
  "status": "success",
  "message": "Processed 3 of 3 files",
  "code": 200,
  "debug": {
    "filesProcessed": 3,
    "resultsCount": 3
  }
}
\`\`\`

---

### 2. AI Processing

#### 2.1. POST \`/faceswap\` - Face Swap

**M·ª•c ƒë√≠ch:** Th·ª±c hi·ªán face swap gi·ªØa ·∫£nh preset v√† ·∫£nh selfie. H·ªó tr·ª£ multiple selfies ƒë·ªÉ t·∫°o composite results (v√≠ d·ª•: wedding photos v·ªõi c·∫£ male v√† female).

**L∆∞u √Ω:**
- Kh√°c v·ªõi \`/background\`: FaceSwap thay ƒë·ªïi khu√¥n m·∫∑t trong preset, c√≤n AI Background merge selfie v√†o preset scene.
- Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**H√†nh vi theo Provider:**
- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng \`prompt_json\` t·ª´ metadata c·ªßa preset ƒë·ªÉ th·ª±c hi·ªán faceswap.
- **WaveSpeed (\`provider: "wavespeed"\`):** Kh√¥ng s·ª≠ d·ª•ng \`prompt_json\`. S·ª≠ d·ª•ng prompt c·ªë ƒë·ªãnh:
  - **Single mode (1 selfie):** G·ª≠i \`[selfie, preset]\` v·ªõi prompt: "Put the person in image1 into image2, keep all the makeup same as preset."
  - **Couple mode (2 selfies):** G·ª≠i \`[selfie1, selfie2, preset]\` v·ªõi prompt: "Put both persons in image1 and image2 into image3, keep all the makeup same as preset."

**Request:**

**S·ª≠ d·ª•ng selfie_ids (t·ª´ database):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_ids": ["selfie_1234567890_xyz789"],
    "profile_id": "profile_1234567890",
    "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**S·ª≠ d·ª•ng selfie_image_urls (URL tr·ª±c ti·∫øp):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/faceswap \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_urls": ["https://example.com/selfie1.jpg", "https://example.com/selfie2.jpg"],
    "profile_id": "profile_1234567890",
    "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**Request Parameters:**
- \`preset_image_id\` (string, required): ID ·∫£nh preset ƒë√£ l∆∞u trong database (format: \`preset_...\`).
- \`selfie_ids\` (array of strings, optional): M·∫£ng c√°c ID ·∫£nh selfie ƒë√£ l∆∞u trong database (h·ªó tr·ª£ multiple selfies). Th·ª© t·ª±: [selfie_ch√≠nh, selfie_ph·ª•] - selfie ƒë·∫ßu ti√™n s·∫Ω ƒë∆∞·ª£c face swap v√†o preset, selfie th·ª© hai (n·∫øu c√≥) s·∫Ω ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m tham chi·∫øu b·ªï sung.
- \`selfie_image_urls\` (array of strings, optional): M·∫£ng c√°c URL ·∫£nh selfie tr·ª±c ti·∫øp (thay th·∫ø cho \`selfie_ids\`). H·ªó tr·ª£ multiple selfies. Ph·∫£i cung c·∫•p \`selfie_ids\` HO·∫∂C \`selfie_image_urls\` (kh√¥ng ph·∫£i c·∫£ hai).
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh (m·∫∑c ƒë·ªãnh: "3:4"). H·ªó tr·ª£: "1:1", "3:2", "2:3", "3:4", "4:3", "4:5", "5:4", "9:16", "16:9", "21:9".
  - **L∆∞u √Ω v·ªÅ k√≠ch th∆∞·ªõc ƒë·∫ßu ra (WaveSpeed provider):** N·∫øu \`aspect_ratio\` ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh r√µ r√†ng, h·ªá th·ªëng s·∫Ω s·ª≠ d·ª•ng aspect ratio ƒë√≥. N·∫øu kh√¥ng ch·ªâ ƒë·ªãnh ho·∫∑c l√† "original", h·ªá th·ªëng s·∫Ω s·ª≠ d·ª•ng k√≠ch th∆∞·ªõc g·ªëc c·ªßa selfie (t·ª´ tr∆∞·ªùng \`dimensions\` ƒë∆∞·ª£c l∆∞u khi upload) ƒë·ªÉ gi·ªØ nguy√™n k√≠ch th∆∞·ªõc ·∫£nh ƒë·∫ßu ra.
- \`additional_prompt\` (string, optional): c√¢u m√¥ t·∫£ b·ªï sung, ƒë∆∞·ª£c n·ªëi v√†o cu·ªëi tr∆∞·ªùng \`prompt\` b·∫±ng k√Ω t·ª± \`+\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
      "sourceUrls": [
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg",
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg"
      ]
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
      "debug": {
        "endpoint": "https://...",
        "status": 200,
        "durationMs": 843
      }
    },
    "vertex": {
      "prompt": { "...": "..." },
      "debug": {
        "endpoint": "https://.../generateContent",
        "status": 200,
        "durationMs": 5180,
        "requestPayload": {
          "promptLength": 746,
          "imageBytes": 921344
        }
      }
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_..."
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.2. POST \`/background\` - AI Background

**M·ª•c ƒë√≠ch:** T·∫°o ·∫£nh m·ªõi b·∫±ng c√°ch merge selfie (ng∆∞·ªùi) v√†o preset (c·∫£nh n·ªÅn) s·ª≠ d·ª•ng AI. Selfie s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t v√†o preset scene m·ªôt c√°ch t·ª± nhi√™n v·ªõi n·ªÅn AI ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông. H·ªó tr·ª£ 3 c√°ch cung c·∫•p n·ªÅn: preset_image_id (t·ª´ database), preset_image_url (URL tr·ª±c ti·∫øp), ho·∫∑c custom_prompt (t·∫°o n·ªÅn t·ª´ text prompt s·ª≠ d·ª•ng Vertex AI).

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**

**S·ª≠ d·ª•ng selfie_id (t·ª´ database):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**S·ª≠ d·ª•ng selfie_image_url (URL tr·ª±c ti·∫øp):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_url": "https://example.com/selfie.png",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**S·ª≠ d·ª•ng custom_prompt (t·∫°o n·ªÅn t·ª´ text prompt v·ªõi Vertex AI):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "custom_prompt": "A beautiful sunset beach scene with palm trees and golden sand",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**S·ª≠ d·ª•ng custom_prompt v·ªõi selfie_image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/background \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "custom_prompt": "A futuristic cityscape at night with neon lights and flying cars",
    "selfie_image_url": "https://example.com/selfie.png",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "16:9"
  }'
\`\`\`

**L∆∞u √Ω v·ªÅ custom_prompt:**
- Khi s·ª≠ d·ª•ng \`custom_prompt\`, h·ªá th·ªëng s·∫Ω th·ª±c hi·ªán 2 b∆∞·ªõc:
  1. **T·∫°o ·∫£nh n·ªÅn**: S·ª≠ d·ª•ng Vertex AI Gemini ƒë·ªÉ t·∫°o ·∫£nh n·ªÅn t·ª´ text prompt
  2. **Merge selfie**: T·ª± ƒë·ªông merge selfie v√†o ·∫£nh n·ªÅn v·ª´a t·∫°o v·ªõi lighting v√† color grading ph√π h·ª£p
- \`custom_prompt\` kh√¥ng th·ªÉ k·∫øt h·ª£p v·ªõi \`preset_image_id\` ho·∫∑c \`preset_image_url\` (ch·ªâ ch·ªçn m·ªôt trong ba)
- \`aspect_ratio\` v√† \`model\` s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng cho c·∫£ vi·ªác t·∫°o n·ªÅn v√† merge

**L∆∞u √Ω v·ªÅ preset_image_id:**
- H·ªó tr·ª£ c·∫£ preset t·ª´ database (trong b·∫£ng \`presets\`) v√† file tr·ª±c ti·∫øp trong folder \`/remove_bg/background/\` tr√™n R2
- C√≥ th·ªÉ truy·ªÅn \`preset_image_id\` k√®m extension (v√≠ d·ª•: \`"background_001.webp"\`) ho·∫∑c kh√¥ng c√≥ extension (v√≠ d·ª•: \`"background_001"\`)
- N·∫øu kh√¥ng c√≥ extension, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông th·ª≠ c√°c extension ph·ªï bi·∫øn: .webp, .jpg, .png, .jpeg
- H·ªá th·ªëng s·∫Ω t√¨m file theo th·ª© t·ª±: database tr∆∞·ªõc, sau ƒë√≥ folder \`/remove_bg/background/\` n·∫øu kh√¥ng t√¨m th·∫•y trong database

**Request Parameters:**
- \`preset_image_id\` (string, optional): ID ·∫£nh preset ho·∫∑c filename trong folder \`/remove_bg/background/\`. Ph·∫£i cung c·∫•p \`preset_image_id\` HO·∫∂C \`preset_image_url\` HO·∫∂C \`custom_prompt\` (ch·ªâ m·ªôt trong ba).
- \`preset_image_url\` (string, optional): URL ·∫£nh preset tr·ª±c ti·∫øp (thay th·∫ø cho \`preset_image_id\`). Ph·∫£i cung c·∫•p \`preset_image_id\` HO·∫∂C \`preset_image_url\` HO·∫∂C \`custom_prompt\` (ch·ªâ m·ªôt trong ba).
- \`custom_prompt\` (string, optional): Prompt t√πy ch·ªânh ƒë·ªÉ t·∫°o ·∫£nh n·ªÅn t·ª´ text s·ª≠ d·ª•ng Vertex AI (thay th·∫ø cho preset image). Khi s·ª≠ d·ª•ng \`custom_prompt\`, h·ªá th·ªëng s·∫Ω:
  1. T·∫°o ·∫£nh n·ªÅn t·ª´ text prompt b·∫±ng Vertex AI Gemini
  2. Merge selfie v√†o ·∫£nh n·ªÅn ƒë√£ t·∫°o
  Ph·∫£i cung c·∫•p \`preset_image_id\` HO·∫∂C \`preset_image_url\` HO·∫∂C \`custom_prompt\` (ch·ªâ m·ªôt trong ba).
- \`selfie_id\` (string, optional): ID ·∫£nh selfie ƒë√£ l∆∞u trong database (ng∆∞·ªùi). Ph·∫£i cung c·∫•p \`selfie_id\` HO·∫∂C \`selfie_image_url\` (kh√¥ng ph·∫£i c·∫£ hai).
- \`selfie_image_url\` (string, optional): URL ·∫£nh selfie tr·ª±c ti·∫øp (thay th·∫ø cho \`selfie_id\`).
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. C√°c gi√° tr·ªã h·ªó tr·ª£: \`"original"\`, \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. M·∫∑c ƒë·ªãnh: \`"3:4"\`. Khi s·ª≠ d·ª•ng \`custom_prompt\`, t·ª∑ l·ªá n√†y s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng cho c·∫£ vi·ªác t·∫°o n·ªÅn v√† merge.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg",
      "selfieUrl": "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png"
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_1234567890_abc123"
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.3. POST \`/enhance\` - AI Enhance

**M·ª•c ƒë√≠ch:** AI enhance ·∫£nh - c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng, ƒë·ªô s√°ng, ƒë·ªô t∆∞∆°ng ph·∫£n v√† chi ti·∫øt c·ªßa ·∫£nh.

**L∆∞u √Ω:** 
- Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.
- C√°c endpoints kh√¥ng ph·∫£i faceswap (\`/enhance\`, \`/beauty\`, \`/filter\`, \`/restore\`, \`/aging\`, \`/background\`) h·ªó tr·ª£ gi√° tr·ªã \`"original"\` cho \`aspect_ratio\`.
- Khi \`aspect_ratio\` l√† \`"original"\` ho·∫∑c kh√¥ng ƒë∆∞·ª£c cung c·∫•p, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:
  1. L·∫•y k√≠ch th∆∞·ªõc (width/height) t·ª´ ·∫£nh input
  2. T√≠nh to√°n t·ª∑ l·ªá khung h√¨nh th·ª±c t·∫ø
  3. Ch·ªçn t·ª∑ l·ªá g·∫ßn nh·∫•t trong danh s√°ch h·ªó tr·ª£ c·ªßa Vertex AI
  4. S·ª≠ d·ª•ng t·ª∑ l·ªá ƒë√≥ ƒë·ªÉ generate ·∫£nh
- ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o ·∫£nh k·∫øt qu·∫£ gi·ªØ ƒë∆∞·ª£c t·ª∑ l·ªá g·∫ßn v·ªõi ·∫£nh g·ªëc thay v√¨ m·∫∑c ƒë·ªãnh v·ªÅ 1:1.
- **C√°c gi√° tr·ªã h·ªó tr·ª£:** \`"original"\`, \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. M·∫∑c ƒë·ªãnh: \`"original"\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/enhance \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ·∫£nh c·∫ßn enhance.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg"
  },
  "status": "success",
  "message": "Image enhancement completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Enhancement completed"
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.4. POST \`/beauty\` - AI Beauty

**M·ª•c ƒë√≠ch:** AI beautify ·∫£nh - c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t (l√Ω t∆∞·ªüng cho selfies v√† ch√¢n dung). L√†m m·ªãn da, x√≥a m·ª•n, l√†m s√°ng m·∫Øt, tinh ch·ªânh khu√¥n m·∫∑t m·ªôt c√°ch t·ª± nhi√™n.

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/beauty \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ·∫£nh c·∫ßn beautify.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/beauty_123.jpg"
  },
  "status": "success",
  "message": "Image beautification completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Beautification completed"
    }
  }
}
\`\`\`

**T√≠nh nƒÉng AI Beauty:**
- L√†m m·ªãn da (smooth skin)
- X√≥a m·ª•n v√† v·∫øt th√¢m (removes blemishes/acne)
- ƒê·ªÅu m√†u da (evens skin tone)
- L√†m thon m·∫∑t v√† ƒë∆∞·ªùng vi·ªÅn h√†m m·ªôt c√°ch tinh t·∫ø (slims face/jawline subtly)
- L√†m s√°ng m·∫Øt (brightens eyes)
- TƒÉng c∆∞·ªùng m√¥i v√† l√¥ng m√†y (enhances lips and eyebrows)
- M·ªü r·ªông m·∫Øt nh·∫π (enlarges eyes slightly, optional)
- L√†m m·ªÅm ho·∫∑c ch·ªânh h√¨nh m≈©i (softens or reshapes nose)
- T·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh makeup (adjusts makeup automatically)

**L∆∞u √Ω:** AI Beauty t·∫≠p trung v√†o c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t, kh√°c v·ªõi AI Enhance (c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng k·ªπ thu·∫≠t nh∆∞ ƒë·ªô s·∫Øc n√©t, gi·∫£m nhi·ªÖu).

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.5. POST \`/filter\` - AI Filter (Styles)

**M·ª•c ƒë√≠ch:** AI Filter (Styles) - √Åp d·ª•ng c√°c style s√°ng t·∫°o ho·∫∑c ƒëi·ªán ·∫£nh t·ª´ preset l√™n selfie trong khi gi·ªØ nguy√™n t√≠nh to√†n v·∫πn khu√¥n m·∫∑t.

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**H√†nh vi theo Provider:**
- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng \`prompt_json\` t·ª´ metadata c·ªßa preset ƒë·ªÉ √°p d·ª•ng style. Preset ph·∫£i c√≥ \`prompt_json\`.
- **WaveSpeed (\`provider: "wavespeed"\`):** Kh√¥ng s·ª≠ d·ª•ng \`prompt_json\`. Thay v√†o ƒë√≥, WaveSpeed t·ª± ph√¢n t√≠ch style c·ªßa preset image (figurine, pop mart, clay, disney, etc.) v√† √°p d·ª•ng style ƒë√≥ l√™n selfie. G·ª≠i images theo th·ª© t·ª± \`[selfie, preset]\` - image 1 l√† selfie (·∫£nh c·∫ßn √°p d·ª•ng style), image 2 l√† preset (ngu·ªìn style).

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/filter \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
    "additional_prompt": "Add dramatic lighting"
  }'
\`\`\`

**Ho·∫∑c s·ª≠ d·ª•ng selfie_image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/filter \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "preset_1234567890_abc123",
    "selfie_image_url": "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png",
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Request Parameters:**
- \`preset_image_id\` (string, required): ID preset ƒë√£ l∆∞u trong database (format: \`preset_...\`). Preset ph·∫£i c√≥ \`prompt_json\` (ch·ªâ y√™u c·∫ßu cho Vertex provider).
- \`selfie_id\` (string, optional): ID selfie ƒë√£ l∆∞u trong database. B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`selfie_image_url\`.
- \`selfie_image_url\` (string, optional): URL ·∫£nh selfie tr·ª±c ti·∫øp. B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`selfie_id\`.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: \`"original"\`.
- \`additional_prompt\` (string, optional): Prompt b·ªï sung ƒë·ªÉ t√πy ch·ªânh style.
- \`provider\` (string, optional): Provider AI. Gi√° tr·ªã: \`"vertex"\` (m·∫∑c ƒë·ªãnh) ho·∫∑c \`"wavespeed"\`. WaveSpeed kh√¥ng y√™u c·∫ßu \`prompt_json\` trong preset.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/filter_123.jpg"
  },
  "status": "success",
  "message": "Style filter applied successfully",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Filter applied"
    }
  }
}
\`\`\`

**T√≠nh nƒÉng AI Filter:**
- ƒê·ªçc prompt_json t·ª´ preset (ch·ª©a th√¥ng tin v·ªÅ style, lighting, composition, camera, background)
- √Åp d·ª•ng style s√°ng t·∫°o/ƒëi·ªán ·∫£nh t·ª´ preset l√™n selfie
- Gi·ªØ nguy√™n 100% khu√¥n m·∫∑t, ƒë·∫∑c ƒëi·ªÉm, c·∫•u tr√∫c x∆∞∆°ng, m√†u da
- Ch·ªâ thay ƒë·ªïi style, m√¥i tr∆∞·ªùng, √°nh s√°ng, m√†u s·∫Øc, v√† mood h√¨nh ·∫£nh
- H·ªó tr·ª£ additional_prompt ƒë·ªÉ t√πy ch·ªânh th√™m

**L∆∞u √Ω:**
- Preset ph·∫£i c√≥ prompt_json (ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông khi upload preset v·ªõi \`enableVertexPrompt=true\`)
- N·∫øu preset ch∆∞a c√≥ prompt_json, API s·∫Ω t·ª± ƒë·ªông generate t·ª´ preset image
- Kh√°c v·ªõi \`/faceswap\`: Filter gi·ªØ nguy√™n khu√¥n m·∫∑t v√† ch·ªâ √°p d·ª•ng style, kh√¥ng thay ƒë·ªïi khu√¥n m·∫∑t

**Parameter \`redraw\`:**
- \`redraw: true\` ‚Üí B·ªè qua cache, lu√¥n generate ·∫£nh m·ªõi (s·ª≠ d·ª•ng cho n√∫t "Redraw")
- \`redraw: false\` ho·∫∑c kh√¥ng set ‚Üí Check cache tr∆∞·ªõc khi generate

**Flow x·ª≠ l√Ω /filter:**

\`\`\`mermaid
flowchart TD
    START([Client Request]) --> PARSE[Parse Request Body]
    PARSE --> VALIDATE{Valid Input?}
    
    VALIDATE -->|No| ERR400[400: Missing required field]
    VALIDATE -->|Yes| CHECK_REDRAW{redraw: true?}
    
    CHECK_REDRAW -->|Yes| LOOKUP_SELFIE_REDRAW[Lookup Selfie in DB]
    CHECK_REDRAW -->|No| LOOKUP_SELFIE[Lookup Selfie in DB]
    
    LOOKUP_SELFIE --> SELFIE_EXISTS{Selfie Exists?}
    LOOKUP_SELFIE_REDRAW --> SELFIE_EXISTS_REDRAW{Selfie Exists?}
    
    SELFIE_EXISTS -->|Yes| CALL_AI[Call AI Provider]
    SELFIE_EXISTS -->|No| CHECK_CACHE{Check KV Cache}
    
    SELFIE_EXISTS_REDRAW -->|Yes| CALL_AI_REDRAW[Call AI Provider]
    SELFIE_EXISTS_REDRAW -->|No| ERR404_REDRAW[404: Selfie not found<br/>Cannot redraw without selfie]
    
    CHECK_CACHE -->|Found| RETURN_CACHED[200: Return Cached Result<br/>cached: true]
    CHECK_CACHE -->|Not Found| ERR404[404: Selfie not found<br/>No cached result]
    
    CALL_AI --> AI_RESULT{AI Success?}
    CALL_AI_REDRAW --> AI_RESULT_REDRAW{AI Success?}
    
    AI_RESULT -->|Error| ERR500[500: AI Processing Error<br/>Selfie NOT deleted<br/>NO cache stored]
    AI_RESULT -->|Success| CACHE_RESULT[Cache Result in KV<br/>TTL: 24h]
    
    AI_RESULT_REDRAW -->|Error| ERR500
    AI_RESULT_REDRAW -->|Success| CACHE_RESULT_REDRAW[Update Cache in KV<br/>TTL: 24h]
    
    CACHE_RESULT --> SUCCESS[200: Return Result<br/>resultImageUrl]
    CACHE_RESULT_REDRAW --> SUCCESS_REDRAW[200: Return NEW Result<br/>resultImageUrl]
    
    ERR400 --> END([End])
    ERR404 --> END
    ERR404_REDRAW --> END
    ERR500 --> RETRY_POSSIBLE([Client Can Retry<br/>Selfie still exists])
    RETURN_CACHED --> END
    SUCCESS --> END
    SUCCESS_REDRAW --> END
    
    style START fill:#e1f5fe
    style SUCCESS fill:#c8e6c9
    style SUCCESS_REDRAW fill:#c8e6c9
    style RETURN_CACHED fill:#fff9c4
    style ERR400 fill:#ffcdd2
    style ERR404 fill:#ffcdd2
    style ERR404_REDRAW fill:#ffcdd2
    style ERR500 fill:#ffcdd2
    style RETRY_POSSIBLE fill:#ffe0b2
\`\`\`

**B·∫£ng t√≥m t·∫Øt c√°c tr∆∞·ªùng h·ª£p:**

| Scenario | \`redraw\` | Selfie Exists | Cache Exists | Result |
|----------|----------|---------------|--------------|--------|
| First request | \`false\` | ‚úÖ | ‚ùå | Generate new |
| Retry after success | \`false\` | ‚ùå (deleted by queue) | ‚úÖ | Return cached |
| Redraw button | \`true\` | ‚úÖ | ‚úÖ (ignored) | Generate new |
| Retry after API error | \`false\` | ‚úÖ (not deleted) | ‚ùå | Generate new |
| Invalid selfie + no cache | \`false\` | ‚ùå | ‚ùå | 404 Error |

**Key Rules:**
1. **Ch·ªâ cache khi SUCCESS** - Error kh√¥ng cache
2. **Selfie ƒë∆∞·ª£c qu·∫£n l√Ω theo queue** - T·ªëi ƒëa \`SELFIE_MAX_FILTER\` selfies (m·∫∑c ƒë·ªãnh: 5), t·ª± ƒë·ªông x√≥a c≈© nh·∫•t khi v∆∞·ª£t qu√°
3. **\`redraw: true\` b·ªè qua cache** - Lu√¥n generate m·ªõi
4. **Cache TTL = 24h** - Sau 24h cache t·ª± expire

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.6. POST \`/restore\` - AI Restore

**M·ª•c ƒë√≠ch:** AI kh√¥i ph·ª•c v√† n√¢ng c·∫•p ·∫£nh - ph·ª•c h·ªìi ·∫£nh b·ªã h∆∞ h·ªèng, c≈©, m·ªù, ho·∫∑c ƒëen tr·∫Øng th√†nh ·∫£nh ch·∫•t l∆∞·ª£ng cao v·ªõi m√†u s·∫Øc s·ªëng ƒë·ªông.

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/restore \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890",
    "aspect_ratio": "1:1",
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ·∫£nh c·∫ßn kh√¥i ph·ª•c (·∫£nh c≈©, b·ªã h∆∞ h·ªèng, m·ªù, ho·∫∑c ƒëen tr·∫Øng).
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: \`"original"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/restore_123.jpg"
  },
  "status": "success",
  "message": "Image restoration completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Restoration completed"
    }
  }
}
\`\`\`

**T√≠nh nƒÉng AI Restore:**
- Kh√¥i ph·ª•c ·∫£nh b·ªã h∆∞ h·ªèng (fix scratches, tears, noise, blurriness)
- Chuy·ªÉn ƒë·ªïi ·∫£nh ƒëen tr·∫Øng th√†nh m√†u v·ªõi m√†u s·∫Øc s·ªëng ƒë·ªông
- N√¢ng c·∫•p ch·∫•t l∆∞·ª£ng l√™n 16K DSLR quality
- TƒÉng c∆∞·ªùng chi ti·∫øt (face, eyes, hair, clothing)
- Th√™m √°nh s√°ng, b√≥ng ƒë·ªï, v√† ƒë·ªô s√¢u tr∆∞·ªùng ·∫£nh th·ª±c t·∫ø
- Retouching chuy√™n nghi·ªáp c·∫•p Photoshop
- High dynamic range, ultra-HD, lifelike textures

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.7. POST \`/aging\` - AI Aging

**M·ª•c ƒë√≠ch:** AI bi·∫øn ƒë·ªïi tu·ªïi khu√¥n m·∫∑t - √°p d·ª•ng style tu·ªïi t·ª´ preset l√™n selfie. M·ªói preset ch·ª©a prompt_json ƒë·ªãnh nghƒ©a style tu·ªïi c·ª• th·ªÉ (em b√©, ng∆∞·ªùi gi√†, v.v.).

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**H√†nh vi theo Provider:**
- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng \`prompt_json\` t·ª´ metadata c·ªßa preset ƒë·ªÉ √°p d·ª•ng bi·∫øn ƒë·ªïi tu·ªïi. Preset ph·∫£i c√≥ \`prompt_json\`.
- **WaveSpeed (\`provider: "wavespeed"\`):** S·ª≠ d·ª•ng \`prompt_json\` n·∫øu c√≥, ho·∫∑c ph√¢n t√≠ch style c·ªßa preset image tr·ª±c ti·∫øp. G·ª≠i images theo th·ª© t·ª± \`[selfie, preset]\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/aging \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "aging_baby_preset_001",
    "selfie_id": "selfie_1234567890_xyz789",
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Ho·∫∑c s·ª≠ d·ª•ng selfie_image_url:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/aging \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "preset_image_id": "aging_elderly_preset_001",
    "selfie_image_url": "https://example.com/selfie.jpg",
    "profile_id": "profile_1234567890",
    "additional_prompt": "Make the aging look natural"
  }'
\`\`\`

**Request Parameters:**
- \`preset_image_id\` (string, required*): ID preset aging ƒë√£ l∆∞u trong database. Preset ch·ª©a \`prompt_json\` ƒë·ªãnh nghƒ©a style tu·ªïi. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`preset_image_url\`.
- \`preset_image_url\` (string, required*): URL ·∫£nh preset tr·ª±c ti·∫øp. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`preset_image_id\`.
- \`selfie_id\` (string, required*): ID selfie ƒë√£ l∆∞u trong database. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`selfie_image_url\`.
- \`selfie_image_url\` (string, required*): URL ·∫£nh selfie tr·ª±c ti·∫øp. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ \`selfie_id\`.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.
- \`aspect_ratio\` (string, optional): T·ª∑ l·ªá khung h√¨nh. M·∫∑c ƒë·ªãnh: \`"original"\`.
- \`additional_prompt\` (string, optional): Prompt b·ªï sung ƒë·ªÉ t√πy ch·ªânh.
- \`provider\` (string, optional): Provider AI. Gi√° tr·ªã: \`"vertex"\` (m·∫∑c ƒë·ªãnh) ho·∫∑c \`"wavespeed"\`.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg"
  },
  "status": "success",
  "message": "Aging transformation completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Aging completed"
    }
  }
}
\`\`\`

**T√≠nh nƒÉng AI Aging:**
- S·ª≠ d·ª•ng prompt_json t·ª´ preset (ch·ª©a h∆∞·ªõng d·∫´n bi·∫øn ƒë·ªïi tu·ªïi c·ª• th·ªÉ)
- M·ªói preset c√≥ style tu·ªïi ri√™ng (em b√©, thi·∫øu ni√™n, trung ni√™n, ng∆∞·ªùi gi√†, v.v.)
- Gi·ªØ nguy√™n race, ethnicity, skin tone, gender
- H·ªó tr·ª£ additional_prompt ƒë·ªÉ t√πy ch·ªânh th√™m

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

#### 2.8. POST \`/upscaler4k\` - AI Upscale 4K

**M·ª•c ƒë√≠ch:** Upscale ·∫£nh l√™n ƒë·ªô ph√¢n gi·∫£i 4K s·ª≠ d·ª•ng WaveSpeed AI.

**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upscaler4k \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
    "profile_id": "profile_1234567890"
  }'
\`\`\`

**Request Parameters:**
- \`image_url\` (string, required): URL ·∫£nh c·∫ßn upscale.
- \`profile_id\` (string, required): ID profile ng∆∞·ªùi d√πng.

**Response:**
\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
  },
  "status": "success",
  "message": "Upscaling completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Upscaler4K image upscaling completed",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
    },
    "vertex": {
      "debug": {
        "endpoint": "https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler",
        "status": 200,
        "durationMs": 5000
      }
    },
    "inputSafety": {
      "checked": true,
      "isSafe": true
    },
    "outputSafety": {
      "checked": true,
      "isSafe": true
    }
  }
}
\`\`\`

**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)

---

### 3. Qu·∫£n l√Ω Profile

#### 3.1. POST \`/profiles\` - T·∫°o profile

**M·ª•c ƒë√≠ch:** T·∫°o profile m·ªõi.

**Authentication:** Y√™u c·∫ßu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**

**Minimal (ch·ªâ c·∫ßn device_id):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz"
  }'
\`\`\`

**Full request:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "userID": "user_external_123",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}"
  }'
\`\`\`

**V·ªõi preferences d·∫°ng object:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -d '{
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": {
      "theme": "dark",
      "language": "vi"
    }
  }'
\`\`\`

**Ho·∫∑c g·ª≠i device_id qua header:**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/profiles \\
  -H "Content-Type: application/json" \\
  -H "X-API-Key: your_api_key_here" \\
  -H "x-device-id: device_1765774126587_yaq0uh6rvz" \\
  -d '{
    "name": "John Doe",
    "email": "john@example.com"
  }'
\`\`\`

**Request Parameters:**
- \`device_id\` (string, optional): ID thi·∫øt b·ªã. C√≥ th·ªÉ g·ª≠i trong body ho·∫∑c header \`x-device-id\`. N·∫øu kh√¥ng c√≥, s·∫Ω l√† \`null\`.
- \`userID\` ho·∫∑c \`user_id\` (string, optional): **User ID b√™n ngo√†i** d√πng ƒë·ªÉ t√¨m ki·∫øm profile. ƒê√¢y l√† ID t·ª´ h·ªá th·ªëng c·ªßa b·∫°n (v√≠ d·ª•: Firebase UID, Auth0 ID, v.v.). C√≥ th·ªÉ d√πng ƒë·ªÉ t√¨m profile sau n√†y.
- \`id\` (string, optional): ID profile n·ªôi b·ªô. N·∫øu kh√¥ng c√≥, h·ªá th·ªëng t·ª± t·∫°o b·∫±ng \`nanoid(16)\`.
- \`name\` (string, optional): t√™n profile.
- \`email\` (string, optional): email.
- \`avatar_url\` (string, optional): URL avatar.
- \`preferences\` (string ho·∫∑c object, optional): preferences d·∫°ng JSON string ho·∫∑c object. N·∫øu l√† object, h·ªá th·ªëng t·ª± ƒë·ªông chuy·ªÉn th√†nh JSON string tr∆∞·ªõc khi l∆∞u v√†o D1 database (v√¨ D1 kh√¥ng h·ªó tr·ª£ JSON object tr·ª±c ti·∫øp).

**L∆∞u √Ω v·ªÅ ID:**
- \`id\` (profile_id): ID n·ªôi b·ªô c·ªßa profile, t·ª± ƒë·ªông t·∫°o n·∫øu kh√¥ng cung c·∫•p.
- \`user_id\`: ID t·ª´ h·ªá th·ªëng b√™n ngo√†i (Firebase, Auth0, v.v.), d√πng ƒë·ªÉ li√™n k·∫øt v·ªõi user c·ªßa b·∫°n.
- \`device_id\`: ID thi·∫øt b·ªã, d√πng ƒë·ªÉ theo d√µi user ch∆∞a ƒëƒÉng nh·∫≠p.

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "user_id": "user_external_123",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T04:48:47.676Z"
  },
  "status": "success",
  "message": "Profile created successfully",
  "code": 200,
  "debug": {
    "profileId": "uYNgRR70Ry9OFuMV",
    "deviceId": "device_1765774126587_yaq0uh6rvz",
    "userId": "user_external_123"
  }
}
\`\`\`

---

#### 3.2. GET \`/profiles/{id}\` - L·∫•y profile

**M·ª•c ƒë√≠ch:** L·∫•y th√¥ng tin profile theo Profile ID, Device ID, ho·∫∑c User ID.

**Authentication:** Y√™u c·∫ßu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Path Parameters:**
- \`id\` (string, required): C√≥ th·ªÉ l√† **Profile ID**, **Device ID**, ho·∫∑c **User ID**. API s·∫Ω t√¨m theo th·ª© t·ª±: profile_id ‚Üí device_id ‚Üí user_id.

**Request:**
\`\`\`bash
# T√¨m b·∫±ng Profile ID
curl https://api.d.shotpix.app/profiles/uYNgRR70Ry9OFuMV \\
  -H "X-API-Key: your_api_key_here"

# T√¨m b·∫±ng Device ID
curl https://api.d.shotpix.app/profiles/device_1765774126587_yaq0uh6rvz \\
  -H "X-API-Key: your_api_key_here"

# T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)
curl https://api.d.shotpix.app/profiles/user_external_123 \\
  -H "X-API-Key: your_api_key_here"
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "user_id": "user_external_123",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T04:48:47.676Z"
  },
  "status": "success",
  "message": "Profile retrieved successfully",
  "code": 200
}
\`\`\`

**L∆∞u √Ω:** C·∫£ ba c√°ch t√¨m (b·∫±ng Profile ID, Device ID, ho·∫∑c User ID) ƒë·ªÅu tr·∫£ v·ªÅ c√πng m·ªôt profile v·ªõi ƒë·∫ßy ƒë·ªß th√¥ng tin.

---

#### 3.3. PUT \`/profiles/{id}\` - C·∫≠p nh·∫≠t profile

**M·ª•c ƒë√≠ch:** C·∫≠p nh·∫≠t th√¥ng tin profile.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl -X PUT https://api.d.shotpix.app/profiles/profile_1234567890 \\
  -H "Content-Type: application/json" \\
  -d '{
    "name": "John Doe Updated",
    "email": "john.updated@example.com",
    "avatar_url": "https://example.com/new-avatar.jpg",
    "preferences": {
      "theme": "light",
      "language": "en"
    }
  }'
\`\`\`

**Request Parameters:**
- \`name\` (string, optional): t√™n profile.
- \`email\` (string, optional): email.
- \`avatar_url\` (string, optional): URL avatar.
- \`preferences\` (string ho·∫∑c object, optional): preferences d·∫°ng JSON string ho·∫∑c object. N·∫øu l√† object, h·ªá th·ªëng t·ª± ƒë·ªông chuy·ªÉn th√†nh JSON string tr∆∞·ªõc khi l∆∞u v√†o D1 database (v√¨ D1 kh√¥ng h·ªó tr·ª£ JSON object tr·ª±c ti·∫øp).

**L∆∞u √Ω:** ID profile ph·∫£i ƒë∆∞·ª£c cung c·∫•p trong URL path (\`/profiles/{id}\`), kh√¥ng c·∫ßn g·ª≠i trong body.

**Response:**
\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "user_id": "user_external_123",
    "name": "John Doe Updated",
    "email": "john.updated@example.com",
    "avatar_url": "https://example.com/new-avatar.jpg",
    "preferences": "{\\"theme\\":\\"light\\",\\"language\\":\\"en\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T05:00:00.000Z"
  },
  "status": "success",
  "message": "Profile updated successfully",
  "code": 200
}
\`\`\`

---

#### 3.4. GET \`/profiles\` - Li·ªát k√™ profiles

**M·ª•c ƒë√≠ch:** Li·ªát k√™ t·∫•t c·∫£ profiles (d√πng cho admin/debugging).

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/profiles
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "profiles": [
      {
        "id": "uYNgRR70Ry9OFuMV",
        "device_id": "device_1765774126587_yaq0uh6rvz",
        "user_id": "user_external_123",
        "name": "John Doe",
        "email": "john@example.com",
        "avatar_url": "https://example.com/avatar.jpg",
        "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
        "created_at": "2025-12-15T04:48:47.676Z",
        "updated_at": "2025-12-15T04:48:47.676Z"
      }
    ]
  },
  "status": "success",
  "message": "Profiles retrieved successfully",
  "code": 200
}
\`\`\`

---

### 4. Truy v·∫•n D·ªØ li·ªáu

#### 4.1. GET \`/presets\` - Li·ªát k√™ presets

**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ danh s√°ch preset trong database.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/presets
curl https://api.d.shotpix.app/presets?include_thumbnails=true
\`\`\`

**Query Parameters:**
- \`include_thumbnails\` (optional): \`true\` ƒë·ªÉ bao g·ªìm c·∫£ presets c√≥ thumbnail. M·∫∑c ƒë·ªãnh ch·ªâ tr·∫£ v·ªÅ presets kh√¥ng c√≥ thumbnail.

**Response:**
\`\`\`json
{
  "data": {
    "presets": [
      {
        "id": "preset_1234567890_abc123",
        "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "hasPrompt": true,
        "prompt_json": null,
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
        "thumbnail_format": "webp",
        "thumbnail_resolution": "1x",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Presets retrieved successfully",
  "code": 200,
  "debug": {
    "count": 1
  }
}
\`\`\`

---

#### 4.2. GET \`/presets/{id}\` - L·∫•y preset theo ID

**M·ª•c ƒë√≠ch:** L·∫•y th√¥ng tin chi ti·∫øt c·ªßa m·ªôt preset theo ID (bao g·ªìm \`prompt_json\`).

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "id": "preset_1234567890_abc123",
    "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "hasPrompt": true,
    "prompt_json": {
      "prompt": "...",
      "style": "...",
      "lighting": "..."
    },
    "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
    "thumbnail_format": "webp",
    "thumbnail_resolution": "1x",
    "created_at": "2024-01-01T00:00:00.000Z"
  },
  "status": "success",
  "message": "Preset retrieved successfully",
  "code": 200,
  "debug": {
    "presetId": "preset_1234567890_abc123",
    "hasPrompt": true
  }
}
\`\`\`

---

#### 4.3. DELETE \`/presets/{id}\` - X√≥a preset

**M·ª•c ƒë√≠ch:** X√≥a preset kh·ªèi D1 v√† R2.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Preset deleted successfully",
  "code": 200
}
\`\`\`

---

#### 4.4. GET \`/selfies\` - Li·ªát k√™ selfies

**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ t·ªëi ƒëa 50 selfie g·∫ßn nh·∫•t c·ªßa m·ªôt profile. Endpoint n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi mobile app ƒë·ªÉ l·∫•y danh s√°ch selfies ƒë√£ upload.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key (c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t trong t∆∞∆°ng lai).

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/selfies?profile_id=profile_1234567890
\`\`\`

**Query Parameters:**
- \`profile_id\` (required): ID profile.
- \`limit\` (optional): S·ªë l∆∞·ª£ng selfies t·ªëi ƒëa tr·∫£ v·ªÅ (1-50). M·∫∑c ƒë·ªãnh: 50.

**Response:**
\`\`\`json
{
  "data": {
    "selfies": [
      {
        "id": "selfie_1234567890_xyz789",
        "selfie_url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "action": "faceswap",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Selfies retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 4.5. DELETE \`/selfies/{id}\` - X√≥a selfie

**M·ª•c ƒë√≠ch:** X√≥a selfie kh·ªèi D1 v√† R2.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Selfie deleted successfully",
  "code": 200,
  "debug": {
    "selfieId": "selfie_1234567890_xyz789",
    "r2Deleted": true,
    "r2Error": null
  }
}
\`\`\`

---

#### 4.6. GET \`/results\` - Li·ªát k√™ results

**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ t·ªëi ƒëa 50 k·∫øt qu·∫£ generated images (face swap, background, enhance, beauty, filter, restore, aging, upscaler4k) g·∫ßn nh·∫•t. Endpoint n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi mobile app ƒë·ªÉ l·∫•y danh s√°ch c√°c ·∫£nh ƒë√£ ƒë∆∞·ª£c t·∫°o.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key (c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t trong t∆∞∆°ng lai).

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/results
curl https://api.d.shotpix.app/results?profile_id=profile_1234567890
\`\`\`

**Query Parameters:**
- \`profile_id\` (optional): ID profile ƒë·ªÉ l·ªçc k·∫øt qu·∫£.
- \`limit\` (optional): S·ªë l∆∞·ª£ng results t·ªëi ƒëa tr·∫£ v·ªÅ (1-50). M·∫∑c ƒë·ªãnh: 50.

**Response:**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "result_1234567890_abc123",
        "result_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "profile_id": "profile_1234567890",
        "action": "faceswap",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Results retrieved successfully",
  "code": 200
}
\`\`\`

**Response Fields:**
- \`id\`: ID duy nh·∫•t c·ªßa result
- \`result_url\` / \`image_url\`: URL public c·ªßa ·∫£nh k·∫øt qu·∫£
- \`profile_id\`: ID profile s·ªü h·ªØu result n√†y
- \`action\`: Lo·∫°i action ƒë√£ t·∫°o ra result (\`faceswap\`, \`background\`, \`upscaler4k\`, \`enhance\`, \`beauty\`, \`filter\`, \`restore\`, \`aging\`). C√≥ th·ªÉ null cho results c≈©.
- \`created_at\`: Th·ªùi gian t·∫°o (ISO 8601)
\`\`\`

---

#### 4.7. DELETE \`/results/{id}\` - X√≥a result

**M·ª•c ƒë√≠ch:** X√≥a k·∫øt qu·∫£ kh·ªèi D1 v√† R2.

**Authentication:** Y√™u c·∫ßu API key khi \`ENABLE_MOBILE_API_KEY_AUTH=true\`.

**Request:**
\`\`\`bash
curl -X DELETE https://api.d.shotpix.app/results/result_1234567890_abc123
\`\`\`

**Response:**
\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Result deleted successfully",
  "code": 200,
  "debug": {
    "resultId": "result_1234567890_abc123",
    "databaseDeleted": 1,
    "r2Deleted": true,
    "r2Key": "results/result_123.jpg",
    "r2Error": null
  }
}
\`\`\`

---

#### 4.8. GET \`/thumbnails\` - Li·ªát k√™ thumbnails

**M·ª•c ƒë√≠ch:** L·∫•y danh s√°ch thumbnails t·ª´ database. Tr·∫£ v·ªÅ t·∫•t c·∫£ presets c√≥ thumbnail (b·∫•t k·ª≥ c·ªôt thumbnail n√†o kh√¥ng null).

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/thumbnails
\`\`\`

**Query Parameters:**
- Kh√¥ng c√≥ query parameters. Endpoint tr·∫£ v·ªÅ t·∫•t c·∫£ presets c√≥ thumbnail.

**L∆∞u √Ω:** Endpoint n√†y query t·ª´ b·∫£ng \`presets\` v·ªõi ƒëi·ªÅu ki·ªán \`thumbnail_r2\` kh√¥ng null v√† kh√¥ng r·ªóng. D·ªØ li·ªáu thumbnail ƒë∆∞·ª£c l∆∞u d∆∞·ªõi d·∫°ng JSON object trong tr∆∞·ªùng \`thumbnail_r2\`.

**Response:**
\`\`\`json
{
  "data": {
    "thumbnails": [
      {
        "id": "fs_wonder_f_3",
        "ext": "png",
        "thumbnail_r2": "{\\"webp_1x\\":\\"webp_1x/fs_wonder_f_3.webp\\",\\"lottie_1x\\":\\"lottie_1x/fs_wonder_f_3.json\\",\\"lottie_avif_2x\\":\\"lottie_avif_2x/fs_wonder_f_3.json\\"}",
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp",
        "thumbnail_url_1x": "https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp",
        "thumbnail_url_1_5x": null,
        "thumbnail_url_2x": null,
        "thumbnail_url_3x": null,
        "thumbnail_url_4x": null,
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Thumbnails retrieved successfully",
  "code": 200
}
\`\`\`

**L∆∞u √Ω:** Response tr·∫£ v·ªÅ t·∫•t c·∫£ c√°c c·ªôt thumbnail resolution (1x, 1.5x, 2x, 3x) t·ª´ database. \`thumbnail_url\` l√† alias c·ªßa \`thumbnail_url_1x\` cho backward compatibility.

---

#### 4.9. GET \`/thumbnails/{id}/preset\` - L·∫•y preset_id t·ª´ thumbnail_id

**M·ª•c ƒë√≠ch:** L·∫•y preset_id t·ª´ thumbnail_id (d√πng cho mobile app).

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "preset_id": "preset_1234567890_abc123"
  },
  "status": "success",
  "message": "Preset ID retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 4.10. Thumbnail URL Rules - Quy t·∫Øc URL Thumbnail

**M·ª•c ƒë√≠ch:** T√†i li·ªáu chi ti·∫øt v·ªÅ c·∫•u tr√∫c URL v√† quy t·∫Øc ƒë·∫∑t t√™n cho thumbnails trong h·ªá th·ªëng.

**C·∫•u tr√∫c URL Thumbnail:**

Thumbnails ƒë∆∞·ª£c l∆∞u tr·ªØ trong R2 bucket v·ªõi c·∫•u tr√∫c path nh∆∞ sau:

\`\`\`
preset_thumb/{folderType}_{resolution}/{presetId}.{ext}
\`\`\`

**Format URL ƒë·∫ßy ƒë·ªß:**

\`\`\`
https://resources.d.shotpix.app/{bucket-name}/preset_thumb/{folderType}_{resolution}/{presetId}.{ext}
\`\`\`

**V√≠ d·ª•:**

\`\`\`
https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json
https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_avif_2x/fs_wonder_f_3.json
https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/webp_4x/preset_1234567890_abc123.webp
\`\`\`

**Folder Types (Lo·∫°i th∆∞ m·ª•c):**

| Folder Type | M√¥ t·∫£ | Extension | Content Type |
|-------------|-------|-----------|--------------|
| \`webp\` | WebP image format | \`.webp\` | \`image/webp\` |
| \`lottie\` | Lottie animation JSON | \`.json\` | \`application/json\` |
| \`lottie_avif\` | Lottie animation v·ªõi AVIF optimization | \`.json\` | \`application/json\` |

**Resolutions (ƒê·ªô ph√¢n gi·∫£i):**

| Resolution | M√¥ t·∫£ | Use Case |
|------------|-------|----------|
| \`1x\` | Base resolution | Standard displays |
| \`1.5x\` | 1.5x resolution | Retina displays (1.5x) |
| \`2x\` | 2x resolution | Retina displays (2x) |
| \`3x\` | 3x resolution | High-DPI displays (3x) |
| \`4x\` | 4x resolution | Ultra high-DPI displays (4x) |

**Folder Naming Convention (Quy t·∫Øc ƒë·∫∑t t√™n th∆∞ m·ª•c):**

Format: \`{folderType}_{resolution}\`

**T·∫•t c·∫£ c√°c folder types v√† resolutions ƒë∆∞·ª£c h·ªó tr·ª£:**

- \`webp_1x\`, \`webp_1.5x\`, \`webp_2x\`, \`webp_3x\`, \`webp_4x\`
- \`lottie_1x\`, \`lottie_1.5x\`, \`lottie_2x\`, \`lottie_3x\`, \`lottie_4x\`
- \`lottie_avif_1x\`, \`lottie_avif_1.5x\`, \`lottie_avif_2x\`, \`lottie_avif_3x\`, \`lottie_avif_4x\`

**T·ªïng c·ªông: 15 folder types √ó resolutions**

**File Naming Convention (Quy t·∫Øc ƒë·∫∑t t√™n file):**

Format: \`{presetId}.{ext}\`

- \`presetId\`: ID c·ªßa preset (v√≠ d·ª•: \`fs_frosted_window_portrait_f_4\`, \`preset_1234567890_abc123\`)
- \`ext\`: Extension d·ª±a tr√™n folder type:
  - \`webp\` ‚Üí \`.webp\`
  - \`lottie\` ‚Üí \`.json\`
  - \`lottie_avif\` ‚Üí \`.json\`

**V√≠ d·ª• file names:**

- \`fs_frosted_window_portrait_f_4.json\` (lottie thumbnail)
- \`fs_wonder_f_3.webp\` (webp thumbnail)
- \`preset_1234567890_abc123.json\` (lottie_avif thumbnail)

**Database Storage (L∆∞u tr·ªØ trong Database):**

Thumbnails ƒë∆∞·ª£c l∆∞u trong b·∫£ng \`presets\` v·ªõi tr∆∞·ªùng \`thumbnail_r2\` d·∫°ng JSON:

\`\`\`json
{
  "webp_1x": "preset_thumb/webp_1x/fs_frosted_window_portrait_f_4.webp",
  "webp_1.5x": "preset_thumb/webp_1.5x/fs_frosted_window_portrait_f_4.webp",
  "webp_2x": "preset_thumb/webp_2x/fs_frosted_window_portrait_f_4.webp",
  "webp_3x": "preset_thumb/webp_3x/fs_frosted_window_portrait_f_4.webp",
  "webp_4x": "preset_thumb/webp_4x/fs_frosted_window_portrait_f_4.webp",
  "lottie_1x": "preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json",
  "lottie_1.5x": "preset_thumb/lottie_1.5x/fs_frosted_window_portrait_f_4.json",
  "lottie_2x": "preset_thumb/lottie_2x/fs_frosted_window_portrait_f_4.json",
  "lottie_3x": "preset_thumb/lottie_3x/fs_frosted_window_portrait_f_4.json",
  "lottie_4x": "preset_thumb/lottie_4x/fs_frosted_window_portrait_f_4.json",
  "lottie_avif_1x": "preset_thumb/lottie_avif_1x/fs_frosted_window_portrait_f_4.json",
  "lottie_avif_1.5x": "preset_thumb/lottie_avif_1.5x/fs_frosted_window_portrait_f_4.json",
  "lottie_avif_2x": "preset_thumb/lottie_avif_2x/fs_frosted_window_portrait_f_4.json",
  "lottie_avif_3x": "preset_thumb/lottie_avif_3x/fs_frosted_window_portrait_f_4.json",
  "lottie_avif_4x": "preset_thumb/lottie_avif_4x/fs_frosted_window_portrait_f_4.json"
}
\`\`\`

**Key trong JSON = \`{folderType}_{resolution}\`**
**Value trong JSON = R2 key (full path t·ª´ root)**

**C√°ch x√¢y d·ª±ng URL t·ª´ R2 key:**

1. L·∫•y R2 key t·ª´ database: \`preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json\`
2. K·∫øt h·ª£p v·ªõi R2 public domain: \`https://resources.d.shotpix.app/{bucket-name}/{r2Key}\`
3. K·∫øt qu·∫£: \`https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json\`

**L∆∞u √Ω quan tr·ªçng:**

1. **Kh√¥ng c√≥ duplicate folders:** URL kh√¥ng bao gi·ªù c√≥ d·∫°ng \`preset_thumb/lottie_1x/lottie_1x/\` (folder name b·ªã l·∫∑p). Format ƒë√∫ng l√† \`preset_thumb/lottie_1x/{presetId}.json\`.

2. **Preset ID extraction:** Preset ID ƒë∆∞·ª£c extract t·ª´ filename (basename), kh√¥ng bao g·ªìm path. V√≠ d·ª•:
   - File: \`lottie_1x/fs_frosted_window_portrait_f_4.json\`
   - Preset ID: \`fs_frosted_window_portrait_f_4\` (kh√¥ng ph·∫£i \`lottie_1x/fs_frosted_window_portrait_f_4\`)

3. **Bucket name:** Bucket name kh√°c nhau theo environment:
   - Development: \`faceswap-images-office-dev\`
   - Production: \`faceswap-images-office-prod\`
   - Default: \`faceswap-images-office\`

4. **R2 Public Domain:** Lu√¥n s·ª≠ d·ª•ng \`https://resources.d.shotpix.app\` cho public URLs.

5. **Cache Control:** T·∫•t c·∫£ thumbnails c√≥ cache control header: \`public, max-age=31536000, immutable\` (1 nƒÉm).

**V√≠ d·ª• s·ª≠ d·ª•ng trong code:**

**JavaScript/TypeScript:**
\`\`\`javascript
// L·∫•y thumbnail URL t·ª´ database response
const preset = {
  id: "fs_frosted_window_portrait_f_4",
  thumbnail_r2: '{"lottie_1x":"preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json"}'
};

const thumbnailData = JSON.parse(preset.thumbnail_r2);
const r2Key = thumbnailData['lottie_1x']; // "preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json"
const bucketName = "faceswap-images-office-dev";
const publicUrl = \`https://resources.d.shotpix.app/\${bucketName}/\${r2Key}\`;
// Result: https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json
\`\`\`

**Mobile App (Swift/Kotlin):**
\`\`\`swift
// Swift example
let thumbnailData = try JSONDecoder().decode([String: String].self, from: preset.thumbnailR2.data(using: .utf8)!)
if let r2Key = thumbnailData["lottie_1x"] {
    let bucketName = "faceswap-images-office-dev"
    let publicUrl = "https://resources.d.shotpix.app/\\(bucketName)/\\(r2Key)"
    // Use publicUrl to load thumbnail
}
\`\`\`

**Best Practices:**

1. **Fallback resolution:** Lu√¥n c√≥ fallback khi resolution kh√¥ng t·ªìn t·∫°i:
   \`\`\`javascript
   const thumbnailUrl = 
     thumbnailData['lottie_4x'] || 
     thumbnailData['lottie_3x'] || 
     thumbnailData['lottie_2x'] || 
     thumbnailData['lottie_1x'] || 
     thumbnailData['webp_4x'] || 
     thumbnailData['webp_1x'];
   \`\`\`

2. **Format preference:** ∆Øu ti√™n format theo th·ª© t·ª±:
   - Lottie AVIF (t·ªëi ∆∞u nh·∫•t cho animation)
   - Lottie (standard animation)
   - WebP (static image fallback)

3. **Resolution selection:** Ch·ªçn resolution d·ª±a tr√™n device pixel ratio:
   - 1x devices: \`1x\` ho·∫∑c \`1.5x\`
   - 2x devices (Retina): \`2x\` ho·∫∑c \`3x\`
   - 3x+ devices (Super Retina): \`3x\` ho·∫∑c \`4x\`

4. **Error handling:** Lu√¥n ki·ªÉm tra URL t·ªìn t·∫°i tr∆∞·ªõc khi s·ª≠ d·ª•ng:
   \`\`\`javascript
   if (thumbnailUrl && thumbnailUrl.startsWith('https://')) {
     // Safe to use
   }
   \`\`\`

---

### 5. H·ªá th·ªëng & C·∫•u h√¨nh

#### 5.1. GET \`/config\` - L·∫•y config

**M·ª•c ƒë√≠ch:** L·∫•y c·∫•u h√¨nh public c·ªßa Worker (custom domains).

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Request:**
\`\`\`bash
curl https://api.d.shotpix.app/config
\`\`\`

**Response:**
\`\`\`json
{
  "data": {
    "backendDomain": "https://api.d.shotpix.app",
    "r2Domain": "https://resources.d.shotpix.app",
    "kvCache": {
      "available": true,
      "test": "success",
      "details": {
        "bindingName": "PROMPT_CACHE_KV",
        "envKeys": ["PROMPT_CACHE_KV_BINDING_NAME", "..."]
      }
    }
  },
  "status": "success",
  "message": "Config retrieved successfully",
  "code": 200
}
\`\`\`

---

#### 5.2. OPTIONS \`/*\` - CORS preflight requests

**M·ª•c ƒë√≠ch:** X·ª≠ l√Ω CORS preflight requests cho t·∫•t c·∫£ c√°c endpoints. T·ª± ƒë·ªông ƒë∆∞·ª£c g·ªçi b·ªüi tr√¨nh duy·ªát khi th·ª±c hi·ªán cross-origin requests.

**Authentication:** Kh√¥ng y√™u c·∫ßu API key.

**Response:**

Tr·∫£ v·ªÅ HTTP 204 (No Content) v·ªõi c√°c headers CORS:
- \`Access-Control-Allow-Origin\`: Cho ph√©p t·∫•t c·∫£ origins
- \`Access-Control-Allow-Methods\`: GET, POST, PUT, DELETE, OPTIONS
- \`Access-Control-Allow-Headers\`: Content-Type, Authorization, X-API-Key, v√† c√°c headers kh√°c
- \`Access-Control-Max-Age\`: 86400 (24 gi·ªù)

Endpoint \`/upload-proxy/*\` c√≥ h·ªó tr·ª£ th√™m method PUT trong CORS headers.

---

## T·ªïng k·∫øt

**T·ªïng s·ªë API endpoints: 26**

Xem danh s√°ch ƒë·∫ßy ƒë·ªß t·∫°i [APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile](#apis-c·∫ßn-t√≠ch-h·ª£p-v·ªõi-mobile-15-apis) ·ªü ƒë·∫ßu t√†i li·ªáu.

---

## Custom Domain

- **Worker API Domain**: \`https://api.d.shotpix.app\` - D√πng cho t·∫•t c·∫£ API endpoints
- **R2 Public Domain**: \`https://resources.d.shotpix.app\` - D√πng cho public URLs c·ªßa files trong R2 bucket
- Format R2 public URL: \`https://resources.d.shotpix.app/{bucket-name}/{key}\`
`,
      'PROVIDER_ASPECT_RATIO.md': `# Provider-Specific Aspect Ratio Handling

## Overview

The backend supports two image generation providers: **Vertex AI** and **WaveSpeed**. Each provider has different capabilities and constraints for image dimensions and aspect ratios.

---

## Vertex AI (Google)

### Behavior
- **Uses standard aspect ratios only**
- Input image dimensions are mapped to the closest supported ratio
- Original aspect ratio may not be preserved exactly

### Supported Ratios
\`\`\`
1:1, 3:2, 2:3, 3:4, 4:3, 4:5, 5:4, 9:16, 16:9, 21:9
\`\`\`

### Flow
\`\`\`
Input Image (1240x2772, ratio 0.447)
    ‚Üì
resolveAspectRatio() ‚Üí finds closest standard ratio
    ‚Üì
"9:16" (ratio 0.5625) ‚Üê closest match
    ‚Üì
Vertex AI generates image with 9:16 aspect ratio
\`\`\`

### When to Use
- When standard aspect ratios are acceptable
- For consistent social media formats (9:16 for stories, 1:1 for posts, etc.)

---

## WaveSpeed

### Behavior
- **Preserves exact original aspect ratio**
- Supports custom dimensions: 256-1536 pixels per dimension
- Scales proportionally to fit within limits

### Dimension Constraints
| Constraint | Value |
|------------|-------|
| Minimum | 256px per dimension |
| Maximum | 1536px per dimension |

### Flow
\`\`\`
Input Image (1240x2772, ratio 0.447)
    ‚Üì
getImageDimensionsExtended() ‚Üí { width: 1240, height: 2772 }
    ‚Üì
normalizeSize("1240x2772"):
  - scale = min(1536/1240, 1536/2772) = 0.554
  - width = round(1240 √ó 0.554) = 687
  - height = round(2772 √ó 0.554) = 1536
    ‚Üì
API receives: "size": "687x1536" (ratio 0.447 preserved)
    ‚Üì
WaveSpeed generates image with exact 687x1536 dimensions
\`\`\`

### When to Use
- When original aspect ratio must be preserved exactly
- For non-standard aspect ratios
- When image cropping/distortion is unacceptable

---

## Comparison Table

| Feature | Vertex AI | WaveSpeed |
|---------|-----------|-----------|
| Aspect Ratio | Standard ratios only | Custom dimensions |
| Ratio Preservation | Snaps to closest standard | Exact preservation |
| Dimension Range | Fixed by ratio | 256-1536px flexible |
| Best For | Social media formats | Original ratio preservation |

---

## API Request Examples

### Vertex AI Request
\`\`\`json
{
  "image_url": "https://example.com/image.jpg",
  "profile_id": "abc123",
  "aspect_ratio": "9:16",
  "provider": "vertex"
}
\`\`\`
- \`aspect_ratio\` is used directly
- If omitted or "original", closest standard ratio is calculated

### WaveSpeed Request
\`\`\`json
{
  "image_url": "https://example.com/image.jpg",
  "profile_id": "abc123",
  "provider": "wavespeed"
}
\`\`\`
- No \`aspect_ratio\` needed for original ratio preservation
- Backend automatically calculates and scales dimensions
- If \`aspect_ratio\` is explicitly set (e.g., "9:16"), that ratio will be used instead

---

## Affected Endpoints

The following endpoints support both providers with this behavior:

| Endpoint | Description |
|----------|-------------|
| \`/enhance\` | Image enhancement |
| \`/beauty\` | Beauty filter |
| \`/restore\` | Image restoration |
| \`/aging\` | Age transformation |
| \`/filter\` | Style transfer |
| \`/faceswap\` | Face swap |

---

## Code Reference

### Key Functions

| Function | Location | Purpose |
|----------|----------|---------|
| \`resolveAspectRatio()\` | \`utils.ts\` | Maps dimensions to standard ratios (Vertex) |
| \`getClosestAspectRatio()\` | \`utils.ts\` | Finds nearest standard ratio |
| \`normalizeSize()\` | \`services.ts:2475\` | Scales dimensions proportionally (WaveSpeed) |
| \`aspectRatioToSize()\` | \`services.ts:2504\` | Converts ratio to pixel dimensions |
| \`callWaveSpeedEdit()\` | \`services.ts:2455\` | WaveSpeed API call with size handling |

### Logic Separation

\`\`\`typescript
// Determine provider
const effectiveProvider = body.provider || env.IMAGE_PROVIDER;

// WaveSpeed: Use original dimensions
if (effectiveProvider === 'wavespeed' && !userExplicitlySetAspectRatio) {
  const dims = await getImageDimensionsExtended(imageUrl, env);
  sizeForWaveSpeed = \`\${dims.width}x\${dims.height}\`;
}

// Vertex: Use standard aspect ratio (unchanged)
const validAspectRatio = await resolveAspectRatio(...);
\`\`\`

---

## Configuration

### Environment Variables

| Variable | Description |
|----------|-------------|
| \`IMAGE_PROVIDER\` | Default provider: \`"vertex"\` or \`"wavespeed"\` |
| \`WAVESPEED_API_KEY\` | WaveSpeed API authentication |
| \`GOOGLE_VERTEX_PROJECT_ID\` | Vertex AI project ID |

### Per-Request Override

Any endpoint can override the default provider:
\`\`\`json
{
  "provider": "wavespeed"
}
\`\`\`
`,
      'REQUIREMENTS.md': `# Face Swap AI - Requirements

## Overview
A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The application uses Cloudflare Workers for backend API, Cloudflare R2 for image storage, and Cloudflare D1 for database storage.

## Frontend Structure

### File Organization
- \`index.html\` - Main HTML structure with inline CSS and JavaScript

### UI Layout
- Main workspace: Two-column grid layout
  - Left column: Preset section (top) and Selfie section (bottom)
  - Right column: Result image (spans both rows, large display)
- Bottom section: Results history gallery
- Both preset and selfie have identical UI: Upload area + Gallery for selection

## UI/UX Design Guide

### Design Principles
- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.
- **Clarity**: Users should understand what to do without reading instructions.
- **Efficiency**: Minimize clicks and steps to complete tasks.
- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.
- **Feedback**: Always provide clear visual feedback for user actions.

### Layout Structure

#### Main Container
- Max width: 1200px (centered on large screens)
- Padding: 24px on desktop, 16px on mobile
- Background: #FFFFFF (white) or #FAFAFA (very light gray)
- Border radius: 0px (sharp, professional edges)

#### Main Workspace - Two Column Grid
- **Layout**: CSS Grid with 2 columns
- **Left Column** (40% width):
  - **Preset Section** (top row):
    - Upload area with drag & drop
    - Gallery grid below for selecting existing presets
    - Selected preset preview (large, prominent)
  - **Selfie Section** (bottom row):
    - Upload area with drag & drop (identical to preset)
    - Gallery grid below for selecting existing selfies
    - Selected selfie preview (large, prominent)
  - Gap between sections: 24px
- **Right Column** (60% width):
  - **Result Image Display** (spans both rows):
    - Large preview area (min-height: 600px)
    - Shows generated face swap result
    - Empty state: "Result will appear here"
    - Centered, object-fit: contain
- **Gap between columns**: 24px
- **Generate Button**: Full width below the grid, centered

#### Bottom Section - Results History
- Full width grid layout
- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile
- Gap: 16px between items

### Color Palette

#### Primary Colors
- **Primary**: #2563EB (Blue 600) - Main actions, selected states
- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover
- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds

#### Neutral Colors
- **Background**: #FFFFFF (White)
- **Surface**: #F9FAFB (Gray 50) - Card backgrounds
- **Border**: #E5E7EB (Gray 200) - Dividers, borders
- **Text Primary**: #111827 (Gray 900) - Main text
- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels

#### Status Colors
- **Success**: #10B981 (Green 500) - Success messages, completed states
- **Error**: #EF4444 (Red 500) - Error messages, warnings
- **Warning**: #F59E0B (Amber 500) - Warnings
- **Info**: #3B82F6 (Blue 500) - Informational messages

### Typography

#### Font Family
- **Primary**: System font stack: \`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\`
- **Monospace**: \`'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace\` (for filenames only)

#### Font Sizes
- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight
- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight
- **Body**: 16px / 1.5 line-height / 400 weight
- **Small**: 14px / 1.4 line-height / 400 weight
- **Caption**: 12px / 1.3 line-height / 400 weight

#### Text Hierarchy
- Page title: H1, centered or left-aligned
- Section headers: H2, left-aligned with 24px margin-bottom
- Labels: Small, Text Secondary color, 8px margin-bottom
- Body text: Body size, Text Primary color

### Spacing System
- Use 4px base unit for consistent spacing
- **XS**: 4px (tight spacing)
- **S**: 8px (small gaps)
- **M**: 16px (default spacing)
- **L**: 24px (section spacing)
- **XL**: 32px (large sections)
- **XXL**: 48px (major sections)

### Component Specifications

#### Upload Areas
- **Container**: 
  - Background: #FFFFFF
  - Border: 2px dashed #D1D5DB (Gray 300)
  - Border radius: 8px
  - Padding: 32px
  - Min height: 200px
  - Display: flex, column, center, align-items center
  - Cursor: pointer
  - Transition: border-color 0.2s ease

- **Hover State**:
  - Border color: #2563EB (Primary)
  - Background: #F9FAFB (subtle highlight)

- **Drag Over State**:
  - Border color: #2563EB (Primary)
  - Background: #DBEAFE (Primary Light)
  - Border style: solid

- **Icon/Illustration**:
  - Size: 48px √ó 48px
  - Color: #9CA3AF (Gray 400)
  - Margin-bottom: 12px

- **Text**:
  - Primary: "Click to upload or drag and drop"
  - Font: Body, Text Primary
  - Margin-bottom: 4px

- **Subtext**:
  - "JPG, PNG, WebP (max 10MB)"
  - Font: Small, Text Secondary

- **File Input**:
  - Hidden (display: none)
  - Triggered by container click

#### Selected Image Preview (Preset/Selfie)
- **Container**:
  - Position: relative
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6 (Gray 100)
  - Min height: 300px
  - Max height: 400px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Border: 2px solid #E5E7EB
  - Margin-top: 16px

- **Image**:
  - Width: 100%
  - Height: 100%
  - Max height: 400px
  - Object-fit: contain (show full image without cropping)
  - Display: block

- **Label**:
  - Position: absolute, top-left
  - Background: rgba(0, 0, 0, 0.7)
  - Color: #FFFFFF
  - Padding: 8px 12px
  - Border-radius: 0 0 8px 0
  - Font: Small, 600 weight
  - Text: "Selected Preset" or "Selected Selfie"

- **Delete Button**:
  - Position: absolute, top-right corner
  - Size: 36px √ó 36px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: √ó (close/delete, 20px, white)
  - Z-index: 10
  - Transition: background-color 0.2s ease, transform 0.2s ease
  - Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)
  - Click: Show confirmation dialog before deletion

#### Result Image Display
- **Container**:
  - Background: #F9FAFB (Surface)
  - Border: 2px solid #E5E7EB
  - Border radius: 8px
  - Min height: 600px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Position: relative
  - Grid-row: span 2 (spans both preset and selfie rows)

- **Image** (when result exists):
  - Max width: 100%
  - Max height: 100%
  - Object-fit: contain (show full image)
  - Border radius: 8px

- **Empty State**:
  - Text: "Result will appear here"
  - Font: Body, Text Secondary
  - Icon: 64px √ó 64px, Gray 300
  - Centered vertically and horizontally

#### Gallery Grid (Preset/Selfie Selection)
- **Container**:
  - Display: grid
  - Gap: 12px
  - Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))
  - Max columns: 3 on desktop (fits in left column)
  - Max height: 200px
  - Overflow-y: auto
  - Margin-top: 16px
  - Padding: 8px
  - Background: #F9FAFB
  - Border-radius: 8px

- **Gallery Item**:
  - Aspect ratio: 1:1 (square)
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6
  - Border: 2px solid transparent
  - Cursor: pointer
  - Transition: transform 0.2s ease, border-color 0.2s ease
  - Position: relative

- **Selected State**:
  - Border color: #2563EB (Primary)
  - Border width: 3px
  - Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)

- **Hover State**:
  - Transform: scale(1.02)
  - Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)

- **Image**:
  - Width: 100%
  - Height: 100%
  - Object-fit: cover
  - Display: block

- **Delete Button** (Gallery Item):
  - Position: absolute, top-right corner
  - Size: 24px √ó 24px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: √ó (close/delete, 14px, white)
  - Z-index: 10
  - Opacity: 0 (hidden by default)
  - Transition: opacity 0.2s ease, background-color 0.2s ease
  - Hover (on gallery item): Opacity: 1
  - Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)
  - Click: Show confirmation dialog, prevent event propagation (don't select item)

#### Buttons

##### Primary Button (Generate)
- **Default**:
  - Background: #2563EB (Primary)
  - Color: #FFFFFF
  - Padding: 12px 24px
  - Border: none
  - Border radius: 6px
  - Font: Body, 600 weight
  - Width: 100% (on mobile), auto (on desktop)
  - Min width: 200px
  - Cursor: pointer
  - Transition: background-color 0.2s ease

- **Hover**:
  - Background: #1D4ED8 (Primary Hover)

- **Disabled**:
  - Background: #D1D5DB (Gray 300)
  - Color: #9CA3AF (Gray 400)
  - Cursor: not-allowed

- **Loading**:
  - Show spinner icon (16px) + text
  - Disable interaction

##### Secondary Button (Reset/Clear)
- Background: transparent
- Color: #6B7280 (Text Secondary)
- Border: 1px solid #E5E7EB
- Same padding and sizing as primary
- Hover: Background #F9FAFB

#### Status Messages
- **Container**:
  - Padding: 12px 16px
  - Border radius: 6px
  - Margin: 8px 0
  - Font: Small
  - Display: flex
  - Align-items: center
  - Gap: 8px

- **Success**:
  - Background: #D1FAE5 (Green 100)
  - Color: #065F46 (Green 800)
  - Icon: ‚úì (checkmark)

- **Error**:
  - Background: #FEE2E2 (Red 100)
  - Color: #991B1B (Red 800)
  - Icon: ‚úï (cross)

- **Info**:
  - Background: #DBEAFE (Blue 100)
  - Color: #1E40AF (Blue 800)
  - Icon: ‚Ñπ (info)

#### Loading Spinner
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 9999

- **Spinner Container**:
  - Background: #FFFFFF
  - Padding: 32px
  - Border radius: 8px
  - Text-align: center
  - Min-width: 200px

- **Spinner**:
  - Size: 40px √ó 40px
  - Border: 3px solid #E5E7EB
  - Border-top: 3px solid #2563EB
  - Border radius: 50%
  - Animation: spin 0.8s linear infinite
  - Margin: 0 auto 16px

- **Text**:
  - Font: Body, Text Primary
  - Margin-top: 12px

#### Confirmation Dialog
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 10000

- **Dialog Container**:
  - Background: #FFFFFF
  - Padding: 24px
  - Border radius: 8px
  - Min-width: 320px
  - Max-width: 400px
  - Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)

- **Title**:
  - Font: H2 (20px, 600 weight)
  - Color: Text Primary
  - Margin-bottom: 12px

- **Message**:
  - Font: Body (16px)
  - Color: Text Secondary
  - Margin-bottom: 24px
  - Line-height: 1.5

- **Button Container**:
  - Display: flex
  - Gap: 12px
  - Justify-content: flex-end

- **Cancel Button**:
  - Background: transparent
  - Color: Text Secondary
  - Border: 1px solid #E5E7EB
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #F9FAFB

- **Confirm Button** (Delete):
  - Background: #EF4444 (Red 500)
  - Color: #FFFFFF
  - Border: none
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #DC2626 (Red 600)

### User Flow

#### Primary Flow: Generate Face Swap
1. **Select/Upload Preset** (left column, top)
   - Option A: Upload new preset
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." ‚Üí "Uploaded" or "Already exists"
     - Gallery refreshes to show new preset
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected preset shows in large preview area
     - Visual feedback: Selected border on thumbnail

2. **Select/Upload Selfie** (left column, bottom)
   - Option A: Upload new selfie
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." ‚Üí "Uploaded" or "Already exists"
     - Gallery refreshes to show new selfie
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected selfie shows in large preview area
     - Visual feedback: Selected border on thumbnail

3. **Generate Button Enabled**
   - Visual feedback: Button changes from disabled to active
   - Both large previews visible in left column
   - Right column shows empty state

4. **Click Generate**
   - Loading overlay appears
   - Button disabled
   - Status: "Processing face swap..."

5. **Result Display**
   - Loading overlay disappears
   - Result image appears in large right column (spans both rows)
   - Success message: "Face swap completed"
   - Result added to history gallery below

### Responsive Design

#### Breakpoints
- **Mobile**: < 768px
  - Single column layout (stack preset, selfie, result vertically)
  - Full-width buttons
  - 2-column gallery grid for presets/selfies
  - Reduced padding (16px)
  - Result image: Full width, normal height

- **Tablet**: 768px - 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Standard padding (24px)
  - Result image: Spans both rows

- **Desktop**: > 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Max-width container (1200px)
  - Result image: Large display, spans both rows

### Accessibility

#### Keyboard Navigation
- All interactive elements must be keyboard accessible
- Tab order: Upload areas ‚Üí Gallery items ‚Üí Generate button ‚Üí Results
- Enter/Space to activate buttons and select items
- Focus indicators: 2px solid outline in Primary color

#### Screen Readers
- All images must have alt text
- Buttons must have descriptive labels
- Status messages must be announced
- Loading states must be announced

#### Visual Accessibility
- Color contrast: Minimum 4.5:1 for text
- Focus indicators: Clear and visible
- Error states: Use icons + text, not just color
- Touch targets: Minimum 44px √ó 44px

### Performance Considerations
- Lazy load gallery images (use loading="lazy")
- Optimize images before upload (client-side compression if possible)
- Show skeleton loaders while fetching data
- Debounce search/filter inputs if added later
- Cache gallery images in browser

### Error States

#### Upload Errors
- Network error: "Upload failed. Please check your connection and try again."
- File too large: "File exceeds 10MB limit. Please choose a smaller file."
- Invalid format: "Invalid file type. Please upload JPG, PNG, or WebP."
- Duplicate: "This image already exists. Using existing version."

#### Generation Errors
- API error: "Face swap failed. Please try again."
- Timeout: "Request timed out. Please try again."
- Invalid images: "Could not process images. Please ensure both images contain faces."

### Empty States
- **No Presets Gallery**: "No presets yet. Upload your first preset above."
- **No Selfies Gallery**: "No selfies yet. Upload your first selfie above."
- **No Results History**: "No results yet. Generate your first face swap to see it here."
- **Result Display Empty**: "Result will appear here"
- Use subtle illustration or icon (48px, Gray 300)
- Text: Small, Text Secondary, centered

## Backend API Endpoints


### Backend Database Schema
- \`presets\` table: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`thumbnail_r2_key\`, \`created_at\`
- \`selfies\` table: \`id\`, \`image_url\`, \`profile_id\`, \`created_at\`
- \`results\` table: \`id\`, \`preset_name\`, \`result_url\`, \`profile_id\`, \`created_at\`

**L∆∞u √Ω:**
- Metadata (type, sub_category, gender, position) ƒë∆∞·ª£c l∆∞u trong R2 bucket path, kh√¥ng l∆∞u trong database
- Thumbnails ƒë∆∞·ª£c l∆∞u trong c√πng row v·ªõi preset (same-row approach)

### Endpoints

#### GET \`/presets\`
- Returns: \`{ presets: [...] }\`
- Each preset contains: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`created_at\`
- Query params: \`include_thumbnails\` (optional, default: false) - bao g·ªìm presets c√≥ thumbnail
- Presets are stored as individual entries (no collections)
- Backend queries database and returns all presets

#### GET \`/selfies\`
- Returns: \`{ selfies: [...] }\`
- Each selfie contains: \`id\`, \`selfie_url\` (full URL), \`action\`, \`created_at\`
- Selfies are stored as individual entries
- Backend queries database and returns all selfies
- **L∆∞u √Ω**: \`selfie_url\` trong database ch·ªâ l∆∞u bucket key, API t·ª± ƒë·ªông assemble full URL t·ª´ \`R2_DOMAIN\` khi tr·∫£ v·ªÅ

#### DELETE \`/presets/:id\`
- Path parameter: \`id\` (preset ID)
- Backend logic:
  1. Find preset by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`presets\` table
  4. Return \`{ success: true, message: "Preset deleted" }\`
- Error handling: Return 404 if preset not found, 500 on deletion failure

#### DELETE \`/selfies/:id\`
- Path parameter: \`id\` (selfie ID)
- Backend logic:
  1. Find selfie by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`selfies\` table
  4. Return \`{ success: true, message: "Selfie deleted" }\`
- Error handling: Return 404 if selfie not found, 500 on deletion failure

#### POST \`/upload-url\`
- Content-Type: \`multipart/form-data\` ho·∫∑c \`application/json\`
- Body (multipart): \`files\` (file[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, ch·ªâ cho selfie)
- Body (JSON): \`image_url\` ho·∫∑c \`image_urls\` (string[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, ch·ªâ cho selfie)
- Backend logic:
  1. Upload file(s) to R2 storage
  2. V·ªõi selfie: 
     - **Ch·ªâ v·ªõi \`action="4k"\` ho·∫∑c \`action="4K"\`**: Ki·ªÉm tra an to√†n b·∫±ng Vision API tr∆∞·ªõc khi l∆∞u v√†o database
     - **C√°c action kh√°c (nh∆∞ \`"faceswap"\`, \`"wedding"\`, \`"default"\`, v.v.)**: Kh√¥ng ki·ªÉm tra Vision API
     - T·ª± ƒë·ªông x√≥a ·∫£nh c≈© d·ª±a tr√™n action:
       - \`action="faceswap"\`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh qua \`SELFIE_MAX_FACESWAP\`), x√≥a ·∫£nh c≈© nh·∫•t khi v∆∞·ª£t qu√° gi·ªõi h·∫°n
       - \`action="wedding"\`: T·ªëi ƒëa 2 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_WEDDING\`), x√≥a ·∫£nh c≈© nh·∫•t khi c√≥ >= 2 ·∫£nh
       - \`action="4k"\` ho·∫∑c \`"4K"\`: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_4K\`), x√≥a ·∫£nh c≈© khi c√≥ >= 1 ·∫£nh
       - Action kh√°c: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua \`SELFIE_MAX_OTHER\`), x√≥a ·∫£nh c≈© khi c√≥ >= 1 ·∫£nh
  3. Insert record(s) v√†o database (\`presets\` ho·∫∑c \`selfies\` table) v·ªõi bucket key (kh√¥ng ph·∫£i full URL)
  4. V·ªõi preset: t·ª± ƒë·ªông generate Vertex prompt n·∫øu \`enableVertexPrompt=true\`
- Response format: \`{ data: { results: [...], count, successful, failed }, status, message, code, debug? }\`
  - V·ªõi selfie: m·ªói result c√≥ th√™m field \`action\`
- H·ªó tr·ª£ upload nhi·ªÅu file c√πng l√∫c
- **L∆∞u √Ω**: \`selfie_url\` trong database ch·ªâ l∆∞u bucket key (v√≠ d·ª•: \`"selfie/filename.jpg"\`), API t·ª± ƒë·ªông assemble full URL khi tr·∫£ v·ªÅ

#### POST \`/faceswap\`
- Body:
  \`\`\`json
  {
    "preset_image_id": "preset_id_from_database",
    "selfie_id": "selfie_id_from_database",
    "profile_id": "user_profile_id"
  }
  \`\`\`
- Returns:
  \`\`\`json
  {
    "data": {
      "resultImageUrl": "result_url"
    },
    "status": "success",
    "message": "Processing successful",
    "code": 200,
    "debug": {}
  }
  \`\`\`

#### GET \`/results\`
- Returns: \`{ results: [...] }\`
- Each result contains: \`result_url\`, \`created_at\`

## Frontend Functionality

### Preset Section (Left Column, Top)
- **Upload Area**:
  - Single file input (one preset at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'preset'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and preset object
  - Show success/error status messages
  - Reload presets gallery after upload

- **Preset Gallery**:
  - Display below upload area in scrollable grid
  - Load presets from \`/presets\` endpoint on page load
  - Each preset card shows thumbnail image (square, 100px)
  - Click preset to select (visual feedback with selected state)
  - Selected preset shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No presets yet. Upload your first preset above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected preset preview (top-right corner, always visible)

- **Delete Preset**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this preset?"
    - If confirmed: Call \`DELETE /presets/:id\`
    - On success: Remove from gallery, clear selection if deleted preset was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload presets gallery after successful deletion

### Selfie Section (Left Column, Bottom)
- **Upload Area**:
  - Identical UI and functionality to Preset Upload
  - Single file input (one selfie at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'selfie'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and selfie object
  - Show success/error status messages
  - Reload selfies gallery after upload

- **Selfie Gallery**:
  - Display below upload area in scrollable grid
  - Load selfies from \`/selfies\` endpoint on page load
  - Each selfie card shows thumbnail image (square, 100px)
  - Click selfie to select (visual feedback with selected state)
  - Selected selfie shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No selfies yet. Upload your first selfie above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected selfie preview (top-right corner, always visible)

- **Delete Selfie**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this selfie?"
    - If confirmed: Call \`DELETE /selfies/:id\`
    - On success: Remove from gallery, clear selection if deleted selfie was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload selfies gallery after successful deletion

### Result Display (Right Column, Spans Both Rows)
- Large display area (min-height: 600px)
- Shows generated face swap result
- Empty state: "Result will appear here" with icon
- Result image: Max width/height 100%, object-fit: contain
- Updates automatically after successful generation

### Face Swap Generation
- Button positioned below main workspace grid
- Enabled when both preset and selfie are selected
- On click:
  - Show loading spinner overlay
  - Disable button
  - Call \`/faceswap\` with preset URL and selfie URL
  - Display result image in right column on success
  - Show error message on failure
  - Reload results history gallery after success

### Results Display
- Load results from \`/results\` on page load
- Display results in simple grid gallery
- Each result card shows image and date
- Date formatted as Vietnamese locale

## Data Structures

### Preset Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  prompt_json: object | null,
  thumbnail_url: string | null,
  thumbnail_format: 'webp' | 'lottie' | null,
  thumbnail_resolution: string | null,
  created_at: string
}
\`\`\`

### Selfie Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  created_at: string
}
\`\`\`

### Result Object
\`\`\`javascript
{
  result_url: string,
  created_at: string (ISO format)
}
\`\`\`

## State Variables
- \`selectedPreset\`: Currently selected preset object or null
- \`selectedSelfie\`: Currently selected selfie object or null
- \`presets\`: Array of all preset objects (loaded from \`/presets\`)
- \`selfies\`: Array of all selfie objects (loaded from \`/selfies\`)
- \`results\`: Array of all result objects (loaded from \`/results\`)

## UI Elements

### Preset Gallery
- Simple grid layout
- Each card: square aspect ratio, image only
- Selected state: border highlight

### Status Messages
- Success: Green color
- Error: Red color
- Loading: Spinner animation

## Image URL Handling
- Database stores the final accessible URL directly in \`image_url\` field
- Backend constructs the correct R2 URL (e.g., \`/r2/preset/filename.jpg\` or full URL with worker domain) when uploading
- Frontend uses \`image_url\` from database directly - no conversion needed
- URLs are ready to use as-is for display and API calls

## Error Handling
- Network errors: Show error message
- API errors: Display error message from response
- Image load errors: Show placeholder

## Initialization
- Load presets from \`/presets\` on page load
- Load selfies from \`/selfies\` on page load
- Load results from \`/results\` on page load
- Display loading placeholders while fetching
- Show empty states if no data available

`
    };
    
    // Embedded sidebar
    window.__staticSidebar = `* [üìö T·ªïng quan API](API_TONG_QUAN_VI.md)

* **1. Upload & Qu·∫£n l√Ω File**
  * [POST /upload-url (type=selfie) - Upload selfie](API_TONG_QUAN_VI.md#post-upload-url-typeselfie-upload-selfie)
  * [POST /upload-url (type=preset) - Upload preset (backend only)](API_TONG_QUAN_VI.md#post-upload-url-typepreset-upload-preset-backend-only)
  * [POST /upload-thumbnails - Upload thumbnails (backend only)](API_TONG_QUAN_VI.md#post-upload-thumbnails-upload-thumbnails-backend-only)
* **2. AI Processing**
  * [POST /faceswap - Face Swap](API_TONG_QUAN_VI.md#post-faceswap-face-swap)
  * [POST /background - AI Background](API_TONG_QUAN_VI.md#post-background-ai-background)
  * [POST /enhance - AI Enhance](API_TONG_QUAN_VI.md#post-enhance-ai-enhance)
  * [POST /beauty - AI Beauty](API_TONG_QUAN_VI.md#post-beauty-ai-beauty)
  * [POST /filter - AI Filter (Styles)](API_TONG_QUAN_VI.md#post-filter-ai-filter-styles)
  * [POST /restore - AI Restore](API_TONG_QUAN_VI.md#post-restore-ai-restore)
  * [POST /aging - AI Aging](API_TONG_QUAN_VI.md#post-aging-ai-aging)
  * [POST /upscaler4k - AI Upscale 4K](API_TONG_QUAN_VI.md#post-upscaler4k-ai-upscale-4k)
* **3. Qu·∫£n l√Ω Profile**
  * [POST /profiles - T·∫°o profile](API_TONG_QUAN_VI.md#post-profiles-to-profile)
  * [GET /profiles/{id} - L·∫•y profile](API_TONG_QUAN_VI.md#get-profilesid-ly-profile)
  * [PUT /profiles/{id} - C·∫≠p nh·∫≠t profile](API_TONG_QUAN_VI.md#put-profilesid-cp-nht-profile)
  * [GET /profiles - Li·ªát k√™ profiles](API_TONG_QUAN_VI.md#get-profiles-lit-k-profiles)
* **4. Truy v·∫•n D·ªØ li·ªáu**
  * [GET /presets - Li·ªát k√™ presets](API_TONG_QUAN_VI.md#get-presets-lit-k-presets)
  * [GET /presets/{id} - L·∫•y preset theo ID](API_TONG_QUAN_VI.md#get-presetsid-ly-preset-theo-id)
  * [DELETE /presets/{id} - X√≥a preset](API_TONG_QUAN_VI.md#delete-presetsid-xa-preset)
  * [GET /selfies - Li·ªát k√™ selfies](API_TONG_QUAN_VI.md#get-selfies-lit-k-selfies)
  * [DELETE /selfies/{id} - X√≥a selfie](API_TONG_QUAN_VI.md#delete-selfiesid-xa-selfie)
  * [GET /results - Li·ªát k√™ results](API_TONG_QUAN_VI.md#get-results-lit-k-results)
  * [DELETE /results/{id} - X√≥a result](API_TONG_QUAN_VI.md#delete-resultsid-xa-result)
  * [GET /thumbnails - Li·ªát k√™ thumbnails](API_TONG_QUAN_VI.md#get-thumbnails-lit-k-thumbnails)
  * [GET /thumbnails/{id}/preset - L·∫•y preset_id t·ª´ thumbnail_id](API_TONG_QUAN_VI.md#get-thumbnailsidpreset-ly-preset_id-t-thumbnail_id)
  * [Thumbnail URL Rules - Quy t·∫Øc URL Thumbnail](API_TONG_QUAN_VI.md#thumbnail-url-rules-quy-tc-url-thumbnail)
* **5. H·ªá th·ªëng & C·∫•u h√¨nh**
  * [GET /config - L·∫•y config](API_TONG_QUAN_VI.md#get-config-ly-config)
  * [OPTIONS /* - CORS preflight requests](API_TONG_QUAN_VI.md#options-cors-preflight-requests)`;
    
    // Pre-generated search index
    window.__staticSearchIndex = [{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"# T·ªïng quan API Face Swap AI","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"T√†i li·ªáu n√†y m√¥ t·∫£ ƒë·∫ßy ƒë·ªß c√°c ƒëi·ªÉm cu·ªëi (endpoint) m√† Cloudflare Worker cung c·∫•p.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Base URL:** `https://api.d.shotpix.app`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - M·ª•c l·ª•c","heading":"M·ª•c l·ª•c","text":"## M·ª•c l·ª•c","url":"#/API_TONG_QUAN_VI.md?id=mc-lc","level":2},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [X√°c th·ª±c API](#x√°c-th·ª±c-api-api-authentication)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile](#apis-c·∫ßn-t√≠ch-h·ª£p-v·ªõi-mobile-15-apis)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [API Endpoints (Chi ti·∫øt)](#api-endpoints-chi-ti·∫øt)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [1. Upload & Qu·∫£n l√Ω File](#1-upload--qu·∫£n-l√Ω-file)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [2. AI Processing](#2-ai-processing)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [3. Qu·∫£n l√Ω Profile](#3-qu·∫£n-l√Ω-profile)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [4. Truy v·∫•n D·ªØ li·ªáu](#4-truy-v·∫•n-d·ªØ-li·ªáu)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [5. H·ªá th·ªëng & C·∫•u h√¨nh](#5-h·ªá-th·ªëng--c·∫•u-h√¨nh)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- [T·ªïng k·∫øt](#t·ªïng-k·∫øt)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - X√°c th·ª±c API (API Authentication)","heading":"X√°c th·ª±c API (API Authentication)","text":"## X√°c th·ª±c API (API Authentication)","url":"#/API_TONG_QUAN_VI.md?id=xc-thc-api-api-authentication","level":2},{"title":"T·ªïng quan API Face Swap AI - Mobile API Key Authentication","heading":"Mobile API Key Authentication","text":"### Mobile API Key Authentication","url":"#/API_TONG_QUAN_VI.md?id=mobile-api-key-authentication","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"H·ªá th·ªëng h·ªó tr·ª£ x√°c th·ª±c b·∫±ng API key cho c√°c mobile APIs. T√≠nh nƒÉng n√†y c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t/t·∫Øt th√¥ng qua bi·∫øn m√¥i tr∆∞·ªùng `ENABLE_MOBILE_API_KEY_AUTH`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Khi b·∫≠t (`ENABLE_MOBILE_API_KEY_AUTH=true`):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√°c mobile APIs ƒë∆∞·ª£c b·∫£o v·ªá y√™u c·∫ßu API key trong request header","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- API key c√≥ th·ªÉ ƒë∆∞·ª£c g·ª≠i qua:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Header `X-API-Key`: `X-API-Key: your_api_key_here`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Header `Authorization`: `Authorization: Bearer your_api_key_here`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**C√°c endpoints ƒë∆∞·ª£c b·∫£o v·ªá (khi authentication ƒë∆∞·ª£c b·∫≠t):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/upload-url` (type=selfie) - Ch·ªâ khi upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/faceswap`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/background`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/enhance`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/beauty`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/filter`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/restore`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/aging`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/upscaler4k`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/profiles` - Ch·ªâ khi t·∫°o profile m·ªõi","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- GET `/profiles/{id}` - Ch·ªâ khi l·∫•y profile theo ID","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- DELETE `/results/{id}` - X√≥a result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/upload-url` (type=preset) kh√¥ng y√™u c·∫ßu API key (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√°c endpoints kh√°c kh√¥ng n·∫±m trong danh s√°ch tr√™n kh√¥ng y√™u c·∫ßu API key","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Silent Push Notifications (FCM)","heading":"Silent Push Notifications (FCM)","text":"## Silent Push Notifications (FCM)","url":"#/API_TONG_QUAN_VI.md?id=silent-push-notifications-fcm","level":2},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"H·ªá th·ªëng h·ªó tr·ª£ g·ª≠i silent push notifications (kh√¥ng hi·ªÉn th·ªã notification bar) cho Web, Android, v√† iOS th√¥ng qua Firebase Cloud Messaging (FCM).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - ƒê·∫∑c ƒêi·ªÉm","heading":"ƒê·∫∑c ƒêi·ªÉm","text":"### ƒê·∫∑c ƒêi·ªÉm","url":"#/API_TONG_QUAN_VI.md?id=c-im","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Silent Push:** Kh√¥ng hi·ªÉn th·ªã notification bar, app x·ª≠ l√Ω data trong background","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Multi-Device:** M·ªôt profile c√≥ th·ªÉ c√≥ nhi·ªÅu devices (phone, tablet, web)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Auto-Cleanup:** T·ª± ƒë·ªông x√≥a invalid tokens (app uninstall, token expired)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Profile-Based:** Push g·ª≠i ƒë·∫øn t·∫•t c·∫£ devices c·ªßa m·ªôt profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **High Performance:** OAuth tokens ƒë∆∞·ª£c cache trong KV (55 ph√∫t)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Endpoints","heading":"Endpoints","text":"### Endpoints","url":"#/API_TONG_QUAN_VI.md?id=endpoints","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 1. ƒêƒÉng K√Ω Device (POST /api/device/register)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**URL:** `POST /api/device/register`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Auth:** None (public endpoint)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Body:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"platform\": \"android\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"token\": \"fcm-device-token-here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"app_version\": \"1.0.0\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Fields:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID c·ªßa profile (t·ª´ `/profiles`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `platform` (string, required): `android`, `ios`, ho·∫∑c `web`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `token` (string, required): FCM device token","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `app_version` (string, optional): Version c·ªßa app","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response Success (200):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": { \"registered\": true },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Errors:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `400`: Missing fields ho·∫∑c invalid platform","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `404`: Profile kh√¥ng t·ªìn t·∫°i","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `500`: Database error","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/api/device/register \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"platform\": \"web\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"token\": \"fcm-web-token-xyz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"app_version\": \"1.0.0\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2. G·ª≠i Silent Push (POST /api/push/silent)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**URL:** `POST /api/push/silent`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Auth:** Requires `X-API-Key` header (MOBILE_API_KEY t·ª´ deployments-secrets.json)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Body:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"operation_complete\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"operation\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"result_id\": \"result_xyz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"exclude_token\": \"current-device-fcm-token\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Fields:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID c·ªßa profile nh·∫≠n push","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `data` (object, required): Custom data payload (t·∫•t c·∫£ values ph·∫£i l√† string)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `exclude_token` (string, optional): Token c·ªßa device hi·ªán t·∫°i, s·∫Ω kh√¥ng g·ª≠i push cho device n√†y","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response Success (200):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"failed\": 0,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"cleaned\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"{ \"token\": \"token1\", \"platform\": \"android\", \"success\": true },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"{ \"token\": \"token2\", \"platform\": \"ios\", \"success\": true }","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response Fields:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `sent`: S·ªë devices nh·∫≠n push th√†nh c√¥ng","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `failed`: S·ªë devices th·∫•t b·∫°i","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `cleaned`: S·ªë tokens invalid ƒë√£ x√≥a kh·ªèi database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Errors:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `401`: Invalid API key","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `400`: Missing fields","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `500`: FCM error ho·∫∑c database error","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/api/push/silent \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your-mobile-api-key-here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"balance_sync\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"amount\": \"100\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"timestamp\": \"1706900000\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 3. H·ªßy ƒêƒÉng K√Ω Device (DELETE /api/device/unregister)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**URL:** `DELETE /api/device/unregister`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Auth:** None (public endpoint)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Body:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"token\": \"fcm-device-token-to-remove\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response Success (200):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": { \"unregistered\": true },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X DELETE https://api.d.shotpix.app/api/device/unregister \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"token\": \"fcm-device-token-xyz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Auto-Push Sau M·ªói Operation","heading":"Auto-Push Sau M·ªói Operation","text":"### Auto-Push Sau M·ªói Operation","url":"#/API_TONG_QUAN_VI.md?id=auto-push-sau-mi-operation","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T·∫•t c·∫£ API operations s·∫Ω t·ª± ƒë·ªông g·ª≠i silent push sau khi ho√†n th√†nh:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `/faceswap` ‚Üí Push v·ªõi `type: \"operation_complete\", operation: \"faceswap\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `/beauty` ‚Üí Push v·ªõi `type: \"operation_complete\", operation: \"beauty\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `/filter` ‚Üí Push v·ªõi `type: \"operation_complete\", operation: \"filter\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `/upscaler4k` ‚Üí Push v·ªõi `type: \"operation_complete\", operation: \"upscale\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `/background` ‚Üí Push v·ªõi `type: \"operation_complete\", operation: \"background\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Push Data Structure:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"operation_complete\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"operation\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"result_id\": \"result_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"timestamp\": \"1706900000\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**N·∫øu operation th·∫•t b·∫°i:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"operation_complete\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"operation\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"error\": \"Error message here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"timestamp\": \"1706900000\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Test UI","heading":"Test UI","text":"### Test UI","url":"#/API_TONG_QUAN_VI.md?id=test-ui","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**URL:** `https://your-domain.com/fcm-test.html`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Test UI cung c·∫•p:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ‚úÖ ƒêƒÉng k√Ω FCM token (Web)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- üì§ G·ª≠i test push","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- üìù View logs realtime","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ‚ùå H·ªßy ƒëƒÉng k√Ω device","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Mobile/Web Integration","heading":"Mobile/Web Integration","text":"### Mobile/Web Integration","url":"#/API_TONG_QUAN_VI.md?id=mobileweb-integration","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Docs ƒë·∫ßy ƒë·ªß:** [FCM_SETUP_VI.md](./FCM_SETUP_VI.md) v√† [FCM_QUICK_SETUP.md](./FCM_QUICK_SETUP.md)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Web (Firebase SDK):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"import { initializeApp } from 'firebase/app';","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"import { getMessaging, getToken, onMessage } from 'firebase/messaging';","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"const app = initializeApp(firebaseConfig);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"const messaging = getMessaging(app);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Get token","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"const token = await getToken(messaging, { vapidKey: 'YOUR_VAPID_KEY' });","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Register with backend","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"await fetch('/api/device/register', {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"method: 'POST',","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"headers: { 'Content-Type': 'application/json' },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"body: JSON.stringify({","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"profile_id: userProfileId,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"platform: 'web',","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"token: token","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Listen for foreground messages","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"onMessage(messaging, (payload) => {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"console.log('Received:', payload.data);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Handle data (refresh UI, update balance, etc.)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Android (Kotlin):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Register on app startup","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"FirebaseMessaging.getInstance().token.addOnCompleteListener { task ->","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"if (task.isSuccessful) {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ApiService.registerDevice(","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"profileId = UserSession.getProfileId(),","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"platform = \"android\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"token = task.result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Handle data-only message","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"class MyFirebaseMessagingService : FirebaseMessagingService() {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"override fun onMessageReceived(message: RemoteMessage) {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"val data = message.data","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"when (data[\"type\"]) {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"operation_complete\" -> handleOperationComplete(data)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"balance_sync\" -> BalanceRepository.updateBalance(data[\"amount\"])","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**iOS (Swift):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Register on app startup","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Messaging.messaging().token { token, error in","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"guard let token = token else { return }","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ApiService.registerDevice(","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"profileId: UserSession.shared.profileId,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"platform: \"ios\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"token: token","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"// Handle silent push","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"func application(_ application: UIApplication,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"didReceiveRemoteNotification userInfo: [AnyHashable: Any],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"fetchCompletionHandler completionHandler: @escaping (UIBackgroundFetchResult) -> Void) {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"let type = userInfo[\"type\"] as? String","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"switch type {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"case \"operation_complete\":","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"handleOperationComplete(userInfo)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"completionHandler(.newData)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"completionHandler(.noData)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T·∫°o API Key:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"S·ª≠ d·ª•ng script `generate-api-key.js` ƒë·ªÉ t·∫°o API key m·ªõi:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"node backend-cloudflare-workers/generate-api-key.js","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Script s·∫Ω t·∫°o m·ªôt API key ng·∫´u nhi√™n 32 bytes (256 bits) v√† hi·ªÉn th·ªã h∆∞·ªõng d·∫´n th√™m v√†o `deployments-secrets.json`:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"MOBILE_API_KEY\": \"your_generated_key_here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"ENABLE_MOBILE_API_KEY_AUTH\": \"true\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• request v·ªõi API key:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Ho·∫∑c s·ª≠ d·ª•ng Authorization header:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Authorization: Bearer your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Response (401 Unauthorized):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Khi API key kh√¥ng h·ª£p l·ªá ho·∫∑c thi·∫øu:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Unauthorized\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 401","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","heading":"APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","text":"## APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-cn-tch-hp-vi-mobile-15-apis","level":2},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T·ªïng s·ªë API endpoints: 26**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","heading":"APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","text":"### APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile (15 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-cn-tch-hp-vi-mobile-15-apis","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"1. POST `/upload-url` (type=selfie) - Upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"2. POST `/faceswap` - ƒê·ªïi m·∫∑t (Face Swap) - lu√¥n d√πng Vertex AI, h·ªó tr·ª£ multiple selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"3. POST `/background` - T·∫°o n·ªÅn AI (AI Background)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"4. POST `/enhance` - AI enhance ·∫£nh (c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng k·ªπ thu·∫≠t)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"5. POST `/beauty` - AI beautify ·∫£nh (c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"6. POST `/filter` - AI Filter (Styles) - √Åp d·ª•ng style t·ª´ preset l√™n selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"7. POST `/restore` - AI kh√¥i ph·ª•c v√† n√¢ng c·∫•p ·∫£nh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"8. POST `/aging` - AI l√£o h√≥a khu√¥n m·∫∑t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"9. POST `/upscaler4k` - AI upscale ·∫£nh l√™n 4K","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"10. POST `/profiles` - T·∫°o profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"11. GET `/profiles/{id}` - L·∫•y profile (h·ªó tr·ª£ c·∫£ Profile ID v√† Device ID)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"12. PUT `/profiles/{id}` - C·∫≠p nh·∫≠t profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"13. GET `/selfies` - Li·ªát k√™ selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"14. GET `/results` - Li·ªát k√™ results (generated images)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"15. DELETE `/results/{id}` - X√≥a result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - APIs kh√¥ng c·∫ßn t√≠ch h·ª£p v·ªõi mobile (11 APIs)","heading":"APIs kh√¥ng c·∫ßn t√≠ch h·ª£p v·ªõi mobile (11 APIs)","text":"### APIs kh√¥ng c·∫ßn t√≠ch h·ª£p v·ªõi mobile (11 APIs)","url":"#/API_TONG_QUAN_VI.md?id=apis-khng-cn-tch-hp-vi-mobile-11-apis","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"16. GET `/profiles` - Li·ªát k√™ profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"17. POST `/upload-url` (type=preset) - Upload preset (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"18. GET `/presets` - Li·ªát k√™ presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"19. GET `/presets/{id}` - L·∫•y preset theo ID (bao g·ªìm prompt_json)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"20. DELETE `/presets/{id}` - X√≥a preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"21. DELETE `/selfies/{id}` - X√≥a selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"22. POST `/upload-thumbnails` - T·∫£i l√™n thumbnails v√† presets (batch)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"23. GET `/thumbnails` - Li·ªát k√™ thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"24. GET `/thumbnails/{id}/preset` - L·∫•y preset_id t·ª´ thumbnail_id","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"25. GET `/config` - L·∫•y config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"26. OPTIONS `/*` - CORS preflight requests","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Error Codes Reference","heading":"Error Codes Reference","text":"## Error Codes Reference","url":"#/API_TONG_QUAN_VI.md?id=error-codes-reference","level":2},{"title":"T·ªïng quan API Face Swap AI - Vision API Safety Error Codes (1001-1005)","heading":"Vision API Safety Error Codes (1001-1005)","text":"### Vision API Safety Error Codes (1001-1005)","url":"#/API_TONG_QUAN_VI.md?id=vision-api-safety-error-codes-1001-1005","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"C√°c error codes n√†y ƒë∆∞·ª£c tr·∫£ v·ªÅ khi Google Vision API SafeSearch ph√°t hi·ªán n·ªôi dung kh√¥ng ph√π h·ª£p trong ·∫£nh. ƒê∆∞·ª£c s·ª≠ d·ª•ng cho:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/upload-url` (type=selfie, action=\"4k\" ho·∫∑c \"4K\") - Ki·ªÉm tra ·∫£nh selfie tr∆∞·ªõc khi l∆∞u","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### T√¨m ki·∫øm An to√†n (Safe Search)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"T·∫≠p h·ª£p c√°c ƒë·∫∑c ƒëi·ªÉm li√™n quan ƒë·∫øn h√¨nh ·∫£nh, ƒë∆∞·ª£c t√≠nh to√°n b·∫±ng c√°c ph∆∞∆°ng ph√°p th·ªã gi√°c m√°y t√≠nh tr√™n c√°c lƒ©nh v·ª±c t√¨m ki·∫øm an to√†n (v√≠ d·ª•: ng∆∞·ªùi l·ªõ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**C√°c tr∆∞·ªùng (Fields):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **adult** (Likelihood): Th·ªÉ hi·ªán kh·∫£ nƒÉng n·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c·ªßa h√¨nh ·∫£nh. N·ªôi dung d√†nh cho ng∆∞·ªùi l·ªõn c√≥ th·ªÉ bao g·ªìm c√°c y·∫øu t·ªë nh∆∞ kh·ªèa t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **spoof** (Likelihood): X√°c su·∫•t ch·∫ø gi·ªÖu. X√°c su·∫•t x·∫£y ra vi·ªác ch·ªânh s·ª≠a phi√™n b·∫£n g·ªëc c·ªßa h√¨nh ·∫£nh ƒë·ªÉ l√†m cho n√≥ tr√¥ng h√†i h∆∞·ªõc ho·∫∑c ph·∫£n c·∫£m.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **medical** (Likelihood): R·∫•t c√≥ th·ªÉ ƒë√¢y l√† h√¨nh ·∫£nh y t·∫ø.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **violence** (Likelihood): H√¨nh ·∫£nh n√†y c√≥ kh·∫£ nƒÉng ch·ª©a n·ªôi dung b·∫°o l·ª±c. N·ªôi dung b·∫°o l·ª±c c√≥ th·ªÉ bao g·ªìm c√°i ch·∫øt, th∆∞∆°ng t√≠ch nghi√™m tr·ªçng ho·∫∑c t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **racy** (Likelihood): Kh·∫£ nƒÉng cao h√¨nh ·∫£nh ƒë∆∞·ª£c y√™u c·∫ßu ch·ª©a n·ªôi dung khi√™u d√¢m. N·ªôi dung khi√™u d√¢m c√≥ th·ªÉ bao g·ªìm (nh∆∞ng kh√¥ng gi·ªõi h·∫°n) qu·∫ßn √°o ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### Severity Levels (ƒê·ªô nghi√™m tr·ªçng)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Google Vision API SafeSearch tr·∫£ v·ªÅ m·ª©c ƒë·ªô nghi√™m tr·ªçng cho m·ªói field (adult, violence, racy, medical, spoof). App ki·ªÉm tra **t·∫•t c·∫£ c√°c fields** v√† s","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**C√°ch ho·∫°t ƒë·ªông:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- App ki·ªÉm tra t·∫•t c·∫£ 5 fields: `adult`, `violence`, `racy`, `medical`, `spoof`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N·∫øu **b·∫•t k·ª≥ field n√†o** c√≥ level l√† `POSSIBLE`, `LIKELY`, ho·∫∑c `VERY_LIKELY` ‚Üí ·∫¢nh b·ªã ch·∫∑n","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `statusCode` (1001-1005) ƒë∆∞·ª£c tr·∫£ v·ªÅ d·ª±a tr√™n field c√≥ **m·ª©c ƒë·ªô cao nh·∫•t** (worst violation)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Error code mapping: `adult`=1001, `violence`=1002, `racy`=1003, `medical`=1004, `spoof`=1005","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• 1 - ·∫¢nh b·ªã ch·∫∑n:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"adult\": \"VERY_UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"violence\": \"POSSIBLE\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"racy\": \"UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"medical\": \"VERY_UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"spoof\": \"VERY_UNLIKELY\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚Üí **K·∫øt qu·∫£:** B·ªã ch·∫∑n v√¨ `violence` c√≥ level `POSSIBLE`. Tr·∫£ v·ªÅ `code: 1002` (violence).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• 2 - ·∫¢nh b·ªã ch·∫∑n (nhi·ªÅu violations):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"adult\": \"LIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"violence\": \"POSSIBLE\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"racy\": \"VERY_LIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"medical\": \"UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"spoof\": \"VERY_UNLIKELY\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚Üí **K·∫øt qu·∫£:** B·ªã ch·∫∑n. `racy` c√≥ level cao nh·∫•t (`VERY_LIKELY`), n√™n tr·∫£ v·ªÅ `code: 1003` (racy).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• 3 - ·∫¢nh ƒë∆∞·ª£c ph√©p:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"adult\": \"VERY_UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"violence\": \"UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"racy\": \"VERY_UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"medical\": \"UNLIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"spoof\": \"VERY_UNLIKELY\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚Üí **K·∫øt qu·∫£:** ƒê∆∞·ª£c ph√©p v√¨ t·∫•t c·∫£ fields ƒë·ªÅu l√† `VERY_UNLIKELY` ho·∫∑c `UNLIKELY`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• Response khi b·ªã ch·∫∑n:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Upload failed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 1001","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - Vertex AI Safety Error Codes (2001-2004)","heading":"Vertex AI Safety Error Codes (2001-2004)","text":"### Vertex AI Safety Error Codes (2001-2004)","url":"#/API_TONG_QUAN_VI.md?id=vertex-ai-safety-error-codes-2001-2004","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"C√°c error codes n√†y ƒë∆∞·ª£c tr·∫£ v·ªÅ khi Vertex AI Gemini safety filters ch·∫∑n generated image. ƒê∆∞·ª£c s·ª≠ d·ª•ng cho:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/faceswap` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/background` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/enhance` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/beauty` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/filter` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/restore` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- POST `/aging` - Khi Vertex AI ch·∫∑n generated image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### C√°c lo·∫°i t√°c h·∫°i","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"B·ªô l·ªçc n·ªôi dung ƒë√°nh gi√° n·ªôi dung d·ª±a tr√™n c√°c lo·∫°i t√°c h·∫°i sau:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### So s√°nh ƒëi·ªÉm x√°c su·∫•t v√† ƒëi·ªÉm m·ª©c ƒë·ªô nghi√™m tr·ªçng (Probability Scores and Severity Scores)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ƒêi·ªÉm an to√†n x√°c su·∫•t ph·∫£n √°nh kh·∫£ nƒÉng ph·∫£n h·ªìi c·ªßa m√¥ h√¨nh c√≥ li√™n quan ƒë·∫øn t√°c h·∫°i t∆∞∆°ng ·ª©ng. N√≥ c√≥ m·ªôt ƒëi·ªÉm tin c·∫≠y t∆∞∆°ng ·ª©ng n·∫±m trong kho·∫£ng t·ª´ ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ƒêi·ªÉm tin c·∫≠y ƒë∆∞·ª£c chia th√†nh b·ªën m·ª©c ƒë·ªô tin c·∫≠y:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### Safety Threshold Configuration","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**C·∫•u h√¨nh hi·ªán t·∫°i:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ‚úÖ **Cho ph√©p**: `NEGLIGIBLE`, `LOW`, `MEDIUM`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ‚ùå **Ch·∫∑n**: `HIGH` only","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**√Åp d·ª•ng cho t·∫•t c·∫£ c√°c lo·∫°i t√°c h·∫°i:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- HARM_CATEGORY_HATE_SPEECH (L·ªùi l·∫Ω k√≠ch ƒë·ªông th√π h·∫≠n)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- HARM_CATEGORY_HARASSMENT (Qu·∫•y r·ªëi)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- HARM_CATEGORY_SEXUALLY_EXPLICIT (N·ªôi dung khi√™u d√¢m)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- HARM_CATEGORY_DANGEROUS_CONTENT (N·ªôi dung nguy hi·ªÉm)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- App ch·ªâ ch·∫∑n n·ªôi dung khi ph√°t hi·ªán vi ph·∫°m v·ªõi `HIGH` confidence level","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N·ªôi dung v·ªõi `NEGLIGIBLE`, `LOW`, ho·∫∑c `MEDIUM` confidence level ƒë·ªÅu ƒë∆∞·ª£c cho ph√©p","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Safety violations tr·∫£ v·ªÅ HTTP 422 v·ªõi internal error codes 2001-2004 trong tr∆∞·ªùng `code`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Message tr·∫£ v·ªÅ t·ª´ Vertex AI API response (c√≥ th·ªÉ l√† finishMessage, refusalText, ho·∫∑c generic message)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V√≠ d·ª• Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing failed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 2003","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - HTTP Status Codes","heading":"HTTP Status Codes","text":"### HTTP Status Codes","url":"#/API_TONG_QUAN_VI.md?id=http-status-codes","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Ngo√†i c√°c error codes tr√™n, API c≈©ng tr·∫£ v·ªÅ c√°c HTTP status codes chu·∫©n:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Error codes 1001-1005 v√† 2001-2004 ƒë∆∞·ª£c tr·∫£ v·ªÅ trong tr∆∞·ªùng `code` c·ªßa response body","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- HTTP status code lu√¥n l√† 422 cho c√°c safety violations (content b·ªã ch·∫∑n)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Chi ti·∫øt v·ªÅ violation c√≥ th·ªÉ ƒë∆∞·ª£c t√¨m th·∫•y trong `debug.vision` (cho Vision API) ho·∫∑c `debug.provider` (cho Vertex AI)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - API Endpoints (Chi ti·∫øt)","heading":"API Endpoints (Chi ti·∫øt)","text":"## API Endpoints (Chi ti·∫øt)","url":"#/API_TONG_QUAN_VI.md?id=api-endpoints-chi-tit","level":2},{"title":"T·ªïng quan API Face Swap AI - 1. Upload & Qu·∫£n l√Ω File","heading":"1. Upload & Qu·∫£n l√Ω File","text":"### 1. Upload & Qu·∫£n l√Ω File","url":"#/API_TONG_QUAN_VI.md?id=1-upload-qun-l-file","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 1.1. POST `/upload-url` (type=selfie) - Upload selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** T·∫£i ·∫£nh selfie tr·ª±c ti·∫øp l√™n server v√† l∆∞u v√†o database. Endpoint n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi mobile app ƒë·ªÉ upload selfie.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Authentication:** Y√™u c·∫ßu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true` (ch·ªâ √°p d·ª•ng cho `type=selfie`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Upload single selfie v·ªõi action:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/selfie.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"type=selfie\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"action=faceswap\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"dimensions=1024x768\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Upload multiple selfies v·ªõi dimensions array:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/selfie1.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/selfie2.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"type=selfie\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"action=faceswap\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F 'dimensions=[\"1024x768\", \"800x600\"]'","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**JSON v·ªõi image_urls v√† dimensions array:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_urls\": [\"https://example.com/selfie1.jpg\", \"https://example.com/selfie2.jpg\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"selfie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"action\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"dimensions\": [\"1024x768\", \"800x600\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `files` (file[], required n·∫øu d√πng multipart): M·∫£ng file ·∫£nh selfie c·∫ßn upload (h·ªó tr·ª£ nhi·ªÅu file).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` ho·∫∑c `image_urls` (string/string[], required n·∫øu d√πng JSON): URL ·∫£nh selfie tr·ª±c ti·∫øp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `type` (string, required): Ph·∫£i l√† `\"selfie\"` cho mobile app.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `action` (string, required, ch·ªâ √°p d·ª•ng cho `type=selfie`): Lo·∫°i action c·ªßa selfie. Ph·∫£i ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh r√µ r√†ng. C√°c gi√° tr·ªã h·ªó tr·ª£:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `\"faceswap\"`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh), t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi (gi·ªØ l·∫°i s·ªë ·∫£nh m·ªõi nh·∫•t theo gi·ªõi h·∫°n). **Kh√¥ng ki·ªÉm tra Vision","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `\"wedding\"`: T·ªëi ƒëa 2 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi (gi·ªØ l·∫°i 1 ·∫£nh m·ªõi nh·∫•t). **Kh√¥ng ki·ªÉm tra Vision API.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `\"4k\"` ho·∫∑c `\"4K\"`: T·ªëi ƒëa 1 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi. **·∫¢nh s·∫Ω ƒë∆∞·ª£c ki·ªÉm tra b·∫±ng Vision API tr∆∞·ªõc khi l∆∞u v√†o database.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√°c action kh√°c: T·ªëi ƒëa 1 ·∫£nh, t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi upload ·∫£nh m·ªõi. **Kh√¥ng ki·ªÉm tra Vision API.**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `dimensions` (string | string[], optional): K√≠ch th∆∞·ªõc ·∫£nh selfie theo ƒë·ªãnh d·∫°ng `\"widthxheight\"` (v√≠ d·ª•: `\"1024x768\"`). ƒê∆∞·ª£c s·ª≠ d·ª•ng ƒë·ªÉ truy·ªÅn k√≠ch","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Cho single file**: C√≥ th·ªÉ truy·ªÅn string ƒë∆°n: `\"1024x768\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Cho multiple files**: Truy·ªÅn JSON array c√πng th·ª© t·ª± v·ªõi files: `[\"1024x768\", \"800x600\", null]` (null cho file kh√¥ng x√°c ƒë·ªãnh ƒë∆∞·ª£c k√≠ch th∆∞·ªõc)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response (Success 200):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response (Error - Vision API Blocked):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Khi ·∫£nh selfie kh√¥ng v∆∞·ª£t qua ki·ªÉm tra an to√†n c·ªßa Vision API, endpoint s·∫Ω tr·∫£ v·ªÅ error code t∆∞∆°ng ·ª©ng v·ªõi lo·∫°i vi ph·∫°m:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Upload failed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 1001","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω quan tr·ªçng:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Vision API Error Codes (1001-1005):** Ch·ªâ selfie uploads v·ªõi `action=\"4k\"` ho·∫∑c `action=\"4K\"` m·ªõi ƒë∆∞·ª£c qu√©t b·ªüi Vision API tr∆∞·ªõc khi l∆∞u v√†o datab","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Vertex AI Error Codes (2001-2004):** ƒê∆∞·ª£c tr·∫£ v·ªÅ khi Vertex AI Gemini safety filters ch·∫∑n generated image. √Åp d·ª•ng cho c√°c endpoints: `/faceswap`,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Ch·∫∑n `POSSIBLE`, `LIKELY`, v√† `VERY_LIKELY` violations","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N·∫øu ·∫£nh kh√¥ng an to√†n, file s·∫Ω b·ªã x√≥a kh·ªèi R2 storage v√† tr·∫£ v·ªÅ error code t∆∞∆°ng ·ª©ng","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Error code ƒë∆∞·ª£c tr·∫£ v·ªÅ trong tr∆∞·ªùng `code` c·ªßa response","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Gi·ªõi h·∫°n s·ªë l∆∞·ª£ng selfie:** M·ªói action c√≥ gi·ªõi h·∫°n ri√™ng v√† t·ª± ƒë·ªông x√≥a ·∫£nh c≈© khi v∆∞·ª£t qu√° gi·ªõi h·∫°n:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `faceswap`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh qua `SELFIE_MAX_FACESWAP`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `wedding`: T·ªëi ƒëa 2 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_WEDDING`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `4k`/`4K`: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_4K`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√°c action kh√°c: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_OTHER`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 1.2. POST `/upload-url` (type=preset) - Upload preset (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** T·∫£i ·∫£nh preset tr·ª±c ti·∫øp l√™n server v√† l∆∞u v√†o database v·ªõi x·ª≠ l√Ω t·ª± ƒë·ªông (Vision scan, Vertex prompt generation). Endpoint n√†y ch·ªâ ƒë∆∞·ª£c","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Multipart/form-data:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/image1.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/image2.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"type=preset\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"enableVertexPrompt=true\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**JSON v·ªõi image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_url\": \"https://example.com/image.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"enableVertexPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `files` (file[], required n·∫øu d√πng multipart): M·∫£ng file ·∫£nh preset c·∫ßn upload (h·ªó tr·ª£ nhi·ªÅu file).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` ho·∫∑c `image_urls` (string/string[], required n·∫øu d√πng JSON): URL ·∫£nh preset tr·ª±c ti·∫øp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `type` (string, required): Ph·∫£i l√† `\"preset\"` cho backend upload.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `enableVertexPrompt` (boolean/string, optional): `true` ho·∫∑c `\"true\"` ƒë·ªÉ b·∫≠t t·∫°o prompt Vertex khi upload preset. S·ª≠ d·ª•ng Vertex AI ƒë·ªÉ ph√¢n t√≠ch ·∫£nh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `art_style` (string, optional): Filter art style cho prompt generation. Gi√° tr·ªã: `auto` (m·∫∑c ƒë·ªãnh), `photorealistic`, `figurine`, `popmart`, `clay`,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"promptKeys\": [\"prompt\", \"style\", \"lighting\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"responseTimeMs\": 4200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filesProcessed\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultsCount\": 1","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 1.3. POST `/upload-thumbnails` - Upload thumbnails (backend only)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** T·∫£i l√™n thumbnails (WebP v√† Lottie JSON) v√† t·ª± ƒë·ªông t·∫°o presets. H·ªó tr·ª£ upload file zip ch·ª©a t·∫•t c·∫£ assets ho·∫∑c upload t·ª´ng file ri√™ng l","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Upload individual files:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/preset/fs_wonder_f_3.png\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"path_preset_fs_wonder_f_3.png=preset/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/lottie_1x/fs_wonder_f_3.json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"path_lottie_1x_fs_wonder_f_3.json=lottie_1x/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/lottie_avif_2x/fs_wonder_f_3.json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"path_lottie_avif_2x_fs_wonder_f_3.json=lottie_avif_2x/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"art_style=auto\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Upload with Art Style Filter (e.g., Pop Mart style):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/preset/popmart_figure.png\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"path_popmart_figure.png=preset/\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"art_style=popmart\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Upload zip file containing all assets:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-thumbnails \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"files=@/path/to/thumbnails.zip\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-F \"art_style=disney\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Supported Art Styles:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**C·∫•u tr√∫c th∆∞ m·ª•c:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îú‚îÄ‚îÄ preset/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.png    # Files here get Vertex AI prompt generation","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.png","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îú‚îÄ‚îÄ lottie_1x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 1x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îú‚îÄ‚îÄ lottie_1.5x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 1.5x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îú‚îÄ‚îÄ lottie_2x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # Thumbnails at 2x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îú‚îÄ‚îÄ lottie_avif_1x/","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îú‚îÄ‚îÄ fs_wonder_f_3.json   # AVIF thumbnails at 1x resolution","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îÇ   ‚îî‚îÄ‚îÄ fs_wonder_m_2.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"‚îî‚îÄ‚îÄ [other resolution folders...]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Quy t·∫Øc ƒë·∫∑t t√™n file:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Format: `[preset_id].[png|webp|json]`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- V√≠ d·ª•: `fs_wonder_f_3.png`, `fs_wonder_m_2.webp`, `fireworks_animation.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- T√™n file (kh√¥ng bao g·ªìm extension) s·∫Ω tr·ªü th√†nh `preset_id`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Vertex AI ch·ªâ ph√¢n t√≠ch file ·∫£nh t·ª´ th∆∞ m·ª•c \"preset\" ƒë·ªÉ t·∫°o `prompt_json` metadata","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- File t·ª´ c√°c th∆∞ m·ª•c resolution kh√°c (lottie_*, lottie_avif_*) l√† thumbnails, KH√îNG ƒë∆∞·ª£c g·ª≠i ƒë·∫øn Vertex AI","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T√≠nh nƒÉng Vertex AI:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- T·ª± ƒë·ªông g·ªçi Vertex AI Gemini ƒë·ªÉ ph√¢n t√≠ch file ·∫£nh t·ª´ th∆∞ m·ª•c \"preset\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- S·ª≠ d·ª•ng `Promise.all` ƒë·ªÉ x·ª≠ l√Ω batch upload v√† t·∫°o prompt song song","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `prompt_json` ƒë∆∞·ª£c l∆∞u trong R2 custom metadata c·ªßa preset files","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Thumbnails ƒë∆∞·ª£c l∆∞u ·ªü nhi·ªÅu resolution (1x, 1.5x, 2x, 3x, 4x) trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Ch·ªâ √°p d·ª•ng cho file ·∫£nh t·ª´ th∆∞ m·ª•c \"preset\", b·ªè qua thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"total\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"successful\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"failed\": 0,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"thumbnails_processed\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/presets/fs_wonder_f_3.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"scene\": \"wonder woman portrait\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"style\": \"heroic\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"mood\": \"confident\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"colors\": [\"red\", \"blue\", \"gold\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"promptKeys\": [\"scene\", \"style\", \"mood\", \"colors\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"format\": \"webp\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"thumbnail\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/lottie_1x/fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"hasPrompt\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": false","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"format\": \"lottie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resolution\": \"1x\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filename\": \"fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"type\": \"thumbnail\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/lottie_avif_2x/fs_wonder_f_3.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"hasPrompt\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": false","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"format\": \"lottie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resolution\": \"2x\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processed 3 of 3 files\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"filesProcessed\": 3,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultsCount\": 3","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - 2. AI Processing","heading":"2. AI Processing","text":"### 2. AI Processing","url":"#/API_TONG_QUAN_VI.md?id=2-ai-processing","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.1. POST `/faceswap` - Face Swap","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** Th·ª±c hi·ªán face swap gi·ªØa ·∫£nh preset v√† ·∫£nh selfie. H·ªó tr·ª£ multiple selfies ƒë·ªÉ t·∫°o composite results (v√≠ d·ª•: wedding photos v·ªõi c·∫£ male v","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Kh√°c v·ªõi `/background`: FaceSwap thay ƒë·ªïi khu√¥n m·∫∑t trong preset, c√≤n AI Background merge selfie v√†o preset scene.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**H√†nh vi theo Provider:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng `prompt_json` t·ª´ metadata c·ªßa preset ƒë·ªÉ th·ª±c hi·ªán faceswap.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **WaveSpeed (`provider: \"wavespeed\"`):** Kh√¥ng s·ª≠ d·ª•ng `prompt_json`. S·ª≠ d·ª•ng prompt c·ªë ƒë·ªãnh:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Single mode (1 selfie):** G·ª≠i `[selfie, preset]` v·ªõi prompt: \"Put the person in image1 into image2, keep all the makeup same as preset.\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Couple mode (2 selfies):** G·ª≠i `[selfie1, selfie2, preset]` v·ªõi prompt: \"Put both persons in image1 and image2 into image3, keep all the makeup sa","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng selfie_ids (t·ª´ database):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng selfie_image_urls (URL tr·ª±c ti·∫øp):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/faceswap \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_image_urls\": [\"https://example.com/selfie1.jpg\", \"https://example.com/selfie2.jpg\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_id` (string, required): ID ·∫£nh preset ƒë√£ l∆∞u trong database (format: `preset_...`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_ids` (array of strings, optional): M·∫£ng c√°c ID ·∫£nh selfie ƒë√£ l∆∞u trong database (h·ªó tr·ª£ multiple selfies). Th·ª© t·ª±: [selfie_ch√≠nh, selfie_ph·ª•","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_image_urls` (array of strings, optional): M·∫£ng c√°c URL ·∫£nh selfie tr·ª±c ti·∫øp (thay th·∫ø cho `selfie_ids`). H·ªó tr·ª£ multiple selfies. Ph·∫£i cung ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh (m·∫∑c ƒë·ªãnh: \"3:4\"). H·ªó tr·ª£: \"1:1\", \"3:2\", \"2:3\", \"3:4\", \"4:3\", \"4:5\", \"5:4\", \"9:16\", \"16:9\", \"21:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **L∆∞u √Ω v·ªÅ k√≠ch th∆∞·ªõc ƒë·∫ßu ra (WaveSpeed provider):** N·∫øu `aspect_ratio` ƒë∆∞·ª£c ch·ªâ ƒë·ªãnh r√µ r√†ng, h·ªá th·ªëng s·∫Ω s·ª≠ d·ª•ng aspect ratio ƒë√≥. N·∫øu kh√¥ng ch·ªâ ƒë·ªã","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): c√¢u m√¥ t·∫£ b·ªï sung, ƒë∆∞·ª£c n·ªëi v√†o cu·ªëi tr∆∞·ªùng `prompt` b·∫±ng k√Ω t·ª± `+`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"sourceUrls\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"endpoint\": \"https://...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"durationMs\": 843","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"prompt\": { \"...\": \"...\" },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"durationMs\": 5180,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"requestPayload\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"promptLength\": 746,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"imageBytes\": 921344","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultId\": \"result_...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.2. POST `/background` - AI Background","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** T·∫°o ·∫£nh m·ªõi b·∫±ng c√°ch merge selfie (ng∆∞·ªùi) v√†o preset (c·∫£nh n·ªÅn) s·ª≠ d·ª•ng AI. Selfie s·∫Ω ƒë∆∞·ª£c ƒë·∫∑t v√†o preset scene m·ªôt c√°ch t·ª± nhi√™n v·ªõi n","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng selfie_id (t·ª´ database):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng selfie_image_url (URL tr·ª±c ti·∫øp):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng custom_prompt (t·∫°o n·ªÅn t·ª´ text prompt v·ªõi Vertex AI):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"custom_prompt\": \"A beautiful sunset beach scene with palm trees and golden sand\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**S·ª≠ d·ª•ng custom_prompt v·ªõi selfie_image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/background \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"custom_prompt\": \"A futuristic cityscape at night with neon lights and flying cars\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω v·ªÅ custom_prompt:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Khi s·ª≠ d·ª•ng `custom_prompt`, h·ªá th·ªëng s·∫Ω th·ª±c hi·ªán 2 b∆∞·ªõc:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"1. **T·∫°o ·∫£nh n·ªÅn**: S·ª≠ d·ª•ng Vertex AI Gemini ƒë·ªÉ t·∫°o ·∫£nh n·ªÅn t·ª´ text prompt","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"2. **Merge selfie**: T·ª± ƒë·ªông merge selfie v√†o ·∫£nh n·ªÅn v·ª´a t·∫°o v·ªõi lighting v√† color grading ph√π h·ª£p","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `custom_prompt` kh√¥ng th·ªÉ k·∫øt h·ª£p v·ªõi `preset_image_id` ho·∫∑c `preset_image_url` (ch·ªâ ch·ªçn m·ªôt trong ba)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` v√† `model` s·∫Ω ƒë∆∞·ª£c √°p d·ª•ng cho c·∫£ vi·ªác t·∫°o n·ªÅn v√† merge","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω v·ªÅ preset_image_id:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- H·ªó tr·ª£ c·∫£ preset t·ª´ database (trong b·∫£ng `presets`) v√† file tr·ª±c ti·∫øp trong folder `/remove_bg/background/` tr√™n R2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√≥ th·ªÉ truy·ªÅn `preset_image_id` k√®m extension (v√≠ d·ª•: `\"background_001.webp\"`) ho·∫∑c kh√¥ng c√≥ extension (v√≠ d·ª•: `\"background_001\"`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N·∫øu kh√¥ng c√≥ extension, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông th·ª≠ c√°c extension ph·ªï bi·∫øn: .webp, .jpg, .png, .jpeg","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- H·ªá th·ªëng s·∫Ω t√¨m file theo th·ª© t·ª±: database tr∆∞·ªõc, sau ƒë√≥ folder `/remove_bg/background/` n·∫øu kh√¥ng t√¨m th·∫•y trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_id` (string, optional): ID ·∫£nh preset ho·∫∑c filename trong folder `/remove_bg/background/`. Ph·∫£i cung c·∫•p `preset_image_id` HO·∫∂C `prese","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_url` (string, optional): URL ·∫£nh preset tr·ª±c ti·∫øp (thay th·∫ø cho `preset_image_id`). Ph·∫£i cung c·∫•p `preset_image_id` HO·∫∂C `preset_image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `custom_prompt` (string, optional): Prompt t√πy ch·ªânh ƒë·ªÉ t·∫°o ·∫£nh n·ªÅn t·ª´ text s·ª≠ d·ª•ng Vertex AI (thay th·∫ø cho preset image). Khi s·ª≠ d·ª•ng `custom_promp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"1. T·∫°o ·∫£nh n·ªÅn t·ª´ text prompt b·∫±ng Vertex AI Gemini","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"2. Merge selfie v√†o ·∫£nh n·ªÅn ƒë√£ t·∫°o","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"Ph·∫£i cung c·∫•p `preset_image_id` HO·∫∂C `preset_image_url` HO·∫∂C `custom_prompt` (ch·ªâ m·ªôt trong ba).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_id` (string, optional): ID ·∫£nh selfie ƒë√£ l∆∞u trong database (ng∆∞·ªùi). Ph·∫£i cung c·∫•p `selfie_id` HO·∫∂C `selfie_image_url` (kh√¥ng ph·∫£i c·∫£ hai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_image_url` (string, optional): URL ·∫£nh selfie tr·ª±c ti·∫øp (thay th·∫ø cho `selfie_id`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. C√°c gi√° tr·ªã h·ªó tr·ª£: `\"original\"`, `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfieUrl\": \"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultId\": \"result_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.3. POST `/enhance` - AI Enhance","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** AI enhance ·∫£nh - c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng, ƒë·ªô s√°ng, ƒë·ªô t∆∞∆°ng ph·∫£n v√† chi ti·∫øt c·ªßa ·∫£nh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- C√°c endpoints kh√¥ng ph·∫£i faceswap (`/enhance`, `/beauty`, `/filter`, `/restore`, `/aging`, `/background`) h·ªó tr·ª£ gi√° tr·ªã `\"original\"` cho `aspect_ra","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Khi `aspect_ratio` l√† `\"original\"` ho·∫∑c kh√¥ng ƒë∆∞·ª£c cung c·∫•p, h·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"1. L·∫•y k√≠ch th∆∞·ªõc (width/height) t·ª´ ·∫£nh input","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"2. T√≠nh to√°n t·ª∑ l·ªá khung h√¨nh th·ª±c t·∫ø","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"3. Ch·ªçn t·ª∑ l·ªá g·∫ßn nh·∫•t trong danh s√°ch h·ªó tr·ª£ c·ªßa Vertex AI","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"4. S·ª≠ d·ª•ng t·ª∑ l·ªá ƒë√≥ ƒë·ªÉ generate ·∫£nh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ƒêi·ªÅu n√†y ƒë·∫£m b·∫£o ·∫£nh k·∫øt qu·∫£ gi·ªØ ƒë∆∞·ª£c t·ª∑ l·ªá g·∫ßn v·ªõi ·∫£nh g·ªëc thay v√¨ m·∫∑c ƒë·ªãnh v·ªÅ 1:1.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **C√°c gi√° tr·ªã h·ªó tr·ª£:** `\"original\"`, `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`, `\"9:16\"`, `\"16:9\"`, `\"21:9\"`. M·∫∑c ƒë·ªãnh: `\"origi","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/enhance \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` (string, required): URL ·∫£nh c·∫ßn enhance.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Image enhancement completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Enhancement completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.4. POST `/beauty` - AI Beauty","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** AI beautify ·∫£nh - c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t (l√Ω t∆∞·ªüng cho selfies v√† ch√¢n dung). L√†m m·ªãn da, x√≥a m·ª•n, l√†m s√°ng m·∫Øt, tinh ch·ªânh khu√¥n m","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/beauty \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` (string, required): URL ·∫£nh c·∫ßn beautify.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/beauty_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Image beautification completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Beautification completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T√≠nh nƒÉng AI Beauty:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- L√†m m·ªãn da (smooth skin)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- X√≥a m·ª•n v√† v·∫øt th√¢m (removes blemishes/acne)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ƒê·ªÅu m√†u da (evens skin tone)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- L√†m thon m·∫∑t v√† ƒë∆∞·ªùng vi·ªÅn h√†m m·ªôt c√°ch tinh t·∫ø (slims face/jawline subtly)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- L√†m s√°ng m·∫Øt (brightens eyes)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- TƒÉng c∆∞·ªùng m√¥i v√† l√¥ng m√†y (enhances lips and eyebrows)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- M·ªü r·ªông m·∫Øt nh·∫π (enlarges eyes slightly, optional)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- L√†m m·ªÅm ho·∫∑c ch·ªânh h√¨nh m≈©i (softens or reshapes nose)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- T·ª± ƒë·ªông ƒëi·ªÅu ch·ªânh makeup (adjusts makeup automatically)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** AI Beauty t·∫≠p trung v√†o c·∫£i thi·ªán th·∫©m m·ªπ khu√¥n m·∫∑t, kh√°c v·ªõi AI Enhance (c·∫£i thi·ªán ch·∫•t l∆∞·ª£ng k·ªπ thu·∫≠t nh∆∞ ƒë·ªô s·∫Øc n√©t, gi·∫£m nhi·ªÖu).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.5. POST `/filter` - AI Filter (Styles)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** AI Filter (Styles) - √Åp d·ª•ng c√°c style s√°ng t·∫°o ho·∫∑c ƒëi·ªán ·∫£nh t·ª´ preset l√™n selfie trong khi gi·ªØ nguy√™n t√≠nh to√†n v·∫πn khu√¥n m·∫∑t.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**H√†nh vi theo Provider:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng `prompt_json` t·ª´ metadata c·ªßa preset ƒë·ªÉ √°p d·ª•ng style. Preset ph·∫£i c√≥ `prompt_json`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **WaveSpeed (`provider: \"wavespeed\"`):** Kh√¥ng s·ª≠ d·ª•ng `prompt_json`. Thay v√†o ƒë√≥, WaveSpeed t·ª± ph√¢n t√≠ch style c·ªßa preset image (figurine, pop mart","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/filter \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Ho·∫∑c s·ª≠ d·ª•ng selfie_image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/filter \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_id` (string, required): ID preset ƒë√£ l∆∞u trong database (format: `preset_...`). Preset ph·∫£i c√≥ `prompt_json` (ch·ªâ y√™u c·∫ßu cho Vertex p","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_id` (string, optional): ID selfie ƒë√£ l∆∞u trong database. B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ `selfie_image_url`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_image_url` (string, optional): URL ·∫£nh selfie tr·ª±c ti·∫øp. B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ `selfie_id`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): Prompt b·ªï sung ƒë·ªÉ t√πy ch·ªânh style.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `provider` (string, optional): Provider AI. Gi√° tr·ªã: `\"vertex\"` (m·∫∑c ƒë·ªãnh) ho·∫∑c `\"wavespeed\"`. WaveSpeed kh√¥ng y√™u c·∫ßu `prompt_json` trong preset.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/filter_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Style filter applied successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Filter applied\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T√≠nh nƒÉng AI Filter:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- ƒê·ªçc prompt_json t·ª´ preset (ch·ª©a th√¥ng tin v·ªÅ style, lighting, composition, camera, background)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- √Åp d·ª•ng style s√°ng t·∫°o/ƒëi·ªán ·∫£nh t·ª´ preset l√™n selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Gi·ªØ nguy√™n 100% khu√¥n m·∫∑t, ƒë·∫∑c ƒëi·ªÉm, c·∫•u tr√∫c x∆∞∆°ng, m√†u da","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Ch·ªâ thay ƒë·ªïi style, m√¥i tr∆∞·ªùng, √°nh s√°ng, m√†u s·∫Øc, v√† mood h√¨nh ·∫£nh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- H·ªó tr·ª£ additional_prompt ƒë·ªÉ t√πy ch·ªânh th√™m","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Preset ph·∫£i c√≥ prompt_json (ƒë∆∞·ª£c t·∫°o t·ª± ƒë·ªông khi upload preset v·ªõi `enableVertexPrompt=true`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N·∫øu preset ch∆∞a c√≥ prompt_json, API s·∫Ω t·ª± ƒë·ªông generate t·ª´ preset image","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Kh√°c v·ªõi `/faceswap`: Filter gi·ªØ nguy√™n khu√¥n m·∫∑t v√† ch·ªâ √°p d·ª•ng style, kh√¥ng thay ƒë·ªïi khu√¥n m·∫∑t","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Parameter `redraw`:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `redraw: true` ‚Üí B·ªè qua cache, lu√¥n generate ·∫£nh m·ªõi (s·ª≠ d·ª•ng cho n√∫t \"Redraw\")","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `redraw: false` ho·∫∑c kh√¥ng set ‚Üí Check cache tr∆∞·ªõc khi generate","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Flow x·ª≠ l√Ω /filter:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"flowchart TD","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"START([Client Request]) --> PARSE[Parse Request Body]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"PARSE --> VALIDATE{Valid Input?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"VALIDATE -->|No| ERR400[400: Missing required field]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"VALIDATE -->|Yes| CHECK_REDRAW{redraw: true?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CHECK_REDRAW -->|Yes| LOOKUP_SELFIE_REDRAW[Lookup Selfie in DB]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CHECK_REDRAW -->|No| LOOKUP_SELFIE[Lookup Selfie in DB]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"LOOKUP_SELFIE --> SELFIE_EXISTS{Selfie Exists?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"LOOKUP_SELFIE_REDRAW --> SELFIE_EXISTS_REDRAW{Selfie Exists?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SELFIE_EXISTS -->|Yes| CALL_AI[Call AI Provider]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SELFIE_EXISTS -->|No| CHECK_CACHE{Check KV Cache}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SELFIE_EXISTS_REDRAW -->|Yes| CALL_AI_REDRAW[Call AI Provider]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SELFIE_EXISTS_REDRAW -->|No| ERR404_REDRAW[404: Selfie not found<br/>Cannot redraw without selfie]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CHECK_CACHE -->|Found| RETURN_CACHED[200: Return Cached Result<br/>cached: true]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CHECK_CACHE -->|Not Found| ERR404[404: Selfie not found<br/>No cached result]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CALL_AI --> AI_RESULT{AI Success?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CALL_AI_REDRAW --> AI_RESULT_REDRAW{AI Success?}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"AI_RESULT -->|Error| ERR500[500: AI Processing Error<br/>Selfie NOT deleted<br/>NO cache stored]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"AI_RESULT -->|Success| CACHE_RESULT[Cache Result in KV<br/>TTL: 24h]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"AI_RESULT_REDRAW -->|Error| ERR500","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"AI_RESULT_REDRAW -->|Success| CACHE_RESULT_REDRAW[Update Cache in KV<br/>TTL: 24h]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CACHE_RESULT --> SUCCESS[200: Return Result<br/>resultImageUrl]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"CACHE_RESULT_REDRAW --> SUCCESS_REDRAW[200: Return NEW Result<br/>resultImageUrl]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ERR400 --> END([End])","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ERR404 --> END","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ERR404_REDRAW --> END","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"ERR500 --> RETRY_POSSIBLE([Client Can Retry<br/>Selfie still exists])","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"RETURN_CACHED --> END","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SUCCESS --> END","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"SUCCESS_REDRAW --> END","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style START fill:#e1f5fe","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style SUCCESS fill:#c8e6c9","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style SUCCESS_REDRAW fill:#c8e6c9","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style RETURN_CACHED fill:#fff9c4","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style ERR400 fill:#ffcdd2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style ERR404 fill:#ffcdd2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style ERR404_REDRAW fill:#ffcdd2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style ERR500 fill:#ffcdd2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"style RETRY_POSSIBLE fill:#ffe0b2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**B·∫£ng t√≥m t·∫Øt c√°c tr∆∞·ªùng h·ª£p:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Key Rules:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"1. **Ch·ªâ cache khi SUCCESS** - Error kh√¥ng cache","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"2. **Selfie ƒë∆∞·ª£c qu·∫£n l√Ω theo queue** - T·ªëi ƒëa `SELFIE_MAX_FILTER` selfies (m·∫∑c ƒë·ªãnh: 5), t·ª± ƒë·ªông x√≥a c≈© nh·∫•t khi v∆∞·ª£t qu√°","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"3. **`redraw: true` b·ªè qua cache** - Lu√¥n generate m·ªõi","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"4. **Cache TTL = 24h** - Sau 24h cache t·ª± expire","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.6. POST `/restore` - AI Restore","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** AI kh√¥i ph·ª•c v√† n√¢ng c·∫•p ·∫£nh - ph·ª•c h·ªìi ·∫£nh b·ªã h∆∞ h·ªèng, c≈©, m·ªù, ho·∫∑c ƒëen tr·∫Øng th√†nh ·∫£nh ch·∫•t l∆∞·ª£ng cao v·ªõi m√†u s·∫Øc s·ªëng ƒë·ªông.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/restore \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"aspect_ratio\": \"1:1\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` (string, required): URL ·∫£nh c·∫ßn kh√¥i ph·ª•c (·∫£nh c≈©, b·ªã h∆∞ h·ªèng, m·ªù, ho·∫∑c ƒëen tr·∫Øng).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. Xem [L∆∞u √Ω v·ªÅ Aspect Ratio](#23-post-enhance---ai-enhance) cho chi ti·∫øt. M·∫∑c ƒë·ªãnh: `\"original\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/restore_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Image restoration completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Restoration completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T√≠nh nƒÉng AI Restore:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Kh√¥i ph·ª•c ·∫£nh b·ªã h∆∞ h·ªèng (fix scratches, tears, noise, blurriness)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Chuy·ªÉn ƒë·ªïi ·∫£nh ƒëen tr·∫Øng th√†nh m√†u v·ªõi m√†u s·∫Øc s·ªëng ƒë·ªông","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- N√¢ng c·∫•p ch·∫•t l∆∞·ª£ng l√™n 16K DSLR quality","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- TƒÉng c∆∞·ªùng chi ti·∫øt (face, eyes, hair, clothing)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Th√™m √°nh s√°ng, b√≥ng ƒë·ªï, v√† ƒë·ªô s√¢u tr∆∞·ªùng ·∫£nh th·ª±c t·∫ø","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Retouching chuy√™n nghi·ªáp c·∫•p Photoshop","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- High dynamic range, ultra-HD, lifelike textures","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.7. POST `/aging` - AI Aging","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** AI bi·∫øn ƒë·ªïi tu·ªïi khu√¥n m·∫∑t - √°p d·ª•ng style tu·ªïi t·ª´ preset l√™n selfie. M·ªói preset ch·ª©a prompt_json ƒë·ªãnh nghƒ©a style tu·ªïi c·ª• th·ªÉ (em b√©, n","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**H√†nh vi theo Provider:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **Vertex AI (m·∫∑c ƒë·ªãnh):** S·ª≠ d·ª•ng `prompt_json` t·ª´ metadata c·ªßa preset ƒë·ªÉ √°p d·ª•ng bi·∫øn ƒë·ªïi tu·ªïi. Preset ph·∫£i c√≥ `prompt_json`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- **WaveSpeed (`provider: \"wavespeed\"`):** S·ª≠ d·ª•ng `prompt_json` n·∫øu c√≥, ho·∫∑c ph√¢n t√≠ch style c·ªßa preset image tr·ª±c ti·∫øp. G·ª≠i images theo th·ª© t·ª± `[sel","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/aging \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"aging_baby_preset_001\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Ho·∫∑c s·ª≠ d·ª•ng selfie_image_url:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/aging \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preset_image_id\": \"aging_elderly_preset_001\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the aging look natural\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_id` (string, required*): ID preset aging ƒë√£ l∆∞u trong database. Preset ch·ª©a `prompt_json` ƒë·ªãnh nghƒ©a style tu·ªïi. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preset_image_url` (string, required*): URL ·∫£nh preset tr·ª±c ti·∫øp. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ `preset_image_id`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_id` (string, required*): ID selfie ƒë√£ l∆∞u trong database. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ `selfie_image_url`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `selfie_image_url` (string, required*): URL ·∫£nh selfie tr·ª±c ti·∫øp. *B·∫Øt bu·ªôc n·∫øu kh√¥ng c√≥ `selfie_id`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `aspect_ratio` (string, optional): T·ª∑ l·ªá khung h√¨nh. M·∫∑c ƒë·ªãnh: `\"original\"`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `additional_prompt` (string, optional): Prompt b·ªï sung ƒë·ªÉ t√πy ch·ªânh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `provider` (string, optional): Provider AI. Gi√° tr·ªã: `\"vertex\"` (m·∫∑c ƒë·ªãnh) ho·∫∑c `\"wavespeed\"`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Aging transformation completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Aging completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**T√≠nh nƒÉng AI Aging:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- S·ª≠ d·ª•ng prompt_json t·ª´ preset (ch·ª©a h∆∞·ªõng d·∫´n bi·∫øn ƒë·ªïi tu·ªïi c·ª• th·ªÉ)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- M·ªói preset c√≥ style tu·ªïi ri√™ng (em b√©, thi·∫øu ni√™n, trung ni√™n, ng∆∞·ªùi gi√†, v.v.)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- Gi·ªØ nguy√™n race, ethnicity, skin tone, gender","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- H·ªó tr·ª£ additional_prompt ƒë·ªÉ t√πy ch·ªânh th√™m","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 2.8. POST `/upscaler4k` - AI Upscale 4K","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** Upscale ·∫£nh l√™n ƒë·ªô ph√¢n gi·∫£i 4K s·ª≠ d·ª•ng WaveSpeed AI.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω:** Endpoint n√†y y√™u c·∫ßu API key authentication khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upscaler4k \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `image_url` (string, required): URL ·∫£nh c·∫ßn upscale.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `profile_id` (string, required): ID profile ng∆∞·ªùi d√πng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Upscaler4K image upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"endpoint\": \"https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"durationMs\": 5000","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"inputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"outputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Error Responses:** Xem [Error Codes Reference](#error-codes-reference)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI - 3. Qu·∫£n l√Ω Profile","heading":"3. Qu·∫£n l√Ω Profile","text":"### 3. Qu·∫£n l√Ω Profile","url":"#/API_TONG_QUAN_VI.md?id=3-qun-l-profile","level":3},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 3.1. POST `/profiles` - T·∫°o profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** T·∫°o profile m·ªõi.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Authentication:** Y√™u c·∫ßu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Minimal (ch·ªâ c·∫ßn device_id):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Full request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"userID\": \"user_external_123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**V·ªõi preferences d·∫°ng object:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"theme\": \"dark\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"language\": \"vi\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Ho·∫∑c g·ª≠i device_id qua header:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/profiles \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"X-API-Key: your_api_key_here\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"-H \"x-device-id: device_1765774126587_yaq0uh6rvz\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"email\": \"john@example.com\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `device_id` (string, optional): ID thi·∫øt b·ªã. C√≥ th·ªÉ g·ª≠i trong body ho·∫∑c header `x-device-id`. N·∫øu kh√¥ng c√≥, s·∫Ω l√† `null`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `userID` ho·∫∑c `user_id` (string, optional): **User ID b√™n ngo√†i** d√πng ƒë·ªÉ t√¨m ki·∫øm profile. ƒê√¢y l√† ID t·ª´ h·ªá th·ªëng c·ªßa b·∫°n (v√≠ d·ª•: Firebase UID, Auth","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `id` (string, optional): ID profile n·ªôi b·ªô. N·∫øu kh√¥ng c√≥, h·ªá th·ªëng t·ª± t·∫°o b·∫±ng `nanoid(16)`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `name` (string, optional): t√™n profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `email` (string, optional): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `avatar_url` (string, optional): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `preferences` (string ho·∫∑c object, optional): preferences d·∫°ng JSON string ho·∫∑c object. N·∫øu l√† object, h·ªá th·ªëng t·ª± ƒë·ªông chuy·ªÉn th√†nh JSON string tr∆∞","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**L∆∞u √Ω v·ªÅ ID:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `id` (profile_id): ID n·ªôi b·ªô c·ªßa profile, t·ª± ƒë·ªông t·∫°o n·∫øu kh√¥ng cung c·∫•p.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `user_id`: ID t·ª´ h·ªá th·ªëng b√™n ngo√†i (Firebase, Auth0, v.v.), d√πng ƒë·ªÉ li√™n k·∫øt v·ªõi user c·ªßa b·∫°n.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `device_id`: ID thi·∫øt b·ªã, d√πng ƒë·ªÉ theo d√µi user ch∆∞a ƒëƒÉng nh·∫≠p.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"user_id\": \"user_external_123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"message\": \"Profile created successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"profileId\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"deviceId\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"\"userId\": \"user_external_123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"#### 3.2. GET `/profiles/{id}` - L·∫•y profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**M·ª•c ƒë√≠ch:** L·∫•y th√¥ng tin profile theo Profile ID, Device ID, ho·∫∑c User ID.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Authentication:** Y√™u c·∫ßu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Path Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"- `id` (string, required): C√≥ th·ªÉ l√† **Profile ID**, **Device ID**, ho·∫∑c **User ID**. API s·∫Ω t√¨m theo th·ª© t·ª±: profile_id ‚Üí device_id ‚Üí user_id.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T·ªïng quan API Face Swap AI","heading":"T·ªïng quan API Face Swap AI","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng Profile ID","heading":"T√¨m b·∫±ng Profile ID","text":"# T√¨m b·∫±ng Profile ID","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"T√¨m b·∫±ng Profile ID","heading":"T√¨m b·∫±ng Profile ID","text":"curl https://api.d.shotpix.app/profiles/uYNgRR70Ry9OFuMV \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng Profile ID","heading":"T√¨m b·∫±ng Profile ID","text":"-H \"X-API-Key: your_api_key_here\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng Device ID","heading":"T√¨m b·∫±ng Device ID","text":"# T√¨m b·∫±ng Device ID","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"T√¨m b·∫±ng Device ID","heading":"T√¨m b·∫±ng Device ID","text":"curl https://api.d.shotpix.app/profiles/device_1765774126587_yaq0uh6rvz \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng Device ID","heading":"T√¨m b·∫±ng Device ID","text":"-H \"X-API-Key: your_api_key_here\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"# T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/profiles/user_external_123 \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"-H \"X-API-Key: your_api_key_here\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"user_id\": \"user_external_123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Profile retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**L∆∞u √Ω:** C·∫£ ba c√°ch t√¨m (b·∫±ng Profile ID, Device ID, ho·∫∑c User ID) ƒë·ªÅu tr·∫£ v·ªÅ c√πng m·ªôt profile v·ªõi ƒë·∫ßy ƒë·ªß th√¥ng tin.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 3.3. PUT `/profiles/{id}` - C·∫≠p nh·∫≠t profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** C·∫≠p nh·∫≠t th√¥ng tin profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl -X PUT https://api.d.shotpix.app/profiles/profile_1234567890 \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"-H \"Content-Type: application/json\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"theme\": \"light\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"language\": \"en\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `name` (string, optional): t√™n profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `email` (string, optional): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `avatar_url` (string, optional): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `preferences` (string ho·∫∑c object, optional): preferences d·∫°ng JSON string ho·∫∑c object. N·∫øu l√† object, h·ªá th·ªëng t·ª± ƒë·ªông chuy·ªÉn th√†nh JSON string tr∆∞","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**L∆∞u √Ω:** ID profile ph·∫£i ƒë∆∞·ª£c cung c·∫•p trong URL path (`/profiles/{id}`), kh√¥ng c·∫ßn g·ª≠i trong body.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"user_id\": \"user_external_123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preferences\": \"{\\\"theme\\\":\\\"light\\\",\\\"language\\\":\\\"en\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"updated_at\": \"2025-12-15T05:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Profile updated successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 3.4. GET `/profiles` - Li·ªát k√™ profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** Li·ªát k√™ t·∫•t c·∫£ profiles (d√πng cho admin/debugging).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"profiles\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"user_id\": \"user_external_123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Profiles retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i) - 4. Truy v·∫•n D·ªØ li·ªáu","heading":"4. Truy v·∫•n D·ªØ li·ªáu","text":"### 4. Truy v·∫•n D·ªØ li·ªáu","url":"#/API_TONG_QUAN_VI.md?id=4-truy-vn-d-liu","level":3},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.1. GET `/presets` - Li·ªát k√™ presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ danh s√°ch preset trong database.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/presets?include_thumbnails=true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `include_thumbnails` (optional): `true` ƒë·ªÉ bao g·ªìm c·∫£ presets c√≥ thumbnail. M·∫∑c ƒë·ªãnh ch·ªâ tr·∫£ v·ªÅ presets kh√¥ng c√≥ thumbnail.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"presets\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"prompt_json\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Presets retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.2. GET `/presets/{id}` - L·∫•y preset theo ID","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** L·∫•y th√¥ng tin chi ti·∫øt c·ªßa m·ªôt preset theo ID (bao g·ªìm `prompt_json`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Preset retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"presetId\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"hasPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.3. DELETE `/presets/{id}` - X√≥a preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** X√≥a preset kh·ªèi D1 v√† R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl -X DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Preset deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.4. GET `/selfies` - Li·ªát k√™ selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ t·ªëi ƒëa 50 selfie g·∫ßn nh·∫•t c·ªßa m·ªôt profile. Endpoint n√†y ƒë∆∞·ª£c s·ª≠ d·ª•ng b·ªüi mobile app ƒë·ªÉ l·∫•y danh s√°ch selfies ƒë√£ upload.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key (c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t trong t∆∞∆°ng lai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/selfies?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `profile_id` (required): ID profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `limit` (optional): S·ªë l∆∞·ª£ng selfies t·ªëi ƒëa tr·∫£ v·ªÅ (1-50). M·∫∑c ƒë·ªãnh: 50.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"selfies\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"selfie_url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"action\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Selfies retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.5. DELETE `/selfies/{id}` - X√≥a selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** X√≥a selfie kh·ªèi D1 v√† R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl -X DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Selfie deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"selfieId\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.6. GET `/results` - Li·ªát k√™ results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** Tr·∫£ v·ªÅ t·ªëi ƒëa 50 k·∫øt qu·∫£ generated images (face swap, background, enhance, beauty, filter, restore, aging, upscaler4k) g·∫ßn nh·∫•t. Endpoin","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key (c√≥ th·ªÉ ƒë∆∞·ª£c b·∫≠t trong t∆∞∆°ng lai).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/results?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `profile_id` (optional): ID profile ƒë·ªÉ l·ªçc k·∫øt qu·∫£.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `limit` (optional): S·ªë l∆∞·ª£ng results t·ªëi ƒëa tr·∫£ v·ªÅ (1-50). M·∫∑c ƒë·ªãnh: 50.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"result_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"action\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Results retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response Fields:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `id`: ID duy nh·∫•t c·ªßa result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `result_url` / `image_url`: URL public c·ªßa ·∫£nh k·∫øt qu·∫£","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `profile_id`: ID profile s·ªü h·ªØu result n√†y","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `action`: Lo·∫°i action ƒë√£ t·∫°o ra result (`faceswap`, `background`, `upscaler4k`, `enhance`, `beauty`, `filter`, `restore`, `aging`). C√≥ th·ªÉ null cho ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `created_at`: Th·ªùi gian t·∫°o (ISO 8601)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.7. DELETE `/results/{id}` - X√≥a result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** X√≥a k·∫øt qu·∫£ kh·ªèi D1 v√† R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Y√™u c·∫ßu API key khi `ENABLE_MOBILE_API_KEY_AUTH=true`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl -X DELETE https://api.d.shotpix.app/results/result_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Result deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"resultId\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"databaseDeleted\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.8. GET `/thumbnails` - Li·ªát k√™ thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** L·∫•y danh s√°ch thumbnails t·ª´ database. Tr·∫£ v·ªÅ t·∫•t c·∫£ presets c√≥ thumbnail (b·∫•t k·ª≥ c·ªôt thumbnail n√†o kh√¥ng null).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Query Parameters:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Kh√¥ng c√≥ query parameters. Endpoint tr·∫£ v·ªÅ t·∫•t c·∫£ presets c√≥ thumbnail.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**L∆∞u √Ω:** Endpoint n√†y query t·ª´ b·∫£ng `presets` v·ªõi ƒëi·ªÅu ki·ªán `thumbnail_r2` kh√¥ng null v√† kh√¥ng r·ªóng. D·ªØ li·ªáu thumbnail ƒë∆∞·ª£c l∆∞u d∆∞·ªõi d·∫°ng JSON objec","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnails\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"id\": \"fs_wonder_f_3\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"ext\": \"png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_r2\": \"{\\\"webp_1x\\\":\\\"webp_1x/fs_wonder_f_3.webp\\\",\\\"lottie_1x\\\":\\\"lottie_1x/fs_wonder_f_3.json\\\",\\\"lottie_avif_2x\\\":\\\"lottie_avif_2x/fs_won","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url_1x\": \"https://resources.d.shotpix.app/webp_1x/fs_wonder_f_3.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url_1_5x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url_2x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url_3x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"thumbnail_url_4x\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Thumbnails retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**L∆∞u √Ω:** Response tr·∫£ v·ªÅ t·∫•t c·∫£ c√°c c·ªôt thumbnail resolution (1x, 1.5x, 2x, 3x) t·ª´ database. `thumbnail_url` l√† alias c·ªßa `thumbnail_url_1x` cho bac","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.9. GET `/thumbnails/{id}/preset` - L·∫•y preset_id t·ª´ thumbnail_id","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** L·∫•y preset_id t·ª´ thumbnail_id (d√πng cho mobile app).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"preset_id\": \"preset_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Preset ID retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 4.10. Thumbnail URL Rules - Quy t·∫Øc URL Thumbnail","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** T√†i li·ªáu chi ti·∫øt v·ªÅ c·∫•u tr√∫c URL v√† quy t·∫Øc ƒë·∫∑t t√™n cho thumbnails trong h·ªá th·ªëng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**C·∫•u tr√∫c URL Thumbnail:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Thumbnails ƒë∆∞·ª£c l∆∞u tr·ªØ trong R2 bucket v·ªõi c·∫•u tr√∫c path nh∆∞ sau:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"preset_thumb/{folderType}_{resolution}/{presetId}.{ext}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Format URL ƒë·∫ßy ƒë·ªß:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"https://resources.d.shotpix.app/{bucket-name}/preset_thumb/{folderType}_{resolution}/{presetId}.{ext}","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_avif_2x/fs_wonder_f_3.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/webp_4x/preset_1234567890_abc123.webp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Folder Types (Lo·∫°i th∆∞ m·ª•c):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Resolutions (ƒê·ªô ph√¢n gi·∫£i):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Folder Naming Convention (Quy t·∫Øc ƒë·∫∑t t√™n th∆∞ m·ª•c):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Format: `{folderType}_{resolution}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**T·∫•t c·∫£ c√°c folder types v√† resolutions ƒë∆∞·ª£c h·ªó tr·ª£:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `webp_1x`, `webp_1.5x`, `webp_2x`, `webp_3x`, `webp_4x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `lottie_1x`, `lottie_1.5x`, `lottie_2x`, `lottie_3x`, `lottie_4x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `lottie_avif_1x`, `lottie_avif_1.5x`, `lottie_avif_2x`, `lottie_avif_3x`, `lottie_avif_4x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**T·ªïng c·ªông: 15 folder types √ó resolutions**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**File Naming Convention (Quy t·∫Øc ƒë·∫∑t t√™n file):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Format: `{presetId}.{ext}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `presetId`: ID c·ªßa preset (v√≠ d·ª•: `fs_frosted_window_portrait_f_4`, `preset_1234567890_abc123`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `ext`: Extension d·ª±a tr√™n folder type:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `webp` ‚Üí `.webp`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `lottie` ‚Üí `.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `lottie_avif` ‚Üí `.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**V√≠ d·ª• file names:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `fs_frosted_window_portrait_f_4.json` (lottie thumbnail)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `fs_wonder_f_3.webp` (webp thumbnail)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `preset_1234567890_abc123.json` (lottie_avif thumbnail)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Database Storage (L∆∞u tr·ªØ trong Database):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Thumbnails ƒë∆∞·ª£c l∆∞u trong b·∫£ng `presets` v·ªõi tr∆∞·ªùng `thumbnail_r2` d·∫°ng JSON:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"webp_1x\": \"preset_thumb/webp_1x/fs_frosted_window_portrait_f_4.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"webp_1.5x\": \"preset_thumb/webp_1.5x/fs_frosted_window_portrait_f_4.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"webp_2x\": \"preset_thumb/webp_2x/fs_frosted_window_portrait_f_4.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"webp_3x\": \"preset_thumb/webp_3x/fs_frosted_window_portrait_f_4.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"webp_4x\": \"preset_thumb/webp_4x/fs_frosted_window_portrait_f_4.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_1x\": \"preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_1.5x\": \"preset_thumb/lottie_1.5x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_2x\": \"preset_thumb/lottie_2x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_3x\": \"preset_thumb/lottie_3x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_4x\": \"preset_thumb/lottie_4x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_avif_1x\": \"preset_thumb/lottie_avif_1x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_avif_1.5x\": \"preset_thumb/lottie_avif_1.5x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_avif_2x\": \"preset_thumb/lottie_avif_2x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_avif_3x\": \"preset_thumb/lottie_avif_3x/fs_frosted_window_portrait_f_4.json\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"lottie_avif_4x\": \"preset_thumb/lottie_avif_4x/fs_frosted_window_portrait_f_4.json\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Key trong JSON = `{folderType}_{resolution}`**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Value trong JSON = R2 key (full path t·ª´ root)**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**C√°ch x√¢y d·ª±ng URL t·ª´ R2 key:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"1. L·∫•y R2 key t·ª´ database: `preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"2. K·∫øt h·ª£p v·ªõi R2 public domain: `https://resources.d.shotpix.app/{bucket-name}/{r2Key}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"3. K·∫øt qu·∫£: `https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**L∆∞u √Ω quan tr·ªçng:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"1. **Kh√¥ng c√≥ duplicate folders:** URL kh√¥ng bao gi·ªù c√≥ d·∫°ng `preset_thumb/lottie_1x/lottie_1x/` (folder name b·ªã l·∫∑p). Format ƒë√∫ng l√† `preset_thumb/lo","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"2. **Preset ID extraction:** Preset ID ƒë∆∞·ª£c extract t·ª´ filename (basename), kh√¥ng bao g·ªìm path. V√≠ d·ª•:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- File: `lottie_1x/fs_frosted_window_portrait_f_4.json`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Preset ID: `fs_frosted_window_portrait_f_4` (kh√¥ng ph·∫£i `lottie_1x/fs_frosted_window_portrait_f_4`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"3. **Bucket name:** Bucket name kh√°c nhau theo environment:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Development: `faceswap-images-office-dev`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Production: `faceswap-images-office-prod`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Default: `faceswap-images-office`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"4. **R2 Public Domain:** Lu√¥n s·ª≠ d·ª•ng `https://resources.d.shotpix.app` cho public URLs.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"5. **Cache Control:** T·∫•t c·∫£ thumbnails c√≥ cache control header: `public, max-age=31536000, immutable` (1 nƒÉm).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**V√≠ d·ª• s·ª≠ d·ª•ng trong code:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**JavaScript/TypeScript:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"// L·∫•y thumbnail URL t·ª´ database response","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const preset = {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"id: \"fs_frosted_window_portrait_f_4\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnail_r2: '{\"lottie_1x\":\"preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json\"}'","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const thumbnailData = JSON.parse(preset.thumbnail_r2);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const r2Key = thumbnailData['lottie_1x']; // \"preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const bucketName = \"faceswap-images-office-dev\";","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const publicUrl = `https://resources.d.shotpix.app/${bucketName}/${r2Key}`;","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"// Result: https://resources.d.shotpix.app/faceswap-images-office-dev/preset_thumb/lottie_1x/fs_frosted_window_portrait_f_4.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Mobile App (Swift/Kotlin):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"// Swift example","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"let thumbnailData = try JSONDecoder().decode([String: String].self, from: preset.thumbnailR2.data(using: .utf8)!)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"if let r2Key = thumbnailData[\"lottie_1x\"] {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"let bucketName = \"faceswap-images-office-dev\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"let publicUrl = \"https://resources.d.shotpix.app/\\(bucketName)/\\(r2Key)\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"// Use publicUrl to load thumbnail","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Best Practices:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"1. **Fallback resolution:** Lu√¥n c√≥ fallback khi resolution kh√¥ng t·ªìn t·∫°i:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"const thumbnailUrl =","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['lottie_4x'] ||","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['lottie_3x'] ||","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['lottie_2x'] ||","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['lottie_1x'] ||","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['webp_4x'] ||","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"thumbnailData['webp_1x'];","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"2. **Format preference:** ∆Øu ti√™n format theo th·ª© t·ª±:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Lottie AVIF (t·ªëi ∆∞u nh·∫•t cho animation)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Lottie (standard animation)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- WebP (static image fallback)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"3. **Resolution selection:** Ch·ªçn resolution d·ª±a tr√™n device pixel ratio:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- 1x devices: `1x` ho·∫∑c `1.5x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- 2x devices (Retina): `2x` ho·∫∑c `3x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- 3x+ devices (Super Retina): `3x` ho·∫∑c `4x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"4. **Error handling:** Lu√¥n ki·ªÉm tra URL t·ªìn t·∫°i tr∆∞·ªõc khi s·ª≠ d·ª•ng:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"if (thumbnailUrl && thumbnailUrl.startsWith('https://')) {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"// Safe to use","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i) - 5. H·ªá th·ªëng & C·∫•u h√¨nh","heading":"5. H·ªá th·ªëng & C·∫•u h√¨nh","text":"### 5. H·ªá th·ªëng & C·∫•u h√¨nh","url":"#/API_TONG_QUAN_VI.md?id=5-h-thng-cu-hnh","level":3},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 5.1. GET `/config` - L·∫•y config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** L·∫•y c·∫•u h√¨nh public c·ªßa Worker (custom domains).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Request:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"curl https://api.d.shotpix.app/config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"backendDomain\": \"https://api.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"r2Domain\": \"https://resources.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"kvCache\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"available\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"test\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"details\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"bindingName\": \"PROMPT_CACHE_KV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"envKeys\": [\"PROMPT_CACHE_KV_BINDING_NAME\", \"...\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"message\": \"Config retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"#### 5.2. OPTIONS `/*` - CORS preflight requests","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**M·ª•c ƒë√≠ch:** X·ª≠ l√Ω CORS preflight requests cho t·∫•t c·∫£ c√°c endpoints. T·ª± ƒë·ªông ƒë∆∞·ª£c g·ªçi b·ªüi tr√¨nh duy·ªát khi th·ª±c hi·ªán cross-origin requests.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Authentication:** Kh√¥ng y√™u c·∫ßu API key.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**Response:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Tr·∫£ v·ªÅ HTTP 204 (No Content) v·ªõi c√°c headers CORS:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `Access-Control-Allow-Origin`: Cho ph√©p t·∫•t c·∫£ origins","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `Access-Control-Allow-Methods`: GET, POST, PUT, DELETE, OPTIONS","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `Access-Control-Allow-Headers`: Content-Type, Authorization, X-API-Key, v√† c√°c headers kh√°c","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- `Access-Control-Max-Age`: 86400 (24 gi·ªù)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Endpoint `/upload-proxy/*` c√≥ h·ªó tr·ª£ th√™m method PUT trong CORS headers.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i) - T·ªïng k·∫øt","heading":"T·ªïng k·∫øt","text":"## T·ªïng k·∫øt","url":"#/API_TONG_QUAN_VI.md?id=tng-kt","level":2},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"**T·ªïng s·ªë API endpoints: 26**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"Xem danh s√°ch ƒë·∫ßy ƒë·ªß t·∫°i [APIs c·∫ßn t√≠ch h·ª£p v·ªõi mobile](#apis-c·∫ßn-t√≠ch-h·ª£p-v·ªõi-mobile-15-apis) ·ªü ƒë·∫ßu t√†i li·ªáu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i) - Custom Domain","heading":"Custom Domain","text":"## Custom Domain","url":"#/API_TONG_QUAN_VI.md?id=custom-domain","level":2},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- **Worker API Domain**: `https://api.d.shotpix.app` - D√πng cho t·∫•t c·∫£ API endpoints","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- **R2 Public Domain**: `https://resources.d.shotpix.app` - D√πng cho public URLs c·ªßa files trong R2 bucket","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","heading":"T√¨m b·∫±ng User ID (t·ª´ h·ªá th·ªëng b√™n ngo√†i)","text":"- Format R2 public URL: `https://resources.d.shotpix.app/{bucket-name}/{key}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"# Provider-Specific Aspect Ratio Handling","url":"#/PROVIDER_ASPECT_RATIO.md","level":1},{"title":"Provider-Specific Aspect Ratio Handling - Overview","heading":"Overview","text":"## Overview","url":"#/PROVIDER_ASPECT_RATIO.md?id=overview","level":2},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"The backend supports two image generation providers: **Vertex AI** and **WaveSpeed**. Each provider has different capabilities and constraints for ima","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Vertex AI (Google)","heading":"Vertex AI (Google)","text":"## Vertex AI (Google)","url":"#/PROVIDER_ASPECT_RATIO.md?id=vertex-ai-google","level":2},{"title":"Provider-Specific Aspect Ratio Handling - Behavior","heading":"Behavior","text":"### Behavior","url":"#/PROVIDER_ASPECT_RATIO.md?id=behavior","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- **Uses standard aspect ratios only**","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- Input image dimensions are mapped to the closest supported ratio","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- Original aspect ratio may not be preserved exactly","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Supported Ratios","heading":"Supported Ratios","text":"### Supported Ratios","url":"#/PROVIDER_ASPECT_RATIO.md?id=supported-ratios","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"1:1, 3:2, 2:3, 3:4, 4:3, 4:5, 5:4, 9:16, 16:9, 21:9","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Flow","heading":"Flow","text":"### Flow","url":"#/PROVIDER_ASPECT_RATIO.md?id=flow","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"Input Image (1240x2772, ratio 0.447)","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"resolveAspectRatio() ‚Üí finds closest standard ratio","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"9:16\" (ratio 0.5625) ‚Üê closest match","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"Vertex AI generates image with 9:16 aspect ratio","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - When to Use","heading":"When to Use","text":"### When to Use","url":"#/PROVIDER_ASPECT_RATIO.md?id=when-to-use","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- When standard aspect ratios are acceptable","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- For consistent social media formats (9:16 for stories, 1:1 for posts, etc.)","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - WaveSpeed","heading":"WaveSpeed","text":"## WaveSpeed","url":"#/PROVIDER_ASPECT_RATIO.md?id=wavespeed","level":2},{"title":"Provider-Specific Aspect Ratio Handling - Behavior","heading":"Behavior","text":"### Behavior","url":"#/PROVIDER_ASPECT_RATIO.md?id=behavior","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- **Preserves exact original aspect ratio**","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- Supports custom dimensions: 256-1536 pixels per dimension","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- Scales proportionally to fit within limits","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Dimension Constraints","heading":"Dimension Constraints","text":"### Dimension Constraints","url":"#/PROVIDER_ASPECT_RATIO.md?id=dimension-constraints","level":3},{"title":"Provider-Specific Aspect Ratio Handling - Flow","heading":"Flow","text":"### Flow","url":"#/PROVIDER_ASPECT_RATIO.md?id=flow","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"Input Image (1240x2772, ratio 0.447)","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"getImageDimensionsExtended() ‚Üí { width: 1240, height: 2772 }","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"normalizeSize(\"1240x2772\"):","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- scale = min(1536/1240, 1536/2772) = 0.554","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- width = round(1240 √ó 0.554) = 687","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- height = round(2772 √ó 0.554) = 1536","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"API receives: \"size\": \"687x1536\" (ratio 0.447 preserved)","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"WaveSpeed generates image with exact 687x1536 dimensions","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - When to Use","heading":"When to Use","text":"### When to Use","url":"#/PROVIDER_ASPECT_RATIO.md?id=when-to-use","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- When original aspect ratio must be preserved exactly","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- For non-standard aspect ratios","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- When image cropping/distortion is unacceptable","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Comparison Table","heading":"Comparison Table","text":"## Comparison Table","url":"#/PROVIDER_ASPECT_RATIO.md?id=comparison-table","level":2},{"title":"Provider-Specific Aspect Ratio Handling - API Request Examples","heading":"API Request Examples","text":"## API Request Examples","url":"#/PROVIDER_ASPECT_RATIO.md?id=api-request-examples","level":2},{"title":"Provider-Specific Aspect Ratio Handling - Vertex AI Request","heading":"Vertex AI Request","text":"### Vertex AI Request","url":"#/PROVIDER_ASPECT_RATIO.md?id=vertex-ai-request","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"image_url\": \"https://example.com/image.jpg\",","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"profile_id\": \"abc123\",","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"aspect_ratio\": \"9:16\",","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"provider\": \"vertex\"","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- `aspect_ratio` is used directly","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- If omitted or \"original\", closest standard ratio is calculated","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - WaveSpeed Request","heading":"WaveSpeed Request","text":"### WaveSpeed Request","url":"#/PROVIDER_ASPECT_RATIO.md?id=wavespeed-request","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"image_url\": \"https://example.com/image.jpg\",","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"profile_id\": \"abc123\",","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"provider\": \"wavespeed\"","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- No `aspect_ratio` needed for original ratio preservation","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- Backend automatically calculates and scales dimensions","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"- If `aspect_ratio` is explicitly set (e.g., \"9:16\"), that ratio will be used instead","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Affected Endpoints","heading":"Affected Endpoints","text":"## Affected Endpoints","url":"#/PROVIDER_ASPECT_RATIO.md?id=affected-endpoints","level":2},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"The following endpoints support both providers with this behavior:","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Code Reference","heading":"Code Reference","text":"## Code Reference","url":"#/PROVIDER_ASPECT_RATIO.md?id=code-reference","level":2},{"title":"Provider-Specific Aspect Ratio Handling - Key Functions","heading":"Key Functions","text":"### Key Functions","url":"#/PROVIDER_ASPECT_RATIO.md?id=key-functions","level":3},{"title":"Provider-Specific Aspect Ratio Handling - Logic Separation","heading":"Logic Separation","text":"### Logic Separation","url":"#/PROVIDER_ASPECT_RATIO.md?id=logic-separation","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"// Determine provider","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"const effectiveProvider = body.provider || env.IMAGE_PROVIDER;","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"// WaveSpeed: Use original dimensions","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"if (effectiveProvider === 'wavespeed' && !userExplicitlySetAspectRatio) {","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"const dims = await getImageDimensionsExtended(imageUrl, env);","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"sizeForWaveSpeed = `${dims.width}x${dims.height}`;","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"// Vertex: Use standard aspect ratio (unchanged)","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"const validAspectRatio = await resolveAspectRatio(...);","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling - Configuration","heading":"Configuration","text":"## Configuration","url":"#/PROVIDER_ASPECT_RATIO.md?id=configuration","level":2},{"title":"Provider-Specific Aspect Ratio Handling - Environment Variables","heading":"Environment Variables","text":"### Environment Variables","url":"#/PROVIDER_ASPECT_RATIO.md?id=environment-variables","level":3},{"title":"Provider-Specific Aspect Ratio Handling - Per-Request Override","heading":"Per-Request Override","text":"### Per-Request Override","url":"#/PROVIDER_ASPECT_RATIO.md?id=per-request-override","level":3},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"Any endpoint can override the default provider:","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Provider-Specific Aspect Ratio Handling","heading":"Provider-Specific Aspect Ratio Handling","text":"\"provider\": \"wavespeed\"","url":"#/PROVIDER_ASPECT_RATIO.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"# Face Swap AI - Requirements","url":"#/REQUIREMENTS.md","level":1},{"title":"Face Swap AI - Requirements - Overview","heading":"Overview","text":"## Overview","url":"#/REQUIREMENTS.md?id=overview","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The applicat","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Structure","heading":"Frontend Structure","text":"## Frontend Structure","url":"#/REQUIREMENTS.md?id=frontend-structure","level":2},{"title":"Face Swap AI - Requirements - File Organization","heading":"File Organization","text":"### File Organization","url":"#/REQUIREMENTS.md?id=file-organization","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `index.html` - Main HTML structure with inline CSS and JavaScript","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Layout","heading":"UI Layout","text":"### UI Layout","url":"#/REQUIREMENTS.md?id=ui-layout","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Main workspace: Two-column grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Left column: Preset section (top) and Selfie section (bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column: Result image (spans both rows, large display)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Bottom section: Results history gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both preset and selfie have identical UI: Upload area + Gallery for selection","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI/UX Design Guide","heading":"UI/UX Design Guide","text":"## UI/UX Design Guide","url":"#/REQUIREMENTS.md?id=uiux-design-guide","level":2},{"title":"Face Swap AI - Requirements - Design Principles","heading":"Design Principles","text":"### Design Principles","url":"#/REQUIREMENTS.md?id=design-principles","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Clarity**: Users should understand what to do without reading instructions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Efficiency**: Minimize clicks and steps to complete tasks.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Feedback**: Always provide clear visual feedback for user actions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Layout Structure","heading":"Layout Structure","text":"### Layout Structure","url":"#/REQUIREMENTS.md?id=layout-structure","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Container","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 1200px (centered on large screens)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px on desktop, 16px on mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF (white) or #FAFAFA (very light gray)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 0px (sharp, professional edges)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Workspace - Two Column Grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Layout**: CSS Grid with 2 columns","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Left Column** (40% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Section** (top row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Section** (bottom row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop (identical to preset)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap between sections: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Right Column** (60% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Image Display** (spans both rows):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gap between columns**: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Generate Button**: Full width below the grid, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Bottom Section - Results History","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full width grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 16px between items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Color Palette","heading":"Color Palette","text":"### Color Palette","url":"#/REQUIREMENTS.md?id=color-palette","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: #2563EB (Blue 600) - Main actions, selected states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Neutral Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Background**: #FFFFFF (White)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Surface**: #F9FAFB (Gray 50) - Card backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Border**: #E5E7EB (Gray 200) - Dividers, borders","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Primary**: #111827 (Gray 900) - Main text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**: #10B981 (Green 500) - Success messages, completed states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**: #EF4444 (Red 500) - Error messages, warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Warning**: #F59E0B (Amber 500) - Warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**: #3B82F6 (Blue 500) - Informational messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Typography","heading":"Typography","text":"### Typography","url":"#/REQUIREMENTS.md?id=typography","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Family","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: System font stack: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Monospace**: `'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace` (for filenames only)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Sizes","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Body**: 16px / 1.5 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Small**: 14px / 1.4 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Caption**: 12px / 1.3 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Text Hierarchy","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Page title: H1, centered or left-aligned","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Section headers: H2, left-aligned with 24px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Labels: Small, Text Secondary color, 8px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body text: Body size, Text Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Spacing System","heading":"Spacing System","text":"### Spacing System","url":"#/REQUIREMENTS.md?id=spacing-system","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use 4px base unit for consistent spacing","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XS**: 4px (tight spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **S**: 8px (small gaps)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **M**: 16px (default spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **L**: 24px (section spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XL**: 32px (large sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XXL**: 48px (major sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Component Specifications","heading":"Component Specifications","text":"### Component Specifications","url":"#/REQUIREMENTS.md?id=component-specifications","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Areas","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px dashed #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex, column, center, align-items center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (subtle highlight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Drag Over State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Primary Light)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border style: solid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Icon/Illustration**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 48px √ó 48px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Primary: \"Click to upload or drag and drop\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 4px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Subtext**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- \"JPG, PNG, WebP (max 10MB)\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **File Input**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hidden (display: none)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Triggered by container click","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Selected Image Preview (Preset/Selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6 (Gray 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 300px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image without cropping)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Label**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-left","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.7)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 0 0 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Selected Preset\" or \"Selected Selfie\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 36px √ó 36px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: √ó (close/delete, 20px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease, transform 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog before deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Result Image Display","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (Surface)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 600px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-row: span 2 (spans both preset and selfie rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image** (when result exists):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Empty State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: 64px √ó 64px, Gray 300","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered vertically and horizontally","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Gallery Grid (Preset/Selfie Selection)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max columns: 3 on desktop (fits in left column)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow-y: auto","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gallery Item**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Aspect ratio: 1:1 (square)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: transform 0.2s ease, border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selected State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border width: 3px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transform: scale(1.02)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: cover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button** (Gallery Item):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 24px √ó 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: √ó (close/delete, 14px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Opacity: 0 (hidden by default)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: opacity 0.2s ease, background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on gallery item): Opacity: 1","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog, prevent event propagation (don't select item)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Primary Button (Generate)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Default**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100% (on mobile), auto (on desktop)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #1D4ED8 (Primary Hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Disabled**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: not-allowed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Loading**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show spinner icon (16px) + text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable interaction","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Secondary Button (Reset/Clear)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #6B7280 (Text Secondary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Same padding and sizing as primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1FAE5 (Green 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #065F46 (Green 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ‚úì (checkmark)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FEE2E2 (Red 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #991B1B (Red 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ‚úï (cross)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Blue 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #1E40AF (Blue 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ‚Ñπ (info)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Loading Spinner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 9999","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text-align: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 40px √ó 40px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 3px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-top: 3px solid #2563EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Animation: spin 0.8s linear infinite","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 0 auto 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Confirmation Dialog","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10000","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Dialog Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 320px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Title**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: H2 (20px, 600 weight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Message**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Line-height: 1.5","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Button Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: flex-end","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Cancel Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Confirm Button** (Delete):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #EF4444 (Red 500)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #DC2626 (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - User Flow","heading":"User Flow","text":"### User Flow","url":"#/REQUIREMENTS.md?id=user-flow","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Flow: Generate Face Swap","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. **Select/Upload Preset** (left column, top)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" ‚Üí \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. **Select/Upload Selfie** (left column, bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" ‚Üí \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. **Generate Button Enabled**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Button changes from disabled to active","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both large previews visible in left column","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column shows empty state","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. **Click Generate**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay appears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button disabled","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Processing face swap...\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"5. **Result Display**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay disappears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image appears in large right column (spans both rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success message: \"Face swap completed\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result added to history gallery below","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Responsive Design","heading":"Responsive Design","text":"### Responsive Design","url":"#/REQUIREMENTS.md?id=responsive-design","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Breakpoints","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Mobile**: < 768px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single column layout (stack preset, selfie, result vertically)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full-width buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 2-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reduced padding (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Full width, normal height","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Tablet**: 768px - 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Standard padding (24px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Desktop**: > 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width container (1200px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Large display, spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Accessibility","heading":"Accessibility","text":"### Accessibility","url":"#/REQUIREMENTS.md?id=accessibility","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Keyboard Navigation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All interactive elements must be keyboard accessible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Tab order: Upload areas ‚Üí Gallery items ‚Üí Generate button ‚Üí Results","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enter/Space to activate buttons and select items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: 2px solid outline in Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Screen Readers","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All images must have alt text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Buttons must have descriptive labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status messages must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading states must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Visual Accessibility","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color contrast: Minimum 4.5:1 for text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: Clear and visible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error states: Use icons + text, not just color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Touch targets: Minimum 44px √ó 44px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Performance Considerations","heading":"Performance Considerations","text":"### Performance Considerations","url":"#/REQUIREMENTS.md?id=performance-considerations","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Lazy load gallery images (use loading=\"lazy\")","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Optimize images before upload (client-side compression if possible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show skeleton loaders while fetching data","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Debounce search/filter inputs if added later","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cache gallery images in browser","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error States","heading":"Error States","text":"### Error States","url":"#/REQUIREMENTS.md?id=error-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network error: \"Upload failed. Please check your connection and try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- File too large: \"File exceeds 10MB limit. Please choose a smaller file.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid format: \"Invalid file type. Please upload JPG, PNG, or WebP.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Duplicate: \"This image already exists. Using existing version.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Generation Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API error: \"Face swap failed. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Timeout: \"Request timed out. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid images: \"Could not process images. Please ensure both images contain faces.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Empty States","heading":"Empty States","text":"### Empty States","url":"#/REQUIREMENTS.md?id=empty-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Presets Gallery**: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Selfies Gallery**: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Results History**: \"No results yet. Generate your first face swap to see it here.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Display Empty**: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use subtle illustration or icon (48px, Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: Small, Text Secondary, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Backend API Endpoints","heading":"Backend API Endpoints","text":"## Backend API Endpoints","url":"#/REQUIREMENTS.md?id=backend-api-endpoints","level":2},{"title":"Face Swap AI - Requirements - Backend Database Schema","heading":"Backend Database Schema","text":"### Backend Database Schema","url":"#/REQUIREMENTS.md?id=backend-database-schema","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets` table: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `thumbnail_r2_key`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies` table: `id`, `image_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results` table: `id`, `preset_name`, `result_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Metadata (type, sub_category, gender, position) ƒë∆∞·ª£c l∆∞u trong R2 bucket path, kh√¥ng l∆∞u trong database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Thumbnails ƒë∆∞·ª£c l∆∞u trong c√πng row v·ªõi preset (same-row approach)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Endpoints","heading":"Endpoints","text":"### Endpoints","url":"#/REQUIREMENTS.md?id=endpoints","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/presets`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ presets: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset contains: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Query params: `include_thumbnails` (optional, default: false) - bao g·ªìm presets c√≥ thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Presets are stored as individual entries (no collections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/selfies`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ selfies: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie contains: `id`, `selfie_url` (full URL), `action`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selfies are stored as individual entries","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **L∆∞u √Ω**: `selfie_url` trong database ch·ªâ l∆∞u bucket key, API t·ª± ƒë·ªông assemble full URL t·ª´ `R2_DOMAIN` khi tr·∫£ v·ªÅ","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (preset ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find preset by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `presets` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Preset deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if preset not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (selfie ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find selfie by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `selfies` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Selfie deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if selfie not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/upload-url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Content-Type: `multipart/form-data` ho·∫∑c `application/json`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (multipart): `files` (file[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, ch·ªâ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (JSON): `image_url` ho·∫∑c `image_urls` (string[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, ch·ªâ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Upload file(s) to R2 storage","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. V·ªõi selfie:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Ch·ªâ v·ªõi `action=\"4k\"` ho·∫∑c `action=\"4K\"`**: Ki·ªÉm tra an to√†n b·∫±ng Vision API tr∆∞·ªõc khi l∆∞u v√†o database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **C√°c action kh√°c (nh∆∞ `\"faceswap\"`, `\"wedding\"`, `\"default\"`, v.v.)**: Kh√¥ng ki·ªÉm tra Vision API","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- T·ª± ƒë·ªông x√≥a ·∫£nh c≈© d·ª±a tr√™n action:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"faceswap\"`: T·ªëi ƒëa 8 ·∫£nh (c√≥ th·ªÉ c·∫•u h√¨nh qua `SELFIE_MAX_FACESWAP`), x√≥a ·∫£nh c≈© nh·∫•t khi v∆∞·ª£t qu√° gi·ªõi h·∫°n","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"wedding\"`: T·ªëi ƒëa 2 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_WEDDING`), x√≥a ·∫£nh c≈© nh·∫•t khi c√≥ >= 2 ·∫£nh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"4k\"` ho·∫∑c `\"4K\"`: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_4K`), x√≥a ·∫£nh c≈© khi c√≥ >= 1 ·∫£nh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Action kh√°c: T·ªëi ƒëa 1 ·∫£nh (c·∫•u h√¨nh qua `SELFIE_MAX_OTHER`), x√≥a ·∫£nh c≈© khi c√≥ >= 1 ·∫£nh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Insert record(s) v√†o database (`presets` ho·∫∑c `selfies` table) v·ªõi bucket key (kh√¥ng ph·∫£i full URL)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. V·ªõi preset: t·ª± ƒë·ªông generate Vertex prompt n·∫øu `enableVertexPrompt=true`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Response format: `{ data: { results: [...], count, successful, failed }, status, message, code, debug? }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- V·ªõi selfie: m·ªói result c√≥ th√™m field `action`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- H·ªó tr·ª£ upload nhi·ªÅu file c√πng l√∫c","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **L∆∞u √Ω**: `selfie_url` trong database ch·ªâ l∆∞u bucket key (v√≠ d·ª•: `\"selfie/filename.jpg\"`), API t·ª± ƒë·ªông assemble full URL khi tr·∫£ v·ªÅ","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/faceswap`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"preset_image_id\": \"preset_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"selfie_id\": \"selfie_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"profile_id\": \"user_profile_id\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"resultImageUrl\": \"result_url\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"status\": \"success\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"message\": \"Processing successful\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"code\": 200,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"debug\": {}","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/results`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ results: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result contains: `result_url`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Functionality","heading":"Frontend Functionality","text":"## Frontend Functionality","url":"#/REQUIREMENTS.md?id=frontend-functionality","level":2},{"title":"Face Swap AI - Requirements - Preset Section (Left Column, Top)","heading":"Preset Section (Left Column, Top)","text":"### Preset Section (Left Column, Top)","url":"#/REQUIREMENTS.md?id=preset-section-left-column-top","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one preset at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'preset'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and preset object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click preset to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected preset preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Preset**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this preset?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted preset was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Section (Left Column, Bottom)","heading":"Selfie Section (Left Column, Bottom)","text":"### Selfie Section (Left Column, Bottom)","url":"#/REQUIREMENTS.md?id=selfie-section-left-column-bottom","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Identical UI and functionality to Preset Upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one selfie at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'selfie'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and selfie object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click selfie to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected selfie preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Selfie**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this selfie?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted selfie was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Display (Right Column, Spans Both Rows)","heading":"Result Display (Right Column, Spans Both Rows)","text":"### Result Display (Right Column, Spans Both Rows)","url":"#/REQUIREMENTS.md?id=result-display-right-column-spans-both-rows","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large display area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\" with icon","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Max width/height 100%, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Updates automatically after successful generation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Face Swap Generation","heading":"Face Swap Generation","text":"### Face Swap Generation","url":"#/REQUIREMENTS.md?id=face-swap-generation","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button positioned below main workspace grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enabled when both preset and selfie are selected","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On click:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show loading spinner overlay","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable button","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/faceswap` with preset URL and selfie URL","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display result image in right column on success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show error message on failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload results history gallery after success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Results Display","heading":"Results Display","text":"### Results Display","url":"#/REQUIREMENTS.md?id=results-display","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display results in simple grid gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result card shows image and date","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Date formatted as Vietnamese locale","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Data Structures","heading":"Data Structures","text":"## Data Structures","url":"#/REQUIREMENTS.md?id=data-structures","level":2},{"title":"Face Swap AI - Requirements - Preset Object","heading":"Preset Object","text":"### Preset Object","url":"#/REQUIREMENTS.md?id=preset-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"prompt_json: object | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_url: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_format: 'webp' | 'lottie' | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_resolution: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Object","heading":"Selfie Object","text":"### Selfie Object","url":"#/REQUIREMENTS.md?id=selfie-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Object","heading":"Result Object","text":"### Result Object","url":"#/REQUIREMENTS.md?id=result-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"result_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string (ISO format)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - State Variables","heading":"State Variables","text":"## State Variables","url":"#/REQUIREMENTS.md?id=state-variables","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedPreset`: Currently selected preset object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedSelfie`: Currently selected selfie object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets`: Array of all preset objects (loaded from `/presets`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies`: Array of all selfie objects (loaded from `/selfies`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results`: Array of all result objects (loaded from `/results`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Elements","heading":"UI Elements","text":"## UI Elements","url":"#/REQUIREMENTS.md?id=ui-elements","level":2},{"title":"Face Swap AI - Requirements - Preset Gallery","heading":"Preset Gallery","text":"### Preset Gallery","url":"#/REQUIREMENTS.md?id=preset-gallery","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Simple grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each card: square aspect ratio, image only","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected state: border highlight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Status Messages","heading":"Status Messages","text":"### Status Messages","url":"#/REQUIREMENTS.md?id=status-messages","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success: Green color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error: Red color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading: Spinner animation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Image URL Handling","heading":"Image URL Handling","text":"## Image URL Handling","url":"#/REQUIREMENTS.md?id=image-url-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Database stores the final accessible URL directly in `image_url` field","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend constructs the correct R2 URL (e.g., `/r2/preset/filename.jpg` or full URL with worker domain) when uploading","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Frontend uses `image_url` from database directly - no conversion needed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- URLs are ready to use as-is for display and API calls","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error Handling","heading":"Error Handling","text":"## Error Handling","url":"#/REQUIREMENTS.md?id=error-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network errors: Show error message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API errors: Display error message from response","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Image load errors: Show placeholder","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Initialization","heading":"Initialization","text":"## Initialization","url":"#/REQUIREMENTS.md?id=initialization","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display loading placeholders while fetching","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show empty states if no data available","url":"#/REQUIREMENTS.md","level":0}];
    
    // Configure Docsify
    window.$docsify = {
      name: 'Face Swap AI API',
      repo: '',
      loadSidebar: true,
      subMaxLevel: 4,
      auto2top: true,
      homepage: 'API_TONG_QUAN_VI.md',
      coverpage: false,
      search: {
        maxAge: 86400000,
        paths: ["API_TONG_QUAN_VI.md","PROVIDER_ASPECT_RATIO.md","REQUIREMENTS.md"],
        placeholder: 'T√¨m ki·∫øm...',
        noData: 'Kh√¥ng t√¨m th·∫•y k·∫øt qu·∫£',
        depth: 6
      },
      notFoundPage: true,
      executeScript: true,
      pagination: {
        previousText: 'Tr∆∞·ªõc',
        nextText: 'Ti·∫øp',
        crossChapter: true,
        crossChapterText: true,
      },
      plugins: [
        function(hook, vm) {
          // Override sidebar loading
          hook.beforeEach(function(html) {
            return html;
          });
          
          hook.mounted(function() {
            // Inject sidebar content
            const sidebarEl = document.querySelector('.sidebar');
            if (sidebarEl && window.__staticSidebar) {
              // Docsify will load sidebar, but we can pre-populate it
            }
            
            // Ensure sidebar is expanded by default
            setTimeout(() => {
              const sidebar = document.querySelector('.sidebar');
              const app = document.querySelector('#app');
              if (sidebar && app) {
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.display = 'block';
                app.classList.remove('close');
              }
            }, 100);
          });
          
          // Override fetch to serve from embedded content
          const originalFetch = window.fetch;
          window.fetch = function(url, options) {
            if (typeof url === 'string') {
              // Handle markdown files
              if (url.endsWith('.md') || url.includes('.md')) {
                const fileName = url.split('/').pop().split('?')[0];
                if (window.__staticDocs[fileName]) {
                  return Promise.resolve(new Response(
                    window.__staticDocs[fileName],
                    { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                  ));
                }
              }
              // Handle sidebar
              if (url.includes('_sidebar.md') || url.endsWith('_sidebar')) {
                return Promise.resolve(new Response(
                  window.__staticSidebar,
                  { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                ));
              }
            }
            return originalFetch.apply(this, arguments);
          };
          
          // Inject search index when search plugin loads
          hook.doneEach(function() {
            if (window.Docsify && window.Docsify.util && window.__staticSearchIndex) {
              // Try to set search index
              setTimeout(() => {
                const searchPlugin = window.Docsify.dom.find('.search input');
                if (searchPlugin && !window.__searchIndexSet) {
                  // Store index globally for search plugin
                  window.DocsifySearchIndex = window.__staticSearchIndex;
                  window.__searchIndexSet = true;
                }
              }, 100);
            }
          });
        },
        // Custom search plugin that uses pre-generated index
        function(hook, vm) {
          hook.ready(function() {
            if (window.__staticSearchIndex) {
              // Override search functionality
              const searchInput = document.querySelector('.search input');
              if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                  const query = e.target.value.toLowerCase().trim();
                  if (query.length < 2) return;
                  
                  const results = window.__staticSearchIndex.filter(item => {
                    const searchText = (item.title + ' ' + item.text).toLowerCase();
                    return searchText.includes(query);
                  });
                  
                  // Display results (simplified - Docsify will handle UI)
                  console.log('Search results:', results.length);
                });
              }
            }
          });
        }
      ]
    };
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/pagination.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
</body>
</html>