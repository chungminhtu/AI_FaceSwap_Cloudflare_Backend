<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Face Swap AI - API Documentation</title>
  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/docsify@4/lib/themes/buble.css">
  <style>
    * {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    
    :root {
      --theme-color: #3b82f6;
      --theme-color-dark: #2563eb;
      --sidebar-width: 380px;
      --content-max-width: 95%;
    }
    
    body {
      font-family: 'Lexend Deca', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 400;
    }
    
    .app-name-link img {
      max-width: 200px;
    }
    
    .sidebar {
      background: #ffffff;
      border-right: 1px solid #e5e7eb;
      width: var(--sidebar-width) !important;
    }
    
    .sidebar-toggle {
      display: none !important;
    }
    
    @media (max-width: 768px) {
      .sidebar {
        width: var(--sidebar-width) !important;
        transform: translateX(0) !important;
      }
    }
    
    .sidebar ul li a {
      color: #374151;
      font-weight: 400;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .sidebar ul li a:hover {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
    }
    
    .sidebar ul li.active > a {
      color: var(--theme-color);
      background: rgba(59, 130, 246, 0.1);
      border-left: 3px solid var(--theme-color);
      font-weight: 500;
    }
    
    .markdown-section {
      max-width: var(--content-max-width) !important;
      width: var(--content-max-width) !important;
      padding: 2rem 3rem;
    }
    
    @media (min-width: 1400px) {
      .markdown-section {
        max-width: 1400px !important;
        width: 1400px !important;
      }
    }
    
    .markdown-section h1 {
      color: #1f2937;
      border-bottom: 2px solid var(--theme-color);
      padding-bottom: 10px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h2 {
      color: #374151;
      margin-top: 40px;
      font-weight: 600;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section h3 {
      color: #4b5563;
      margin-top: 30px;
      font-weight: 500;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .markdown-section p,
    .markdown-section li {
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 400;
      line-height: 1.7;
      color: #4b5563;
    }
    
    .markdown-section code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: #f3f4f6;
      color: #dc2626;
      padding: 2px 6px;
      border-radius: 4px;
      font-size: 0.9em;
      font-weight: 400;
    }
    
    .markdown-section pre {
      background: #1f2937;
      border-left: 4px solid var(--theme-color);
      border-radius: 6px;
      padding: 1.5rem;
      overflow-x: auto;
    }
    
    .markdown-section pre code {
      font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace !important;
      background: transparent;
      color: #e5e7eb;
      padding: 0;
      font-size: 0.9em;
      font-weight: 400;
      line-height: 1.6;
    }
    
    .markdown-section blockquote {
      border-left: 4px solid var(--theme-color);
      background: rgba(59, 130, 246, 0.05);
      padding: 1rem 1.5rem;
      margin: 1.5rem 0;
      border-radius: 4px;
    }
    
    .markdown-section blockquote p {
      color: #4b5563;
      margin: 0;
    }
    
    .app-name {
      font-size: 24px;
      font-weight: 600;
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
    }
    
    .cover {
      background: linear-gradient(135deg, #eff6ff 0%, #dbeafe 50%, #bfdbfe 100%);
    }
    
    .cover-main {
      color: #1f2937;
    }
    
    .cover-main h1 {
      color: var(--theme-color);
      font-family: 'Lexend Deca', sans-serif;
      font-weight: 600;
    }
    
    .cover-main p {
      color: #4b5563;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    
    table th,
    table td {
      padding: 0.75rem;
      border: 1px solid #e5e7eb;
      text-align: left;
      font-family: 'Lexend Deca', sans-serif;
    }
    
    table th {
      background: #f9fafb;
      font-weight: 600;
      color: #374151;
    }
    
    table tr:hover {
      background: #f9fafb;
    }
    
    .search input {
      font-family: 'Lexend Deca', sans-serif;
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  
  <script>
    // Embedded markdown content
    window.__staticDocs = {
      'API_TONG_QUAN_VI.md': `# Tổng quan API Face Swap AI

Tài liệu này mô tả đầy đủ các điểm cuối (endpoint) mà Cloudflare Worker cung cấp. Base URL: \`https://api.d.shotpix.app\`

## Cấu hình và Prompts

Tất cả các prompts và cấu hình API đã được tập trung vào file \`config.ts\` để dễ dàng quản lý và thay đổi. Xem thêm tài liệu chi tiết tại \`backend-cloudflare-workers/CONFIG_DOCUMENTATION.md\`.

**Các cấu hình chính:**
- **API Prompts**: Facial preservation, merge prompts, vertex generation prompts
- **Model Config**: Model mappings và default values
- **Aspect Ratios**: Danh sách aspect ratios được hỗ trợ
- **Timeouts**: Cấu hình timeout cho các request
- **API Config**: Temperature, tokens, safety settings cho image generation

## 1. POST \`/faceswap\`

### Mục đích
Thực hiện face swap giữa ảnh preset và ảnh selfie sử dụng Vertex AI (luôn dùng chế độ Vertex). Hỗ trợ multiple selfies để tạo composite results (ví dụ: wedding photos với cả male và female).

### Nội dung yêu cầu

**Ví dụ 1: Sử dụng selfie_ids (từ database)**
\`\`\`json
{
  "preset_image_id": "preset_1234567890_abc123",
  "selfie_ids": ["selfie_1234567890_xyz789"],
  "profile_id": "profile_1234567890",
  "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
  "character_gender": "male",
  "aspect_ratio": "16:9"
}
\`\`\`

**Ví dụ 2: Sử dụng selfie_image_urls (URL trực tiếp)**
\`\`\`json
{
  "preset_image_id": "preset_1234567890_abc123",
  "selfie_image_urls": ["https://example.com/selfie1.jpg", "https://example.com/selfie2.jpg"],
  "profile_id": "profile_1234567890",
  "additional_prompt": "Add dramatic lighting and cinematic atmosphere",
  "character_gender": "male",
  "aspect_ratio": "16:9"
}
\`\`\`

**Các trường:**
- \`preset_image_id\` (string, bắt buộc): ID ảnh preset đã lưu trong cơ sở dữ liệu (format: \`preset_...\`).
- \`selfie_ids\` (array of strings, tùy chọn): Mảng các ID ảnh selfie đã lưu trong cơ sở dữ liệu (hỗ trợ multiple selfies). Thứ tự: [selfie_chính, selfie_phụ] - selfie đầu tiên sẽ được face swap vào preset, selfie thứ hai (nếu có) sẽ được sử dụng làm tham chiếu bổ sung.
- \`selfie_image_urls\` (array of strings, tùy chọn): Mảng các URL ảnh selfie trực tiếp (thay thế cho \`selfie_ids\`). Hỗ trợ multiple selfies. **Lưu ý**: Phải cung cấp \`selfie_ids\` HOẶC \`selfie_image_urls\` (không phải cả hai).
- \`profile_id\` (string, bắt buộc): ID profile người dùng.
- \`additional_prompt\` (string, tùy chọn): câu mô tả bổ sung, được nối vào cuối trường \`prompt\` bằng ký tự \`+\`.
- \`character_gender\` (string, tùy chọn): \`male\`, \`female\` hoặc bỏ trống. Nếu truyền, hệ thống chèn mô tả giới tính tương ứng vào cuối \`prompt\`.
- \`aspect_ratio\` (string, tùy chọn): Tỷ lệ khung hình. Các giá trị hỗ trợ: \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. Mặc định: \`"1:1"\`. (Cấu hình trong \`config.ts\`: \`ASPECT_RATIO_CONFIG\`)

**Lưu ý về prompt generation:**
- Nếu preset đã có \`prompt_json\` trong database, hệ thống sẽ sử dụng prompt đó.
- Nếu preset chưa có \`prompt_json\`, hệ thống sẽ tự động tạo prompt bằng Vertex AI và lưu vào database để sử dụng cho các lần sau.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
      "sourceUrls": [
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg",
        "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg"
      ]
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
      "debug": {
        "endpoint": "https://...",
        "status": 200,
        "durationMs": 843
      }
    },
    "vertex": {
      "prompt": { "...": "..." },
      "debug": {
        "endpoint": "https://.../generateContent",
        "status": 200,
        "durationMs": 5180,
        "requestPayload": {
          "promptLength": 746,
          "imageBytes": 921344
        }
      }
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_..."
    }
  }
}
\`\`\`

### Phản hồi lỗi

**Lưu ý quan trọng về bảo mật:**
- Tất cả lỗi 400 (Bad Request) và 500 (Internal Server Error) chỉ trả về message chung: \`"Bad Request"\` hoặc \`"Internal Server Error"\`
- Thông tin chi tiết về lỗi chỉ có trong property \`debug\` (chỉ khi \`DEBUG\` env var được bật)
- Trong production, \`debug\` property sẽ bị tắt để bảo mật

- Lỗi kiểm duyệt (Google Vision) trả về HTTP 422:

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Content blocked: Image contains adult content (VERY_LIKELY)",
  "code": 422,
  "debug": {
    "provider": { "...": "..." },
    "vision": {
      "checked": true,
      "isSafe": false,
      "violationCategory": "adult",
      "violationLevel": "VERY_LIKELY",
      "debug": {
        "endpoint": "https://vision.googleapis.com/v1/images:annotate",
        "status": 200
      }
    }
  }
}
\`\`\`

- Lỗi 400 (Bad Request):

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Bad Request",
  "code": 400,
  "debug": {
    "error": "Detailed error information here",
    "path": "/faceswap"
  }
}
\`\`\`

- Lỗi 500 (Internal Server Error):

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Internal Server Error",
  "code": 500,
  "debug": {
    "error": "Detailed error information here",
    "path": "/faceswap",
    "stack": "Stack trace (truncated)"
  }
}
\`\`\`

- Các lỗi khác (RapidAPI, Vertex, lưu trữ...) trả về HTTP tương ứng với thông tin chi tiết trong \`debug.provider.debug\` hoặc \`debug.vertex.debug\`.



## 2. POST \`/removeBackground\`

### Mục đích
Xóa nền của ảnh selfie, giữ lại người với transparent background sử dụng Vertex AI. Kết quả là ảnh người không có nền, sẵn sàng để sử dụng.

### Nội dung yêu cầu

**Ví dụ 1: Sử dụng selfie_id (từ database)**
\`\`\`json
{
  "preset_image_id": "preset_1234567890_abc123",
  "selfie_id": "selfie_1234567890_xyz789",
  "profile_id": "profile_1234567890",
  "additional_prompt": "Make the person look happy and relaxed",
  "aspect_ratio": "16:9"
}
\`\`\`

**Ví dụ 2: Sử dụng selfie_image_url (URL trực tiếp)**
\`\`\`json
{
  "preset_image_id": "preset_1234567890_abc123",
  "selfie_image_url": "https://example.com/selfie.png",
  "profile_id": "profile_1234567890",
  "additional_prompt": "Make the person look happy and relaxed",
  "aspect_ratio": "16:9"
}
\`\`\`

**Các trường:**
- \`preset_image_id\` (string, bắt buộc): ID ảnh preset (landscape scene) đã lưu trong cơ sở dữ liệu (format: \`preset_...\`).
- \`selfie_id\` (string, tùy chọn): ID ảnh selfie đã lưu trong cơ sở dữ liệu (người có transparent background). **Lưu ý**: Phải cung cấp \`selfie_id\` HOẶC \`selfie_image_url\` (không phải cả hai).
- \`selfie_image_url\` (string, tùy chọn): URL ảnh selfie trực tiếp (thay thế cho \`selfie_id\`). Ảnh phải có transparent background sẵn.
- \`profile_id\` (string, bắt buộc): ID profile người dùng.
- \`additional_prompt\` (string, tùy chọn): Câu mô tả bổ sung cho việc xóa nền (ví dụ: "Make the person look happy", "Adjust lighting to match sunset").
- \`aspect_ratio\` (string, tùy chọn): Tỷ lệ khung hình. Các giá trị hỗ trợ: \`"1:1"\`, \`"3:2"\`, \`"2:3"\`, \`"3:4"\`, \`"4:3"\`, \`"4:5"\`, \`"5:4"\`, \`"9:16"\`, \`"16:9"\`, \`"21:9"\`. Mặc định: \`"1:1"\`. (Cấu hình trong \`config.ts\`: \`ASPECT_RATIO_CONFIG\`)

**Lưu ý về merge:**
- API sẽ gửi cả 2 ảnh (selfie và preset) trực tiếp đến Vertex AI cùng với prompt hướng dẫn merge.
- Khuôn mặt sẽ được giữ nguyên (có thể enhance nhẹ để match lighting của scene).
- Tư thế sẽ được điều chỉnh tự nhiên để phù hợp với scene.
- Nếu scene có người khác, sẽ blend tự nhiên (ví dụ: như đang chụp ảnh cùng nhau).

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "request": {
      "targetUrl": "https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg",
      "selfieUrl": "https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png"
    },
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Processing successful",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "vision": {
      "checked": false,
      "isSafe": true,
      "error": "Safety check skipped for Vertex AI mode"
    },
    "storage": {
      "attemptedDownload": true,
      "downloadStatus": 200,
      "savedToR2": true,
      "r2Key": "results/result_123.jpg",
      "publicUrl": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg"
    },
    "database": {
      "attempted": true,
      "success": true,
      "resultId": "result_1234567890_abc123"
    }
  }
}
\`\`\`

### Phản hồi lỗi

- Lỗi validation: HTTP 400 với message \`"Bad Request"\` nếu thiếu \`preset_image_id\`, \`profile_id\`, hoặc cả \`selfie_id\` và \`selfie_image_url\`. Chi tiết trong \`debug\`.
- Lỗi không tìm thấy: HTTP 404 nếu preset hoặc selfie không tồn tại.
- Lỗi merge: HTTP 500 với message \`"Internal Server Error"\`. Thông tin chi tiết trong \`debug.provider\`.



## 3. POST \`/enhance\`

### Mục đích
AI enhance ảnh - cải thiện chất lượng, độ sáng, độ tương phản và chi tiết của ảnh.

### Nội dung yêu cầu

\`\`\`json
{
  "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
  "profile_id": "profile_1234567890"
}
\`\`\`

**Các trường:**
- \`image_url\` (string, bắt buộc): URL ảnh cần enhance.
- \`profile_id\` (string, bắt buộc): ID profile người dùng.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg"
  },
  "status": "success",
  "message": "Image enhancement completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Enhancement completed"
    }
  }
}
\`\`\`

## 3. POST \`/colorize\`

### Mục đích
AI chuyển đổi ảnh đen trắng thành ảnh màu.

### Nội dung yêu cầu

\`\`\`json
{
  "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
  "profile_id": "profile_1234567890"
}
\`\`\`

**Các trường:**
- \`image_url\` (string, bắt buộc): URL ảnh đen trắng cần chuyển thành màu.
- \`profile_id\` (string, bắt buộc): ID profile người dùng.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/colorize_123.jpg"
  },
  "status": "success",
  "message": "Colorization completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Colorization completed"
    }
  }
}
\`\`\`

## 4. POST \`/aging\`

### Mục đích
AI lão hóa khuôn mặt - tạo phiên bản già hơn của khuôn mặt trong ảnh.

### Nội dung yêu cầu

\`\`\`json
{
  "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
  "age_years": 20,
  "profile_id": "profile_1234567890"
}
\`\`\`

**Các trường:**
- \`image_url\` (string, bắt buộc): URL ảnh chứa khuôn mặt cần lão hóa.
- \`age_years\` (number, tùy chọn): Số năm muốn lão hóa (mặc định: 20).
- \`profile_id\` (string, bắt buộc): ID profile người dùng.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg"
  },
  "status": "success",
  "message": "Aging transformation completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Aging completed"
    }
  }
}
\`\`\`

## 5. POST \`/upscaler4k\`

### Mục đích
Upscale ảnh lên độ phân giải 4K sử dụng WaveSpeed AI.

### Nội dung yêu cầu

\`\`\`json
{
  "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
  "profile_id": "profile_1234567890"
}
\`\`\`

**Các trường:**
- \`image_url\` (string, bắt buộc): URL ảnh cần upscale.
- \`profile_id\` (string, bắt buộc): ID profile người dùng.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "id": "result_1234567890_abc123",
    "resultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
  },
  "status": "success",
  "message": "Upscaling completed",
  "code": 200,
  "debug": {
    "provider": {
      "success": true,
      "statusCode": 200,
      "message": "Upscaler4K image upscaling completed",
      "finalResultImageUrl": "https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg"
    },
    "vertex": {
      "debug": {
        "endpoint": "https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler",
        "status": 200,
        "durationMs": 5000
      }
    },
    "inputSafety": {
      "checked": true,
      "isSafe": true
    },
    "outputSafety": {
      "checked": true,
      "isSafe": true
    }
  }
}
\`\`\`

### Phản hồi lỗi
- HTTP 400 với message \`"Bad Request"\` nếu ảnh input không pass safety check. Chi tiết trong \`debug.inputSafety\`.
- HTTP 400 với message \`"Bad Request"\` nếu ảnh output không pass safety check. Chi tiết trong \`debug.outputSafety\`.
- HTTP 500 với message \`"Internal Server Error"\` nếu có lỗi từ WaveSpeed API. Chi tiết trong \`debug.provider\`.


## 6. POST \`/upload-url\`

### Mục đích
Tải ảnh trực tiếp lên server và lưu vào cơ sở dữ liệu với xử lý tự động (Vision scan, Vertex prompt generation).

### Nội dung yêu cầu (multipart/form-data)

**Ví dụ với cURL (multipart/form-data):**
\`\`\`bash
curl -X POST https://api.d.shotpix.app/upload-url \\
  -F "files=@/path/to/image1.jpg" \\
  -F "files=@/path/to/image2.jpg" \\
  -F "type=preset" \\
  -F "profile_id=profile_1234567890" \\
  -F "enableVertexPrompt=true"
\`\`\`

**Ví dụ với JavaScript (FormData) - Upload selfie với action:**
\`\`\`javascript
const formData = new FormData();
formData.append('files', fileInput.files[0]);
formData.append('type', 'selfie');
formData.append('profile_id', 'profile_1234567890');
formData.append('action', 'faceswap'); // Tùy chọn: 'faceswap' hoặc action khác
\`\`\`

**Ví dụ với JSON (image_url):**
\`\`\`json
{
  "image_url": "https://example.com/image.jpg",
  "type": "preset",
  "profile_id": "profile_1234567890",
  "enableVertexPrompt": true
}
\`\`\`

**Ví dụ với JSON - Upload selfie với action:**
\`\`\`json
{
  "image_url": "https://example.com/selfie.jpg",
  "type": "selfie",
  "profile_id": "profile_1234567890",
  "action": "faceswap"
}
\`\`\`

**Các trường:**
- \`files\` (file[], bắt buộc nếu dùng multipart): Mảng file ảnh cần upload (hỗ trợ nhiều file).
- \`image_url\` hoặc \`image_urls\` (string/string[], bắt buộc nếu dùng JSON): URL ảnh trực tiếp.
- \`type\` (string, bắt buộc): \`preset\` hoặc \`selfie\`.
- \`profile_id\` (string, bắt buộc): ID profile người dùng.
- \`enableVertexPrompt\` (boolean/string, tùy chọn): \`true\` hoặc \`"true"\` để bật tạo prompt Vertex khi upload preset.
- \`action\` (string, tùy chọn, chỉ áp dụng cho \`type=selfie\`): Loại action của selfie. Mặc định: \`"default"\`. 
  - \`"faceswap"\`: Tối đa 4 ảnh, tự động xóa ảnh cũ khi upload ảnh mới (giữ lại 3 ảnh mới nhất).
  - Các action khác: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới.

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "preset_1234567890_abc123",
        "url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "vertex": [
      {
        "hasPrompt": true,
        "prompt_json": {
          "prompt": "...",
          "style": "...",
          "lighting": "..."
        },
        "vertex_info": {
          "success": true,
          "promptKeys": ["prompt", "style", "lighting"],
          "debug": {
            "endpoint": "https://.../generateContent",
            "status": 200,
            "responseTimeMs": 4200
          }
        }
      }
    ],
    "filesProcessed": 1,
    "resultsCount": 1
  }
}
\`\`\`

**Phản hồi khi upload selfie:**
\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "selfie_1234567890_xyz789",
        "url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "filename": "example.jpg"
      }
    ],
    "count": 1,
    "successful": 1,
    "failed": 0
  },
  "status": "success",
  "message": "Processing successful",
  "code": 200,
  "debug": {
    "filesProcessed": 1,
    "resultsCount": 1
  }
}
\`\`\`

**Lưu ý:**
- \`action\` không có trong response (chỉ lưu trong database)
- \`debug.vertex\` chỉ có khi upload preset với \`enableVertexPrompt=true\` và \`DEBUG=true\`
- \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

**Lưu ý về auto-delete:**
- Khi upload selfie với \`action="faceswap"\`: Hệ thống tự động xóa ảnh cũ nếu đã có 4 ảnh, giữ lại 3 ảnh mới nhất.
- Khi upload selfie với action khác: Hệ thống tự động xóa ảnh cũ nếu đã có 1 ảnh, chỉ giữ ảnh mới nhất.
- Việc xóa được thực hiện tự động trước khi insert ảnh mới vào database.

### Phản hồi lỗi

\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Internal Server Error",
  "code": 500,
  "debug": {
    "error": "Detailed error information here",
    "path": "/upload-url",
    "stack": "Stack trace (truncated)"
  }
}
\`\`\`

**Lưu ý:** Message chỉ hiển thị \`"Internal Server Error"\` hoặc \`"Bad Request"\` cho lỗi 400/500. Chi tiết chỉ có trong \`debug\` property.

**Lưu ý:**
- Khi upload nhiều file, mảng \`results\` sẽ chứa nhiều phần tử
- Mỗi phần tử trong \`results\` có \`id\`, \`url\`, \`filename\`
- Với preset: thông tin Vertex AI (\`hasPrompt\`, \`prompt_json\`, \`vertex_info\`) được đặt trong \`debug.vertex\` (chỉ khi bật \`enableVertexPrompt\` và \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`)
- Với selfie: chỉ có \`id\`, \`url\`, \`filename\`
- Response format được chuẩn hóa: \`{ data, status, message, code, debug? }\`
- \`debug\` property chỉ xuất hiện khi \`DEBUG\` env var được bật (giống như faceswap API)

## 7. GET \`/presets\`

### Mục đích
Trả về danh sách preset trong cơ sở dữ liệu.

### Query Parameters

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/presets
GET https://api.d.shotpix.app/presets?include_thumbnails=true
\`\`\`

- \`include_thumbnails\` (tùy chọn): \`true\` để bao gồm cả presets có thumbnail. Mặc định chỉ trả về presets không có thumbnail.

### Phản hồi

\`\`\`json
{
  "data": {
    "presets": [
      {
        "id": "preset_1234567890_abc123",
        "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
        "hasPrompt": true,
        "prompt_json": null,
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
        "thumbnail_format": "webp",
        "thumbnail_resolution": "1x",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Presets retrieved successfully",
  "code": 200,
  "debug": {
    "count": 1
  }
}
\`\`\`

**Lưu ý:**
- \`prompt_json\` luôn là \`null\` trong list view (chỉ có trong detail view GET \`/presets/{id}\`)
- \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\` chỉ có khi preset có thumbnail
- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database
- \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 8. GET \`/presets/{id}\`

### Mục đích
Lấy thông tin chi tiết của một preset theo ID (bao gồm \`prompt_json\`).

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": {
    "id": "preset_1234567890_abc123",
    "preset_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "image_url": "https://resources.d.shotpix.app/faceswap-images/preset/example.jpg",
    "hasPrompt": true,
    "prompt_json": {
      "prompt": "...",
      "style": "...",
      "lighting": "..."
    },
    "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
    "thumbnail_format": "webp",
    "thumbnail_resolution": "1x",
    "created_at": 1704067200
  },
  "status": "success",
  "message": "Preset retrieved successfully",
  "code": 200,
  "debug": {
    "presetId": "preset_1234567890_abc123",
    "hasPrompt": true
  }
}
\`\`\`

**Lưu ý:**
- \`prompt_json\` chỉ có trong detail view (GET \`/presets/{id}\`), không có trong list view (GET \`/presets\`)
- \`created_at\` trả về dạng Unix timestamp (number), không phải ISO string
- \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\` chỉ có khi preset có thumbnail
- \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 9. DELETE \`/presets/{id}\`

### Mục đích
Xóa preset khỏi D1 và R2.

**Ví dụ:**
\`\`\`
DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Preset deleted successfully",
  "code": 200
}
\`\`\`

## 10. GET \`/selfies\`

### Mục đích
Trả về tối đa 50 selfie gần nhất của một profile.

### Query Parameters

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/selfies?profile_id=profile_1234567890
\`\`\`

- \`profile_id\` (bắt buộc): ID profile.

### Phản hồi

\`\`\`json
{
  "data": {
    "selfies": [
      {
        "id": "selfie_1234567890_xyz789",
        "selfie_url": "https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg",
        "action": "faceswap",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Selfies retrieved successfully",
  "code": 200
}
\`\`\`

**Các trường:**
- \`id\` (string): ID của selfie.
- \`selfie_url\` (string): URL đầy đủ của ảnh selfie (tự động được assemble từ bucket key và R2_DOMAIN).
- \`action\` (string | null): Loại action của selfie (ví dụ: \`"faceswap"\`, \`"default"\`, hoặc \`null\` nếu chưa được set).
- \`created_at\` (string): Thời gian tạo selfie (ISO 8601 format).

**Lưu ý:**
- \`selfie_url\` trong database chỉ lưu bucket key (ví dụ: \`"selfie/filename.jpg"\`), không lưu full URL.
- API tự động assemble full URL từ \`R2_DOMAIN\` environment variable khi trả về response.

## 11. DELETE \`/selfies/{id}\`

### Mục đích
Xóa selfie khỏi D1 và R2.

**Ví dụ:**
\`\`\`
DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Selfie deleted successfully",
  "code": 200,
  "debug": {
    "selfieId": "selfie_1234567890_xyz789",
    "r2Deleted": true,
    "r2Error": null
  }
}
\`\`\`

**Lưu ý:** \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 12. GET \`/results\`

### Mục đích
Trả về tối đa 50 kết quả face swap gần nhất.

### Query Parameters

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/results
GET https://api.d.shotpix.app/results?profile_id=profile_1234567890
\`\`\`

- \`profile_id\` (tùy chọn): ID profile để lọc kết quả.

### Phản hồi

\`\`\`json
{
  "data": {
    "results": [
      {
        "id": "result_1234567890_abc123",
        "result_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "image_url": "https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg",
        "profile_id": "profile_1234567890",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Results retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** Không có field \`preset_name\` trong response

## 13. DELETE \`/results/{id}\`

### Mục đích
Xóa kết quả khỏi D1 và R2.

**Ví dụ:**
\`\`\`
DELETE https://api.d.shotpix.app/results/result_1234567890_abc123
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": null,
  "status": "success",
  "message": "Result deleted successfully",
  "code": 200,
  "debug": {
    "resultId": "result_1234567890_abc123",
    "databaseDeleted": 1,
    "r2Deleted": true,
    "r2Key": "results/result_123.jpg",
    "r2Error": null
  }
}
\`\`\`

**Lưu ý:** \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 14. POST \`/profiles\`

### Mục đích
Tạo profile mới.

### Nội dung yêu cầu

**Ví dụ tối thiểu (chỉ cần device_id):**
\`\`\`json
{
  "device_id": "device_1765774126587_yaq0uh6rvz"
}
\`\`\`

**Hoặc có thể gửi đầy đủ thông tin:**
\`\`\`json
{
  "device_id": "device_1765774126587_yaq0uh6rvz",
  "userID": "profile_1234567890",
  "name": "John Doe",
  "email": "john@example.com",
  "avatar_url": "https://example.com/avatar.jpg",
  "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}"
}
\`\`\`

**Hoặc có thể gửi preferences dạng object (sẽ tự động chuyển thành JSON string):**
\`\`\`json
{
  "device_id": "device_1765774126587_yaq0uh6rvz",
  "name": "John Doe",
  "email": "john@example.com",
  "avatar_url": "https://example.com/avatar.jpg",
  "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}"
}
\`\`\`

**Các trường:**
- \`device_id\` (string, tùy chọn): ID thiết bị. Có thể gửi trong body hoặc header \`x-device-id\`. Nếu không có, sẽ là \`null\`.
- \`userID\` hoặc \`id\` (string, tùy chọn): ID profile. Nếu không có, hệ thống tự tạo bằng \`nanoid(16)\`.
- \`name\` (string, tùy chọn): tên profile.
- \`email\` (string, tùy chọn): email.
- \`avatar_url\` (string, tùy chọn): URL avatar.
- \`preferences\` (string hoặc object, tùy chọn): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trước khi lưu vào D1 database (vì D1 không hỗ trợ JSON object trực tiếp).

**Lưu ý:**
- \`device_id\` có thể được gửi qua header \`x-device-id\` thay vì trong body
- Nếu không có \`userID\` hoặc \`id\`, hệ thống tự động tạo profile ID mới
- Tất cả các trường ngoài \`device_id\` đều là tùy chọn

### Phản hồi

\`\`\`json
{
  "id": "profile_...",
  "name": "John Doe",
  "email": "john@example.com",
  "avatar_url": "https://...",
  "preferences": { "...": "..." },
  "created_at": "2024-01-01T00:00:00.000Z",
  "updated_at": "2024-01-01T00:00:00.000Z"
}
\`\`\`

## 15. GET \`/profiles/{id}\`

### Mục đích
Lấy thông tin profile theo ID.

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/profiles/profile_1234567890
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe",
    "email": "john@example.com",
    "avatar_url": "https://example.com/avatar.jpg",
    "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T04:48:47.676Z"
  },
  "status": "success",
  "message": "Profile retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** 
- \`name\`, \`email\`, \`avatar_url\`, \`preferences\` chỉ có nếu đã được lưu trong database
- \`preferences\` trả về dạng JSON string (từ database, không phải object)
- \`device_id\` có thể là \`undefined\` nếu không được set

## 16. PUT \`/profiles/{id}\`

### Mục đích
Cập nhật thông tin profile.

### Nội dung yêu cầu

\`\`\`json
{
  "name": "John Doe Updated",
  "email": "john.updated@example.com",
  "avatar_url": "https://example.com/new-avatar.jpg",
  "preferences": {
    "theme": "light",
    "language": "en"
  }
}
\`\`\`

**Hoặc có thể gửi preferences dạng object (sẽ tự động chuyển thành JSON string):**

\`\`\`json
{
  "name": "John Doe Updated",
  "email": "john.updated@example.com",
  "avatar_url": "https://example.com/new-avatar.jpg",
  "preferences": {
    "theme": "light",
    "language": "en"
  }
}
\`\`\`

**Ví dụ:**
\`\`\`
PUT https://api.d.shotpix.app/profiles/profile_1234567890
\`\`\`

**Các trường:**
- \`name\` (string, tùy chọn): tên profile.
- \`email\` (string, tùy chọn): email.
- \`avatar_url\` (string, tùy chọn): URL avatar.
- \`preferences\` (string hoặc object, tùy chọn): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trước khi lưu vào D1 database (vì D1 không hỗ trợ JSON object trực tiếp).

### Phản hồi

\`\`\`json
{
  "data": {
    "id": "uYNgRR70Ry9OFuMV",
    "device_id": "device_1765774126587_yaq0uh6rvz",
    "name": "John Doe Updated",
    "email": "john.updated@example.com",
    "avatar_url": "https://example.com/new-avatar.jpg",
    "preferences": "{\\"theme\\":\\"light\\",\\"language\\":\\"en\\"}",
    "created_at": "2025-12-15T04:48:47.676Z",
    "updated_at": "2025-12-15T05:00:00.000Z"
  },
  "status": "success",
  "message": "Profile updated successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** 
- Format giống GET \`/profiles/{id}\`
- \`preferences\` trả về dạng JSON string (từ database, không phải object)
- \`device_id\` có thể là \`undefined\` nếu không được set
- \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 17. GET \`/profiles\`

### Mục đích
Liệt kê tất cả profiles (dùng cho admin/debugging).

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/profiles
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": {
    "profiles": [
      {
        "id": "uYNgRR70Ry9OFuMV",
        "device_id": "device_1765774126587_yaq0uh6rvz",
        "name": "John Doe",
        "email": "john@example.com",
        "avatar_url": "https://example.com/avatar.jpg",
        "preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}",
        "created_at": "2025-12-15T04:48:47.676Z",
        "updated_at": "2025-12-15T04:48:47.676Z"
      }
    ]
  },
  "status": "success",
  "message": "Profiles retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** 
- \`preferences\` trả về dạng JSON string (không phải object)
- Tất cả fields có thể là \`undefined\` nếu không được set

## 18. GET \`/config\`

### Mục đích
Lấy cấu hình public của Worker (custom domains).

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/config
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": {
    "backendDomain": "https://api.d.shotpix.app",
    "r2Domain": "https://resources.d.shotpix.app",
    "kvCache": {
      "available": true,
      "test": "success",
      "details": {
        "bindingName": "PROMPT_CACHE_KV",
        "envKeys": ["PROMPT_CACHE_KV_BINDING_NAME", "..."]
      }
    }
  },
  "status": "success",
  "message": "Config retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:**
- \`kvCache\` chỉ có khi KV cache được cấu hình
- \`kvCache.details\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 19. OPTIONS \`/*\`

### Mục đích
Xử lý CORS preflight requests cho tất cả các endpoints. Tự động được gọi bởi trình duyệt khi thực hiện cross-origin requests.

### Phản hồi

Trả về HTTP 204 (No Content) với các headers CORS:
- \`Access-Control-Allow-Origin\`: Cho phép tất cả origins
- \`Access-Control-Allow-Methods\`: GET, POST, PUT, DELETE, OPTIONS
- \`Access-Control-Allow-Headers\`: Content-Type, Authorization, và các headers khác
- \`Access-Control-Max-Age\`: 86400 (24 giờ)

**Lưu ý đặc biệt:**
- Endpoint \`/upload-proxy/*\` có hỗ trợ thêm method PUT trong CORS headers.

---

## 20. POST \`/upload-thumbnails\`

### Mục đích
Tải lên thư mục chứa thumbnails (WebP và Lottie JSON) và original presets. Hỗ trợ batch upload nhiều file cùng lúc.

### Nội dung yêu cầu (multipart/form-data)

**Cấu trúc thư mục:**
\`\`\`
/webp_1x/face-swap/wedding_both_1.webp
/webp_1.5x/face-swap/portrait_female_1.webp
/lottie_1x/packs/autum_male_1.json
/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp
\`\`\`

**Ví dụ với JavaScript (FormData):**
\`\`\`javascript
const formData = new FormData();
// Append files với path prefix
formData.append('files', file1);
formData.append('path_webp_1x_face-swap_wedding_both_1.webp', 'webp_1x/face-swap/');
formData.append('files', file2);
formData.append('path_original_preset_face-swap_wedding_both_1.webp', 'original_preset/face-swap/wedding_both_1/webp/');
\`\`\`

**Quy tắc đặt tên file:**
- Format: \`[type]_[sub_category]_[gender]_[position].[webp|json]\`
- Ví dụ: \`face-swap_wedding_both_1.webp\`
- Type có thể chứa dấu gạch ngang (face-swap, packs, filters)
- Metadata được parse từ tên file và lưu trong R2 path

### Phản hồi thành công

\`\`\`json
{
  "data": {
    "total": 2,
    "successful": 2,
    "failed": 0,
    "presets_created": 1,
    "thumbnails_created": 1,
    "results": [
      {
        "filename": "face-swap_wedding_both_1.webp",
        "success": true,
        "type": "preset",
        "preset_id": "preset_1234567890_abc123",
        "url": "https://resources.d.shotpix.app/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp"
      },
      {
        "filename": "wedding_both_1.webp",
        "success": true,
        "type": "thumbnail",
        "preset_id": "preset_1234567890_abc123",
        "url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
        "metadata": {
          "format": "webp",
          "resolution": "1x"
        }
      }
    ]
  },
  "status": "success",
  "message": "Processed 2 of 2 files",
  "code": 200,
  "debug": {
    "filesProcessed": 2,
    "resultsCount": 2
  }
}
\`\`\`

**Lưu ý:**
- \`total\` = tổng số files
- \`presets_created\` = số preset mới được tạo
- \`thumbnails_created\` = số thumbnail mới được tạo
- Original presets được tạo record trong database
- Thumbnails được UPDATE vào cùng row với preset (same-row approach)
- R2 path structure: \`[format]_[resolution]/[type]/[remaining_filename]\`
- \`debug\` chỉ có khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`

## 21. GET \`/thumbnails\`

### Mục đích
Lấy danh sách thumbnails từ database.

### Query Parameters

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/thumbnails
GET https://api.d.shotpix.app/thumbnails?thumbnail_format=webp
GET https://api.d.shotpix.app/thumbnails?thumbnail_resolution=1x
\`\`\`

- \`thumbnail_format\` (tùy chọn): \`webp\` hoặc \`lottie\`
- \`thumbnail_resolution\` (tùy chọn): \`1x\`, \`1.5x\`, \`2x\`, \`3x\`, \`4x\`

### Phản hồi

\`\`\`json
{
  "data": {
    "thumbnails": [
      {
        "id": "preset_1234567890_abc123",
        "image_url": "https://resources.d.shotpix.app/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp",
        "thumbnail_url": "https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp",
        "thumbnail_format": "webp",
        "thumbnail_resolution": "1x",
        "thumbnail_r2_key": "webp_1x/face-swap/wedding_both_1.webp",
        "created_at": "2024-01-01T00:00:00.000Z"
      }
    ]
  },
  "status": "success",
  "message": "Thumbnails retrieved successfully",
  "code": 200
}
\`\`\`

## 22. GET \`/thumbnails/{id}/preset\`

### Mục đích
Lấy preset_id từ thumbnail_id (dùng cho mobile app).

**Ví dụ:**
\`\`\`
GET https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset
\`\`\`

### Phản hồi

\`\`\`json
{
  "data": {
    "preset_id": "preset_1234567890_abc123"
  },
  "status": "success",
  "message": "Preset ID retrieved successfully",
  "code": 200
}
\`\`\`

**Lưu ý:** Thumbnail và preset cùng một row trong database, nên \`id\` chính là \`preset_id\`.

## Lưu ý về Bảo mật và Xử lý Lỗi

### Xử lý Lỗi (Error Handling)

**Tất cả lỗi 400 và 500:**
- Message field luôn là generic: \`"Bad Request"\` (400) hoặc \`"Internal Server Error"\` (500)
- Không bao giờ hiển thị thông tin chi tiết về lỗi trong message field
- Thông tin chi tiết chỉ có trong property \`debug\` (chỉ khi \`DEBUG\` env var = \`'true'\` hoặc \`'1'\`)
- Trong production, \`debug\` property sẽ bị tắt hoàn toàn để bảo mật

**Ví dụ:**
\`\`\`json
{
  "data": null,
  "status": "error",
  "message": "Bad Request",  // Generic message
  "code": 400,
  "debug": {  // Chỉ có khi DEBUG=true
    "error": "Detailed error: D1_TYPE_ERROR: Type 'object' not supported...",
    "path": "/profiles",
    "stack": "..."
  }
}
\`\`\`

### Xử lý JSON trong D1 Database

**Quan trọng:** D1 database không hỗ trợ JSON objects trực tiếp. Tất cả JSON data phải được chuyển thành string trước khi lưu.

**Ví dụ với preferences:**
- ✅ Đúng: \`"preferences": "{\\"theme\\":\\"dark\\",\\"language\\":\\"vi\\"}"\` (JSON string)
- ✅ Đúng: \`"preferences": {"theme":"dark","language":"vi"}\` (Object - sẽ tự động chuyển thành string)
- ❌ Sai: Không thể lưu object trực tiếp vào D1

**Hệ thống tự động xử lý:**
- Nếu gửi object → tự động chuyển thành JSON string
- Nếu gửi string → sử dụng trực tiếp
- Khi đọc từ database → trả về dạng string (client có thể parse nếu cần)

## Tổng kết

**Tổng số API endpoints: 22**

**Danh sách đầy đủ các API endpoints:**

1. POST \`/faceswap\` - Đổi mặt (Face Swap) - luôn dùng Vertex AI, hỗ trợ multiple selfies
2. POST \`/removeBackground\` - Xóa nền (Remove Background)
3. POST \`/enhance\` - AI enhance ảnh
4. POST \`/colorize\` - AI chuyển ảnh đen trắng thành màu
5. POST \`/aging\` - AI lão hóa khuôn mặt
6. POST \`/upscaler4k\` - AI upscale ảnh lên 4K
7. POST \`/upload-url\` - Tải ảnh lên server (hỗ trợ nhiều file)
8. GET \`/presets\` - Liệt kê presets
9. GET \`/presets/{id}\` - Lấy preset theo ID (bao gồm prompt_json)
10. DELETE \`/presets/{id}\` - Xóa preset
11. GET \`/selfies\` - Liệt kê selfies
12. DELETE \`/selfies/{id}\` - Xóa selfie
13. GET \`/results\` - Liệt kê results
14. DELETE \`/results/{id}\` - Xóa result
15. POST \`/profiles\` - Tạo profile
16. GET \`/profiles/{id}\` - Lấy profile
17. PUT \`/profiles/{id}\` - Cập nhật profile
18. GET \`/profiles\` - Liệt kê profiles
19. POST \`/upload-thumbnails\` - Tải lên thumbnails và presets (batch)
20. GET \`/thumbnails\` - Liệt kê thumbnails
21. GET \`/thumbnails/{id}/preset\` - Lấy preset_id từ thumbnail_id
22. GET \`/config\` - Lấy config
23. OPTIONS \`/*\` - CORS preflight requests
 

## Lưu ý về Custom Domain

- **Worker API Domain**: \`https://api.d.shotpix.app\` - Dùng cho tất cả API endpoints
- **R2 Public Domain**: \`https://resources.d.shotpix.app\` - Dùng cho public URLs của files trong R2 bucket
- Format R2 public URL: \`https://resources.d.shotpix.app/{bucket-name}/{key}\`
`,
      'REQUIREMENTS.md': `# Face Swap AI - Requirements

## Overview
A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The application uses Cloudflare Workers for backend API, Cloudflare R2 for image storage, and Cloudflare D1 for database storage.

## Frontend Structure

### File Organization
- \`index.html\` - Main HTML structure with inline CSS and JavaScript

### UI Layout
- Main workspace: Two-column grid layout
  - Left column: Preset section (top) and Selfie section (bottom)
  - Right column: Result image (spans both rows, large display)
- Bottom section: Results history gallery
- Both preset and selfie have identical UI: Upload area + Gallery for selection

## UI/UX Design Guide

### Design Principles
- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.
- **Clarity**: Users should understand what to do without reading instructions.
- **Efficiency**: Minimize clicks and steps to complete tasks.
- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.
- **Feedback**: Always provide clear visual feedback for user actions.

### Layout Structure

#### Main Container
- Max width: 1200px (centered on large screens)
- Padding: 24px on desktop, 16px on mobile
- Background: #FFFFFF (white) or #FAFAFA (very light gray)
- Border radius: 0px (sharp, professional edges)

#### Main Workspace - Two Column Grid
- **Layout**: CSS Grid with 2 columns
- **Left Column** (40% width):
  - **Preset Section** (top row):
    - Upload area with drag & drop
    - Gallery grid below for selecting existing presets
    - Selected preset preview (large, prominent)
  - **Selfie Section** (bottom row):
    - Upload area with drag & drop (identical to preset)
    - Gallery grid below for selecting existing selfies
    - Selected selfie preview (large, prominent)
  - Gap between sections: 24px
- **Right Column** (60% width):
  - **Result Image Display** (spans both rows):
    - Large preview area (min-height: 600px)
    - Shows generated face swap result
    - Empty state: "Result will appear here"
    - Centered, object-fit: contain
- **Gap between columns**: 24px
- **Generate Button**: Full width below the grid, centered

#### Bottom Section - Results History
- Full width grid layout
- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile
- Gap: 16px between items

### Color Palette

#### Primary Colors
- **Primary**: #2563EB (Blue 600) - Main actions, selected states
- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover
- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds

#### Neutral Colors
- **Background**: #FFFFFF (White)
- **Surface**: #F9FAFB (Gray 50) - Card backgrounds
- **Border**: #E5E7EB (Gray 200) - Dividers, borders
- **Text Primary**: #111827 (Gray 900) - Main text
- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels

#### Status Colors
- **Success**: #10B981 (Green 500) - Success messages, completed states
- **Error**: #EF4444 (Red 500) - Error messages, warnings
- **Warning**: #F59E0B (Amber 500) - Warnings
- **Info**: #3B82F6 (Blue 500) - Informational messages

### Typography

#### Font Family
- **Primary**: System font stack: \`-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif\`
- **Monospace**: \`'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace\` (for filenames only)

#### Font Sizes
- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight
- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight
- **Body**: 16px / 1.5 line-height / 400 weight
- **Small**: 14px / 1.4 line-height / 400 weight
- **Caption**: 12px / 1.3 line-height / 400 weight

#### Text Hierarchy
- Page title: H1, centered or left-aligned
- Section headers: H2, left-aligned with 24px margin-bottom
- Labels: Small, Text Secondary color, 8px margin-bottom
- Body text: Body size, Text Primary color

### Spacing System
- Use 4px base unit for consistent spacing
- **XS**: 4px (tight spacing)
- **S**: 8px (small gaps)
- **M**: 16px (default spacing)
- **L**: 24px (section spacing)
- **XL**: 32px (large sections)
- **XXL**: 48px (major sections)

### Component Specifications

#### Upload Areas
- **Container**: 
  - Background: #FFFFFF
  - Border: 2px dashed #D1D5DB (Gray 300)
  - Border radius: 8px
  - Padding: 32px
  - Min height: 200px
  - Display: flex, column, center, align-items center
  - Cursor: pointer
  - Transition: border-color 0.2s ease

- **Hover State**:
  - Border color: #2563EB (Primary)
  - Background: #F9FAFB (subtle highlight)

- **Drag Over State**:
  - Border color: #2563EB (Primary)
  - Background: #DBEAFE (Primary Light)
  - Border style: solid

- **Icon/Illustration**:
  - Size: 48px × 48px
  - Color: #9CA3AF (Gray 400)
  - Margin-bottom: 12px

- **Text**:
  - Primary: "Click to upload or drag and drop"
  - Font: Body, Text Primary
  - Margin-bottom: 4px

- **Subtext**:
  - "JPG, PNG, WebP (max 10MB)"
  - Font: Small, Text Secondary

- **File Input**:
  - Hidden (display: none)
  - Triggered by container click

#### Selected Image Preview (Preset/Selfie)
- **Container**:
  - Position: relative
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6 (Gray 100)
  - Min height: 300px
  - Max height: 400px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Border: 2px solid #E5E7EB
  - Margin-top: 16px

- **Image**:
  - Width: 100%
  - Height: 100%
  - Max height: 400px
  - Object-fit: contain (show full image without cropping)
  - Display: block

- **Label**:
  - Position: absolute, top-left
  - Background: rgba(0, 0, 0, 0.7)
  - Color: #FFFFFF
  - Padding: 8px 12px
  - Border-radius: 0 0 8px 0
  - Font: Small, 600 weight
  - Text: "Selected Preset" or "Selected Selfie"

- **Delete Button**:
  - Position: absolute, top-right corner
  - Size: 36px × 36px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: × (close/delete, 20px, white)
  - Z-index: 10
  - Transition: background-color 0.2s ease, transform 0.2s ease
  - Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)
  - Click: Show confirmation dialog before deletion

#### Result Image Display
- **Container**:
  - Background: #F9FAFB (Surface)
  - Border: 2px solid #E5E7EB
  - Border radius: 8px
  - Min height: 600px
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Position: relative
  - Grid-row: span 2 (spans both preset and selfie rows)

- **Image** (when result exists):
  - Max width: 100%
  - Max height: 100%
  - Object-fit: contain (show full image)
  - Border radius: 8px

- **Empty State**:
  - Text: "Result will appear here"
  - Font: Body, Text Secondary
  - Icon: 64px × 64px, Gray 300
  - Centered vertically and horizontally

#### Gallery Grid (Preset/Selfie Selection)
- **Container**:
  - Display: grid
  - Gap: 12px
  - Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))
  - Max columns: 3 on desktop (fits in left column)
  - Max height: 200px
  - Overflow-y: auto
  - Margin-top: 16px
  - Padding: 8px
  - Background: #F9FAFB
  - Border-radius: 8px

- **Gallery Item**:
  - Aspect ratio: 1:1 (square)
  - Border radius: 8px
  - Overflow: hidden
  - Background: #F3F4F6
  - Border: 2px solid transparent
  - Cursor: pointer
  - Transition: transform 0.2s ease, border-color 0.2s ease
  - Position: relative

- **Selected State**:
  - Border color: #2563EB (Primary)
  - Border width: 3px
  - Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)

- **Hover State**:
  - Transform: scale(1.02)
  - Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)

- **Image**:
  - Width: 100%
  - Height: 100%
  - Object-fit: cover
  - Display: block

- **Delete Button** (Gallery Item):
  - Position: absolute, top-right corner
  - Size: 24px × 24px
  - Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)
  - Color: #FFFFFF
  - Border: none
  - Border-radius: 50%
  - Cursor: pointer
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Icon: × (close/delete, 14px, white)
  - Z-index: 10
  - Opacity: 0 (hidden by default)
  - Transition: opacity 0.2s ease, background-color 0.2s ease
  - Hover (on gallery item): Opacity: 1
  - Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)
  - Click: Show confirmation dialog, prevent event propagation (don't select item)

#### Buttons

##### Primary Button (Generate)
- **Default**:
  - Background: #2563EB (Primary)
  - Color: #FFFFFF
  - Padding: 12px 24px
  - Border: none
  - Border radius: 6px
  - Font: Body, 600 weight
  - Width: 100% (on mobile), auto (on desktop)
  - Min width: 200px
  - Cursor: pointer
  - Transition: background-color 0.2s ease

- **Hover**:
  - Background: #1D4ED8 (Primary Hover)

- **Disabled**:
  - Background: #D1D5DB (Gray 300)
  - Color: #9CA3AF (Gray 400)
  - Cursor: not-allowed

- **Loading**:
  - Show spinner icon (16px) + text
  - Disable interaction

##### Secondary Button (Reset/Clear)
- Background: transparent
- Color: #6B7280 (Text Secondary)
- Border: 1px solid #E5E7EB
- Same padding and sizing as primary
- Hover: Background #F9FAFB

#### Status Messages
- **Container**:
  - Padding: 12px 16px
  - Border radius: 6px
  - Margin: 8px 0
  - Font: Small
  - Display: flex
  - Align-items: center
  - Gap: 8px

- **Success**:
  - Background: #D1FAE5 (Green 100)
  - Color: #065F46 (Green 800)
  - Icon: ✓ (checkmark)

- **Error**:
  - Background: #FEE2E2 (Red 100)
  - Color: #991B1B (Red 800)
  - Icon: ✕ (cross)

- **Info**:
  - Background: #DBEAFE (Blue 100)
  - Color: #1E40AF (Blue 800)
  - Icon: ℹ (info)

#### Loading Spinner
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 9999

- **Spinner Container**:
  - Background: #FFFFFF
  - Padding: 32px
  - Border radius: 8px
  - Text-align: center
  - Min-width: 200px

- **Spinner**:
  - Size: 40px × 40px
  - Border: 3px solid #E5E7EB
  - Border-top: 3px solid #2563EB
  - Border radius: 50%
  - Animation: spin 0.8s linear infinite
  - Margin: 0 auto 16px

- **Text**:
  - Font: Body, Text Primary
  - Margin-top: 12px

#### Confirmation Dialog
- **Overlay**:
  - Position: fixed
  - Top: 0, left: 0, right: 0, bottom: 0
  - Background: rgba(0, 0, 0, 0.5)
  - Display: flex
  - Align-items: center
  - Justify-content: center
  - Z-index: 10000

- **Dialog Container**:
  - Background: #FFFFFF
  - Padding: 24px
  - Border radius: 8px
  - Min-width: 320px
  - Max-width: 400px
  - Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)

- **Title**:
  - Font: H2 (20px, 600 weight)
  - Color: Text Primary
  - Margin-bottom: 12px

- **Message**:
  - Font: Body (16px)
  - Color: Text Secondary
  - Margin-bottom: 24px
  - Line-height: 1.5

- **Button Container**:
  - Display: flex
  - Gap: 12px
  - Justify-content: flex-end

- **Cancel Button**:
  - Background: transparent
  - Color: Text Secondary
  - Border: 1px solid #E5E7EB
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #F9FAFB

- **Confirm Button** (Delete):
  - Background: #EF4444 (Red 500)
  - Color: #FFFFFF
  - Border: none
  - Padding: 10px 20px
  - Border-radius: 6px
  - Cursor: pointer
  - Hover: Background #DC2626 (Red 600)

### User Flow

#### Primary Flow: Generate Face Swap
1. **Select/Upload Preset** (left column, top)
   - Option A: Upload new preset
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." → "Uploaded" or "Already exists"
     - Gallery refreshes to show new preset
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected preset shows in large preview area
     - Visual feedback: Selected border on thumbnail

2. **Select/Upload Selfie** (left column, bottom)
   - Option A: Upload new selfie
     - User clicks upload area or drags file
     - Large preview appears immediately (300-400px height)
     - Status: "Uploading..." → "Uploaded" or "Already exists"
     - Gallery refreshes to show new selfie
   - Option B: Select from gallery
     - User clicks thumbnail in gallery
     - Selected selfie shows in large preview area
     - Visual feedback: Selected border on thumbnail

3. **Generate Button Enabled**
   - Visual feedback: Button changes from disabled to active
   - Both large previews visible in left column
   - Right column shows empty state

4. **Click Generate**
   - Loading overlay appears
   - Button disabled
   - Status: "Processing face swap..."

5. **Result Display**
   - Loading overlay disappears
   - Result image appears in large right column (spans both rows)
   - Success message: "Face swap completed"
   - Result added to history gallery below

### Responsive Design

#### Breakpoints
- **Mobile**: < 768px
  - Single column layout (stack preset, selfie, result vertically)
  - Full-width buttons
  - 2-column gallery grid for presets/selfies
  - Reduced padding (16px)
  - Result image: Full width, normal height

- **Tablet**: 768px - 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Standard padding (24px)
  - Result image: Spans both rows

- **Desktop**: > 1024px
  - Two-column grid layout (40% left, 60% right)
  - 3-column gallery grid for presets/selfies
  - Max-width container (1200px)
  - Result image: Large display, spans both rows

### Accessibility

#### Keyboard Navigation
- All interactive elements must be keyboard accessible
- Tab order: Upload areas → Gallery items → Generate button → Results
- Enter/Space to activate buttons and select items
- Focus indicators: 2px solid outline in Primary color

#### Screen Readers
- All images must have alt text
- Buttons must have descriptive labels
- Status messages must be announced
- Loading states must be announced

#### Visual Accessibility
- Color contrast: Minimum 4.5:1 for text
- Focus indicators: Clear and visible
- Error states: Use icons + text, not just color
- Touch targets: Minimum 44px × 44px

### Performance Considerations
- Lazy load gallery images (use loading="lazy")
- Optimize images before upload (client-side compression if possible)
- Show skeleton loaders while fetching data
- Debounce search/filter inputs if added later
- Cache gallery images in browser

### Error States

#### Upload Errors
- Network error: "Upload failed. Please check your connection and try again."
- File too large: "File exceeds 10MB limit. Please choose a smaller file."
- Invalid format: "Invalid file type. Please upload JPG, PNG, or WebP."
- Duplicate: "This image already exists. Using existing version."

#### Generation Errors
- API error: "Face swap failed. Please try again."
- Timeout: "Request timed out. Please try again."
- Invalid images: "Could not process images. Please ensure both images contain faces."

### Empty States
- **No Presets Gallery**: "No presets yet. Upload your first preset above."
- **No Selfies Gallery**: "No selfies yet. Upload your first selfie above."
- **No Results History**: "No results yet. Generate your first face swap to see it here."
- **Result Display Empty**: "Result will appear here"
- Use subtle illustration or icon (48px, Gray 300)
- Text: Small, Text Secondary, centered

## Backend API Endpoints


### Backend Database Schema
- \`presets\` table: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`thumbnail_r2_key\`, \`created_at\`
- \`selfies\` table: \`id\`, \`image_url\`, \`profile_id\`, \`created_at\`
- \`results\` table: \`id\`, \`preset_name\`, \`result_url\`, \`profile_id\`, \`created_at\`

**Lưu ý:**
- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database
- Thumbnails được lưu trong cùng row với preset (same-row approach)

### Endpoints

#### GET \`/presets\`
- Returns: \`{ presets: [...] }\`
- Each preset contains: \`id\`, \`image_url\`, \`prompt_json\`, \`thumbnail_url\`, \`thumbnail_format\`, \`thumbnail_resolution\`, \`created_at\`
- Query params: \`include_thumbnails\` (optional, default: false) - bao gồm presets có thumbnail
- Presets are stored as individual entries (no collections)
- Backend queries database and returns all presets

#### GET \`/selfies\`
- Returns: \`{ selfies: [...] }\`
- Each selfie contains: \`id\`, \`selfie_url\` (full URL), \`action\`, \`created_at\`
- Selfies are stored as individual entries
- Backend queries database and returns all selfies
- **Lưu ý**: \`selfie_url\` trong database chỉ lưu bucket key, API tự động assemble full URL từ \`R2_DOMAIN\` khi trả về

#### DELETE \`/presets/:id\`
- Path parameter: \`id\` (preset ID)
- Backend logic:
  1. Find preset by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`presets\` table
  4. Return \`{ success: true, message: "Preset deleted" }\`
- Error handling: Return 404 if preset not found, 500 on deletion failure

#### DELETE \`/selfies/:id\`
- Path parameter: \`id\` (selfie ID)
- Backend logic:
  1. Find selfie by ID in database
  2. Delete file from R2 storage using \`image_url\`
  3. Delete record from \`selfies\` table
  4. Return \`{ success: true, message: "Selfie deleted" }\`
- Error handling: Return 404 if selfie not found, 500 on deletion failure

#### POST \`/upload-url\`
- Content-Type: \`multipart/form-data\` hoặc \`application/json\`
- Body (multipart): \`files\` (file[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, chỉ cho selfie)
- Body (JSON): \`image_url\` hoặc \`image_urls\` (string[]), \`type\`, \`profile_id\`, \`enableVertexPrompt\` (optional), \`action\` (optional, chỉ cho selfie)
- Backend logic:
  1. Upload file(s) to R2 storage
  2. Với selfie: Tự động xóa ảnh cũ dựa trên action:
     - \`action="faceswap"\`: Tối đa 4 ảnh, xóa ảnh cũ nhất khi có >= 4 ảnh
     - Action khác: Tối đa 1 ảnh, xóa ảnh cũ khi có >= 1 ảnh
  3. Insert record(s) vào database (\`presets\` hoặc \`selfies\` table) với bucket key (không phải full URL)
  4. Với preset: tự động generate Vertex prompt nếu \`enableVertexPrompt=true\`
- Response format: \`{ data: { results: [...], count, successful, failed }, status, message, code, debug? }\`
  - Với selfie: mỗi result có thêm field \`action\`
- Hỗ trợ upload nhiều file cùng lúc
- **Lưu ý**: \`selfie_url\` trong database chỉ lưu bucket key (ví dụ: \`"selfie/filename.jpg"\`), API tự động assemble full URL khi trả về

#### POST \`/faceswap\`
- Body:
  \`\`\`json
  {
    "preset_image_id": "preset_id_from_database",
    "selfie_id": "selfie_id_from_database",
    "profile_id": "user_profile_id"
  }
  \`\`\`
- Returns:
  \`\`\`json
  {
    "data": {
      "resultImageUrl": "result_url"
    },
    "status": "success",
    "message": "Processing successful",
    "code": 200,
    "debug": {}
  }
  \`\`\`

#### GET \`/results\`
- Returns: \`{ results: [...] }\`
- Each result contains: \`result_url\`, \`created_at\`

## Frontend Functionality

### Preset Section (Left Column, Top)
- **Upload Area**:
  - Single file input (one preset at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'preset'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and preset object
  - Show success/error status messages
  - Reload presets gallery after upload

- **Preset Gallery**:
  - Display below upload area in scrollable grid
  - Load presets from \`/presets\` endpoint on page load
  - Each preset card shows thumbnail image (square, 100px)
  - Click preset to select (visual feedback with selected state)
  - Selected preset shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No presets yet. Upload your first preset above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected preset preview (top-right corner, always visible)

- **Delete Preset**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this preset?"
    - If confirmed: Call \`DELETE /presets/:id\`
    - On success: Remove from gallery, clear selection if deleted preset was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload presets gallery after successful deletion

### Selfie Section (Left Column, Bottom)
- **Upload Area**:
  - Identical UI and functionality to Preset Upload
  - Single file input (one selfie at a time)
  - Drag and drop support
  - On file selection:
    - Use original filename from file input (sanitize for safety)
    - Show preview immediately using FileReader in large preview area
    - Call \`/upload-url\` with original filename and type 'selfie'
    - If response has \`exists: true\`: Use existing URL, show message "Image already exists"
    - If response has \`exists: false\`: Upload file to returned uploadUrl
    - Store uploaded/existing URL and selfie object
  - Show success/error status messages
  - Reload selfies gallery after upload

- **Selfie Gallery**:
  - Display below upload area in scrollable grid
  - Load selfies from \`/selfies\` endpoint on page load
  - Each selfie card shows thumbnail image (square, 100px)
  - Click selfie to select (visual feedback with selected state)
  - Selected selfie shows in large preview area above gallery
  - Use \`image_url\` directly from database (no conversion needed)
  - Empty state: "No selfies yet. Upload your first selfie above."
  - Delete button on each gallery item (top-right corner, appears on hover)
  - Delete button on selected selfie preview (top-right corner, always visible)

- **Delete Selfie**:
  - On delete button click (gallery or preview):
    - Show confirmation dialog: "Are you sure you want to delete this selfie?"
    - If confirmed: Call \`DELETE /selfies/:id\`
    - On success: Remove from gallery, clear selection if deleted selfie was selected, show success message
    - On error: Show error message, keep item in gallery
    - Reload selfies gallery after successful deletion

### Result Display (Right Column, Spans Both Rows)
- Large display area (min-height: 600px)
- Shows generated face swap result
- Empty state: "Result will appear here" with icon
- Result image: Max width/height 100%, object-fit: contain
- Updates automatically after successful generation

### Face Swap Generation
- Button positioned below main workspace grid
- Enabled when both preset and selfie are selected
- On click:
  - Show loading spinner overlay
  - Disable button
  - Call \`/faceswap\` with preset URL and selfie URL
  - Display result image in right column on success
  - Show error message on failure
  - Reload results history gallery after success

### Results Display
- Load results from \`/results\` on page load
- Display results in simple grid gallery
- Each result card shows image and date
- Date formatted as Vietnamese locale

## Data Structures

### Preset Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  prompt_json: object | null,
  thumbnail_url: string | null,
  thumbnail_format: 'webp' | 'lottie' | null,
  thumbnail_resolution: string | null,
  created_at: string
}
\`\`\`

### Selfie Object
\`\`\`javascript
{
  id: string,
  image_url: string,
  created_at: string
}
\`\`\`

### Result Object
\`\`\`javascript
{
  result_url: string,
  created_at: string (ISO format)
}
\`\`\`

## State Variables
- \`selectedPreset\`: Currently selected preset object or null
- \`selectedSelfie\`: Currently selected selfie object or null
- \`presets\`: Array of all preset objects (loaded from \`/presets\`)
- \`selfies\`: Array of all selfie objects (loaded from \`/selfies\`)
- \`results\`: Array of all result objects (loaded from \`/results\`)

## UI Elements

### Preset Gallery
- Simple grid layout
- Each card: square aspect ratio, image only
- Selected state: border highlight

### Status Messages
- Success: Green color
- Error: Red color
- Loading: Spinner animation

## Image URL Handling
- Database stores the final accessible URL directly in \`image_url\` field
- Backend constructs the correct R2 URL (e.g., \`/r2/preset/filename.jpg\` or full URL with worker domain) when uploading
- Frontend uses \`image_url\` from database directly - no conversion needed
- URLs are ready to use as-is for display and API calls

## Error Handling
- Network errors: Show error message
- API errors: Display error message from response
- Image load errors: Show placeholder

## Initialization
- Load presets from \`/presets\` on page load
- Load selfies from \`/selfies\` on page load
- Load results from \`/results\` on page load
- Display loading placeholders while fetching
- Show empty states if no data available

`
    };
    
    // Embedded sidebar
    window.__staticSidebar = `* [📚 Tổng quan API](API_TONG_QUAN_VI.md) `;
    
    // Pre-generated search index
    window.__staticSearchIndex = [{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"# Tổng quan API Face Swap AI","url":"#/API_TONG_QUAN_VI.md","level":1},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tài liệu này mô tả đầy đủ các điểm cuối (endpoint) mà Cloudflare Worker cung cấp. Base URL: `https://api.d.shotpix.app`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Cấu hình và Prompts","heading":"Cấu hình và Prompts","text":"## Cấu hình và Prompts","url":"#/API_TONG_QUAN_VI.md?id=cu-hnh-v-prompts","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tất cả các prompts và cấu hình API đã được tập trung vào file `config.ts` để dễ dàng quản lý và thay đổi. Xem thêm tài liệu chi tiết tại `backend-clou","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các cấu hình chính:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **API Prompts**: Facial preservation, merge prompts, vertex generation prompts","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Model Config**: Model mappings và default values","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Aspect Ratios**: Danh sách aspect ratios được hỗ trợ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Timeouts**: Cấu hình timeout cho các request","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **API Config**: Temperature, tokens, safety settings cho image generation","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 1. POST `/faceswap`","heading":"1. POST `/faceswap`","text":"## 1. POST `/faceswap`","url":"#/API_TONG_QUAN_VI.md?id=1-post-faceswap","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Thực hiện face swap giữa ảnh preset và ảnh selfie sử dụng Vertex AI (luôn dùng chế độ Vertex). Hỗ trợ multiple selfies để tạo composite results (ví dụ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ 1: Sử dụng selfie_ids (từ database)**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_ids\": [\"selfie_1234567890_xyz789\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"character_gender\": \"male\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ 2: Sử dụng selfie_image_urls (URL trực tiếp)**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_urls\": [\"https://example.com/selfie1.jpg\", \"https://example.com/selfie2.jpg\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Add dramatic lighting and cinematic atmosphere\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"character_gender\": \"male\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_id` (string, bắt buộc): ID ảnh preset đã lưu trong cơ sở dữ liệu (format: `preset_...`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_ids` (array of strings, tùy chọn): Mảng các ID ảnh selfie đã lưu trong cơ sở dữ liệu (hỗ trợ multiple selfies). Thứ tự: [selfie_chính, selfi","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_image_urls` (array of strings, tùy chọn): Mảng các URL ảnh selfie trực tiếp (thay thế cho `selfie_ids`). Hỗ trợ multiple selfies. **Lưu ý**:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` (string, tùy chọn): câu mô tả bổ sung, được nối vào cuối trường `prompt` bằng ký tự `+`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `character_gender` (string, tùy chọn): `male`, `female` hoặc bỏ trống. Nếu truyền, hệ thống chèn mô tả giới tính tương ứng vào cuối `prompt`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, tùy chọn): Tỷ lệ khung hình. Các giá trị hỗ trợ: `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`, `\"9:16\"`, `\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý về prompt generation:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu preset đã có `prompt_json` trong database, hệ thống sẽ sử dụng prompt đó.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu preset chưa có `prompt_json`, hệ thống sẽ tự động tạo prompt bằng Vertex AI và lưu vào database để sử dụng cho các lần sau.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"sourceUrls\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_002.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 843","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": { \"...\": \"...\" },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 5180,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"requestPayload\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"promptLength\": 746,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"imageBytes\": 921344","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi lỗi","heading":"Phản hồi lỗi","text":"### Phản hồi lỗi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-li","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý quan trọng về bảo mật:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tất cả lỗi 400 (Bad Request) và 500 (Internal Server Error) chỉ trả về message chung: `\"Bad Request\"` hoặc `\"Internal Server Error\"`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Thông tin chi tiết về lỗi chỉ có trong property `debug` (chỉ khi `DEBUG` env var được bật)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Trong production, `debug` property sẽ bị tắt để bảo mật","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi kiểm duyệt (Google Vision) trả về HTTP 422:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Content blocked: Image contains adult content (VERY_LIKELY)\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 422,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": { \"...\": \"...\" },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"violationCategory\": \"adult\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"violationLevel\": \"VERY_LIKELY\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://vision.googleapis.com/v1/images:annotate\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi 400 (Bad Request):","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Bad Request\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 400,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Detailed error information here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"path\": \"/faceswap\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi 500 (Internal Server Error):","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Internal Server Error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 500,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Detailed error information here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"path\": \"/faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"stack\": \"Stack trace (truncated)\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các lỗi khác (RapidAPI, Vertex, lưu trữ...) trả về HTTP tương ứng với thông tin chi tiết trong `debug.provider.debug` hoặc `debug.vertex.debug`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 2. POST `/removeBackground`","heading":"2. POST `/removeBackground`","text":"## 2. POST `/removeBackground`","url":"#/API_TONG_QUAN_VI.md?id=2-post-removebackground","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xóa nền của ảnh selfie, giữ lại người với transparent background sử dụng Vertex AI. Kết quả là ảnh người không có nền, sẵn sàng để sử dụng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ 1: Sử dụng selfie_id (từ database)**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the person look happy and relaxed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ 2: Sử dụng selfie_image_url (URL trực tiếp)**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_image_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_image_url\": \"https://example.com/selfie.png\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"additional_prompt\": \"Make the person look happy and relaxed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"aspect_ratio\": \"16:9\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preset_image_id` (string, bắt buộc): ID ảnh preset (landscape scene) đã lưu trong cơ sở dữ liệu (format: `preset_...`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_id` (string, tùy chọn): ID ảnh selfie đã lưu trong cơ sở dữ liệu (người có transparent background). **Lưu ý**: Phải cung cấp `selfie_id` HOẶ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_image_url` (string, tùy chọn): URL ảnh selfie trực tiếp (thay thế cho `selfie_id`). Ảnh phải có transparent background sẵn.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `additional_prompt` (string, tùy chọn): Câu mô tả bổ sung cho việc xóa nền (ví dụ: \"Make the person look happy\", \"Adjust lighting to match sunset\").","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `aspect_ratio` (string, tùy chọn): Tỷ lệ khung hình. Các giá trị hỗ trợ: `\"1:1\"`, `\"3:2\"`, `\"2:3\"`, `\"3:4\"`, `\"4:3\"`, `\"4:5\"`, `\"5:4\"`, `\"9:16\"`, `\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý về merge:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- API sẽ gửi cả 2 ảnh (selfie và preset) trực tiếp đến Vertex AI cùng với prompt hướng dẫn merge.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khuôn mặt sẽ được giữ nguyên (có thể enhance nhẹ để match lighting của scene).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tư thế sẽ được điều chỉnh tự nhiên để phù hợp với scene.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu scene có người khác, sẽ blend tự nhiên (ví dụ: như đang chụp ảnh cùng nhau).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"request\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"targetUrl\": \"https://resources.d.shotpix.app/faceswap-images/preset/landscape.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfieUrl\": \"https://resources.d.shotpix.app/faceswap-images/selfie/selfie_001.png\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vision\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": false,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Safety check skipped for Vertex AI mode\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"storage\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attemptedDownload\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"downloadStatus\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"savedToR2\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"publicUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"database\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"attempted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi lỗi","heading":"Phản hồi lỗi","text":"### Phản hồi lỗi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-li","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi validation: HTTP 400 với message `\"Bad Request\"` nếu thiếu `preset_image_id`, `profile_id`, hoặc cả `selfie_id` và `selfie_image_url`. Chi tiết ","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi không tìm thấy: HTTP 404 nếu preset hoặc selfie không tồn tại.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Lỗi merge: HTTP 500 với message `\"Internal Server Error\"`. Thông tin chi tiết trong `debug.provider`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 3. POST `/enhance`","heading":"3. POST `/enhance`","text":"## 3. POST `/enhance`","url":"#/API_TONG_QUAN_VI.md?id=3-post-enhance","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"AI enhance ảnh - cải thiện chất lượng, độ sáng, độ tương phản và chi tiết của ảnh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, bắt buộc): URL ảnh cần enhance.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/enhance_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Image enhancement completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Enhancement completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 3. POST `/colorize`","heading":"3. POST `/colorize`","text":"## 3. POST `/colorize`","url":"#/API_TONG_QUAN_VI.md?id=3-post-colorize","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"AI chuyển đổi ảnh đen trắng thành ảnh màu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, bắt buộc): URL ảnh đen trắng cần chuyển thành màu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/colorize_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Colorization completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Colorization completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 4. POST `/aging`","heading":"4. POST `/aging`","text":"## 4. POST `/aging`","url":"#/API_TONG_QUAN_VI.md?id=4-post-aging","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"AI lão hóa khuôn mặt - tạo phiên bản già hơn của khuôn mặt trong ảnh.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"age_years\": 20,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, bắt buộc): URL ảnh chứa khuôn mặt cần lão hóa.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `age_years` (number, tùy chọn): Số năm muốn lão hóa (mặc định: 20).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/aging_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Aging transformation completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Aging completed\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 5. POST `/upscaler4k`","heading":"5. POST `/upscaler4k`","text":"## 5. POST `/upscaler4k`","url":"#/API_TONG_QUAN_VI.md?id=5-post-upscaler4k","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Upscale ảnh lên độ phân giải 4K sử dụng WaveSpeed AI.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` (string, bắt buộc): URL ảnh cần upscale.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"provider\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"statusCode\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Upscaler4K image upscaling completed\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"finalResultImageUrl\": \"https://resources.d.shotpix.app/faceswap-images/results/upscaler4k_123.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://api.wavespeed.ai/api/v3/wavespeed-ai/ultimate-image-upscaler\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"durationMs\": 5000","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"inputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"outputSafety\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"checked\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"isSafe\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi lỗi","heading":"Phản hồi lỗi","text":"### Phản hồi lỗi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-li","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- HTTP 400 với message `\"Bad Request\"` nếu ảnh input không pass safety check. Chi tiết trong `debug.inputSafety`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- HTTP 400 với message `\"Bad Request\"` nếu ảnh output không pass safety check. Chi tiết trong `debug.outputSafety`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- HTTP 500 với message `\"Internal Server Error\"` nếu có lỗi từ WaveSpeed API. Chi tiết trong `debug.provider`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 6. POST `/upload-url`","heading":"6. POST `/upload-url`","text":"## 6. POST `/upload-url`","url":"#/API_TONG_QUAN_VI.md?id=6-post-upload-url","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tải ảnh trực tiếp lên server và lưu vào cơ sở dữ liệu với xử lý tự động (Vision scan, Vertex prompt generation).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu (multipart/form-data)","heading":"Nội dung yêu cầu (multipart/form-data)","text":"### Nội dung yêu cầu (multipart/form-data)","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu-multipartform-data","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với cURL (multipart/form-data):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"curl -X POST https://api.d.shotpix.app/upload-url \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/image1.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"files=@/path/to/image2.jpg\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"type=preset\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"profile_id=profile_1234567890\" \\","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"-F \"enableVertexPrompt=true\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với JavaScript (FormData) - Upload selfie với action:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"const formData = new FormData();","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('files', fileInput.files[0]);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('type', 'selfie');","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('profile_id', 'profile_1234567890');","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('action', 'faceswap'); // Tùy chọn: 'faceswap' hoặc action khác","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với JSON (image_url):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://example.com/image.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"enableVertexPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với JSON - Upload selfie với action:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://example.com/selfie.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"selfie\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"action\": \"faceswap\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `files` (file[], bắt buộc nếu dùng multipart): Mảng file ảnh cần upload (hỗ trợ nhiều file).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `image_url` hoặc `image_urls` (string/string[], bắt buộc nếu dùng JSON): URL ảnh trực tiếp.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `type` (string, bắt buộc): `preset` hoặc `selfie`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (string, bắt buộc): ID profile người dùng.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `enableVertexPrompt` (boolean/string, tùy chọn): `true` hoặc `\"true\"` để bật tạo prompt Vertex khi upload preset.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `action` (string, tùy chọn, chỉ áp dụng cho `type=selfie`): Loại action của selfie. Mặc định: `\"default\"`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `\"faceswap\"`: Tối đa 4 ảnh, tự động xóa ảnh cũ khi upload ảnh mới (giữ lại 3 ảnh mới nhất).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Các action khác: Tối đa 1 ảnh, tự động xóa ảnh cũ khi upload ảnh mới.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"vertex_info\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"promptKeys\": [\"prompt\", \"style\", \"lighting\"],","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"endpoint\": \"https://.../generateContent\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"responseTimeMs\": 4200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filesProcessed\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultsCount\": 1","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Phản hồi khi upload selfie:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"example.jpg\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"count\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processing successful\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filesProcessed\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultsCount\": 1","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `action` không có trong response (chỉ lưu trong database)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug.vertex` chỉ có khi upload preset với `enableVertexPrompt=true` và `DEBUG=true`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý về auto-delete:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi upload selfie với `action=\"faceswap\"`: Hệ thống tự động xóa ảnh cũ nếu đã có 4 ảnh, giữ lại 3 ảnh mới nhất.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi upload selfie với action khác: Hệ thống tự động xóa ảnh cũ nếu đã có 1 ảnh, chỉ giữ ảnh mới nhất.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Việc xóa được thực hiện tự động trước khi insert ảnh mới vào database.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi lỗi","heading":"Phản hồi lỗi","text":"### Phản hồi lỗi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-li","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Internal Server Error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 500,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Detailed error information here\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"path\": \"/upload-url\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"stack\": \"Stack trace (truncated)\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Message chỉ hiển thị `\"Internal Server Error\"` hoặc `\"Bad Request\"` cho lỗi 400/500. Chi tiết chỉ có trong `debug` property.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi upload nhiều file, mảng `results` sẽ chứa nhiều phần tử","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Mỗi phần tử trong `results` có `id`, `url`, `filename`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Với preset: thông tin Vertex AI (`hasPrompt`, `prompt_json`, `vertex_info`) được đặt trong `debug.vertex` (chỉ khi bật `enableVertexPrompt` và `DEBU","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Với selfie: chỉ có `id`, `url`, `filename`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Response format được chuẩn hóa: `{ data, status, message, code, debug? }`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` property chỉ xuất hiện khi `DEBUG` env var được bật (giống như faceswap API)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 7. GET `/presets`","heading":"7. GET `/presets`","text":"## 7. GET `/presets`","url":"#/API_TONG_QUAN_VI.md?id=7-get-presets","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Trả về danh sách preset trong cơ sở dữ liệu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Query Parameters","heading":"Query Parameters","text":"### Query Parameters","url":"#/API_TONG_QUAN_VI.md?id=query-parameters","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/presets?include_thumbnails=true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `include_thumbnails` (tùy chọn): `true` để bao gồm cả presets có thumbnail. Mặc định chỉ trả về presets không có thumbnail.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"presets\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Presets retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `prompt_json` luôn là `null` trong list view (chỉ có trong detail view GET `/presets/{id}`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution` chỉ có khi preset có thumbnail","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 8. GET `/presets/{id}`","heading":"8. GET `/presets/{id}`","text":"## 8. GET `/presets/{id}`","url":"#/API_TONG_QUAN_VI.md?id=8-get-presetsid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Lấy thông tin chi tiết của một preset theo ID (bao gồm `prompt_json`).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/preset/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt_json\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"prompt\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"style\": \"...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"lighting\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": 1704067200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"presetId\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"hasPrompt\": true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `prompt_json` chỉ có trong detail view (GET `/presets/{id}`), không có trong list view (GET `/presets`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `created_at` trả về dạng Unix timestamp (number), không phải ISO string","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution` chỉ có khi preset có thumbnail","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 9. DELETE `/presets/{id}`","heading":"9. DELETE `/presets/{id}`","text":"## 9. DELETE `/presets/{id}`","url":"#/API_TONG_QUAN_VI.md?id=9-delete-presetsid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xóa preset khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"DELETE https://api.d.shotpix.app/presets/preset_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 10. GET `/selfies`","heading":"10. GET `/selfies`","text":"## 10. GET `/selfies`","url":"#/API_TONG_QUAN_VI.md?id=10-get-selfies","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Trả về tối đa 50 selfie gần nhất của một profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Query Parameters","heading":"Query Parameters","text":"### Query Parameters","url":"#/API_TONG_QUAN_VI.md?id=query-parameters","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/selfies?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (bắt buộc): ID profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfies\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfie_url\": \"https://resources.d.shotpix.app/faceswap-images/selfie/example.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"action\": \"faceswap\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Selfies retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `id` (string): ID của selfie.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_url` (string): URL đầy đủ của ảnh selfie (tự động được assemble từ bucket key và R2_DOMAIN).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `action` (string | null): Loại action của selfie (ví dụ: `\"faceswap\"`, `\"default\"`, hoặc `null` nếu chưa được set).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `created_at` (string): Thời gian tạo selfie (ISO 8601 format).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `selfie_url` trong database chỉ lưu bucket key (ví dụ: `\"selfie/filename.jpg\"`), không lưu full URL.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- API tự động assemble full URL từ `R2_DOMAIN` environment variable khi trả về response.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 11. DELETE `/selfies/{id}`","heading":"11. DELETE `/selfies/{id}`","text":"## 11. DELETE `/selfies/{id}`","url":"#/API_TONG_QUAN_VI.md?id=11-delete-selfiesid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xóa selfie khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"DELETE https://api.d.shotpix.app/selfies/selfie_1234567890_xyz789","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Selfie deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"selfieId\": \"selfie_1234567890_xyz789\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 12. GET `/results`","heading":"12. GET `/results`","text":"## 12. GET `/results`","url":"#/API_TONG_QUAN_VI.md?id=12-get-results","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Trả về tối đa 50 kết quả face swap gần nhất.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Query Parameters","heading":"Query Parameters","text":"### Query Parameters","url":"#/API_TONG_QUAN_VI.md?id=query-parameters","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/results?profile_id=profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `profile_id` (tùy chọn): ID profile để lọc kết quả.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"result_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/faceswap-images/results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profile_id\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Results retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Không có field `preset_name` trong response","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 13. DELETE `/results/{id}`","heading":"13. DELETE `/results/{id}`","text":"## 13. DELETE `/results/{id}`","url":"#/API_TONG_QUAN_VI.md?id=13-delete-resultsid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xóa kết quả khỏi D1 và R2.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"DELETE https://api.d.shotpix.app/results/result_1234567890_abc123","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Result deleted successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultId\": \"result_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"databaseDeleted\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Deleted\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Key\": \"results/result_123.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Error\": null","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 14. POST `/profiles`","heading":"14. POST `/profiles`","text":"## 14. POST `/profiles`","url":"#/API_TONG_QUAN_VI.md?id=14-post-profiles","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tạo profile mới.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ tối thiểu (chỉ cần device_id):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hoặc có thể gửi đầy đủ thông tin:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"userID\": \"profile_1234567890\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hoặc có thể gửi preferences dạng object (sẽ tự động chuyển thành JSON string):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `device_id` (string, tùy chọn): ID thiết bị. Có thể gửi trong body hoặc header `x-device-id`. Nếu không có, sẽ là `null`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `userID` hoặc `id` (string, tùy chọn): ID profile. Nếu không có, hệ thống tự tạo bằng `nanoid(16)`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `name` (string, tùy chọn): tên profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `email` (string, tùy chọn): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `avatar_url` (string, tùy chọn): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` (string hoặc object, tùy chọn): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trư","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `device_id` có thể được gửi qua header `x-device-id` thay vì trong body","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu không có `userID` hoặc `id`, hệ thống tự động tạo profile ID mới","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tất cả các trường ngoài `device_id` đều là tùy chọn","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"profile_...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": { \"...\": \"...\" },","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 15. GET `/profiles/{id}`","heading":"15. GET `/profiles/{id}`","text":"## 15. GET `/profiles/{id}`","url":"#/API_TONG_QUAN_VI.md?id=15-get-profilesid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Lấy thông tin profile theo ID.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/profiles/profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profile retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `name`, `email`, `avatar_url`, `preferences` chỉ có nếu đã được lưu trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` trả về dạng JSON string (từ database, không phải object)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `device_id` có thể là `undefined` nếu không được set","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 16. PUT `/profiles/{id}`","heading":"16. PUT `/profiles/{id}`","text":"## 16. PUT `/profiles/{id}`","url":"#/API_TONG_QUAN_VI.md?id=16-put-profilesid","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Cập nhật thông tin profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu","heading":"Nội dung yêu cầu","text":"### Nội dung yêu cầu","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"theme\": \"light\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"language\": \"en\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hoặc có thể gửi preferences dạng object (sẽ tự động chuyển thành JSON string):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"theme\": \"light\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"language\": \"en\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"PUT https://api.d.shotpix.app/profiles/profile_1234567890","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Các trường:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `name` (string, tùy chọn): tên profile.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `email` (string, tùy chọn): email.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `avatar_url` (string, tùy chọn): URL avatar.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` (string hoặc object, tùy chọn): preferences dạng JSON string hoặc object. Nếu là object, hệ thống tự động chuyển thành JSON string trư","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe Updated\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john.updated@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/new-avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"light\\\",\\\"language\\\":\\\"en\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T05:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profile updated successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Format giống GET `/profiles/{id}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` trả về dạng JSON string (từ database, không phải object)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `device_id` có thể là `undefined` nếu không được set","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 17. GET `/profiles`","heading":"17. GET `/profiles`","text":"## 17. GET `/profiles`","url":"#/API_TONG_QUAN_VI.md?id=17-get-profiles","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Liệt kê tất cả profiles (dùng cho admin/debugging).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"profiles\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"uYNgRR70Ry9OFuMV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"device_id\": \"device_1765774126587_yaq0uh6rvz\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"name\": \"John Doe\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"email\": \"john@example.com\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"avatar_url\": \"https://example.com/avatar.jpg\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2025-12-15T04:48:47.676Z\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"updated_at\": \"2025-12-15T04:48:47.676Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Profiles retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `preferences` trả về dạng JSON string (không phải object)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Tất cả fields có thể là `undefined` nếu không được set","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 18. GET `/config`","heading":"18. GET `/config`","text":"## 18. GET `/config`","url":"#/API_TONG_QUAN_VI.md?id=18-get-config","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Lấy cấu hình public của Worker (custom domains).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"backendDomain\": \"https://api.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"r2Domain\": \"https://resources.d.shotpix.app\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"kvCache\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"available\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"test\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"details\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"bindingName\": \"PROMPT_CACHE_KV\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"envKeys\": [\"PROMPT_CACHE_KV_BINDING_NAME\", \"...\"]","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Config retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `kvCache` chỉ có khi KV cache được cấu hình","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `kvCache.details` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 19. OPTIONS `/*`","heading":"19. OPTIONS `/*`","text":"## 19. OPTIONS `/*`","url":"#/API_TONG_QUAN_VI.md?id=19-options-","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Xử lý CORS preflight requests cho tất cả các endpoints. Tự động được gọi bởi trình duyệt khi thực hiện cross-origin requests.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Trả về HTTP 204 (No Content) với các headers CORS:","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Origin`: Cho phép tất cả origins","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Methods`: GET, POST, PUT, DELETE, OPTIONS","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Allow-Headers`: Content-Type, Authorization, và các headers khác","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `Access-Control-Max-Age`: 86400 (24 giờ)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý đặc biệt:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Endpoint `/upload-proxy/*` có hỗ trợ thêm method PUT trong CORS headers.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 20. POST `/upload-thumbnails`","heading":"20. POST `/upload-thumbnails`","text":"## 20. POST `/upload-thumbnails`","url":"#/API_TONG_QUAN_VI.md?id=20-post-upload-thumbnails","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Tải lên thư mục chứa thumbnails (WebP và Lottie JSON) và original presets. Hỗ trợ batch upload nhiều file cùng lúc.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Nội dung yêu cầu (multipart/form-data)","heading":"Nội dung yêu cầu (multipart/form-data)","text":"### Nội dung yêu cầu (multipart/form-data)","url":"#/API_TONG_QUAN_VI.md?id=ni-dung-yu-cu-multipartform-data","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Cấu trúc thư mục:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"/webp_1x/face-swap/wedding_both_1.webp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"/webp_1.5x/face-swap/portrait_female_1.webp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"/lottie_1x/packs/autum_male_1.json","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với JavaScript (FormData):**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"const formData = new FormData();","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"// Append files với path prefix","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('files', file1);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('path_webp_1x_face-swap_wedding_both_1.webp', 'webp_1x/face-swap/');","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('files', file2);","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"formData.append('path_original_preset_face-swap_wedding_both_1.webp', 'original_preset/face-swap/wedding_both_1/webp/');","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Quy tắc đặt tên file:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Format: `[type]_[sub_category]_[gender]_[position].[webp|json]`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Ví dụ: `face-swap_wedding_both_1.webp`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Type có thể chứa dấu gạch ngang (face-swap, packs, filters)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Metadata được parse từ tên file và lưu trong R2 path","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi thành công","heading":"Phản hồi thành công","text":"### Phản hồi thành công","url":"#/API_TONG_QUAN_VI.md?id=phn-hi-thnh-cng","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"total\": 2,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"successful\": 2,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"failed\": 0,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"presets_created\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnails_created\": 1,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"results\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"face-swap_wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"preset\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filename\": \"wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"success\": true,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"type\": \"thumbnail\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"metadata\": {","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resolution\": \"1x\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Processed 2 of 2 files\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"filesProcessed\": 2,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"resultsCount\": 2","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `total` = tổng số files","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `presets_created` = số preset mới được tạo","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `thumbnails_created` = số thumbnail mới được tạo","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Original presets được tạo record trong database","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Thumbnails được UPDATE vào cùng row với preset (same-row approach)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- R2 path structure: `[format]_[resolution]/[type]/[remaining_filename]`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `debug` chỉ có khi `DEBUG` env var = `'true'` hoặc `'1'`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 21. GET `/thumbnails`","heading":"21. GET `/thumbnails`","text":"## 21. GET `/thumbnails`","url":"#/API_TONG_QUAN_VI.md?id=21-get-thumbnails","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Lấy danh sách thumbnails từ database.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Query Parameters","heading":"Query Parameters","text":"### Query Parameters","url":"#/API_TONG_QUAN_VI.md?id=query-parameters","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/thumbnails?thumbnail_format=webp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/thumbnails?thumbnail_resolution=1x","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `thumbnail_format` (tùy chọn): `webp` hoặc `lottie`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- `thumbnail_resolution` (tùy chọn): `1x`, `1.5x`, `2x`, `3x`, `4x`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnails\": [","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"id\": \"preset_1234567890_abc123\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"image_url\": \"https://resources.d.shotpix.app/original_preset/face-swap/wedding_both_1/webp/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_url\": \"https://resources.d.shotpix.app/webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_format\": \"webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_resolution\": \"1x\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"thumbnail_r2_key\": \"webp_1x/face-swap/wedding_both_1.webp\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"created_at\": \"2024-01-01T00:00:00.000Z\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Thumbnails retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - 22. GET `/thumbnails/{id}/preset`","heading":"22. GET `/thumbnails/{id}/preset`","text":"## 22. GET `/thumbnails/{id}/preset`","url":"#/API_TONG_QUAN_VI.md?id=22-get-thumbnailsidpreset","level":2},{"title":"Tổng quan API Face Swap AI - Mục đích","heading":"Mục đích","text":"### Mục đích","url":"#/API_TONG_QUAN_VI.md?id=mc-ch","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"Lấy preset_id từ thumbnail_id (dùng cho mobile app).","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"GET https://api.d.shotpix.app/thumbnails/preset_1234567890_abc123/preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Phản hồi","heading":"Phản hồi","text":"### Phản hồi","url":"#/API_TONG_QUAN_VI.md?id=phn-hi","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"preset_id\": \"preset_1234567890_abc123\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"success\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Preset ID retrieved successfully\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 200","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Lưu ý:** Thumbnail và preset cùng một row trong database, nên `id` chính là `preset_id`.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Lưu ý về Bảo mật và Xử lý Lỗi","heading":"Lưu ý về Bảo mật và Xử lý Lỗi","text":"## Lưu ý về Bảo mật và Xử lý Lỗi","url":"#/API_TONG_QUAN_VI.md?id=lu-v-bo-mt-v-x-l-li","level":2},{"title":"Tổng quan API Face Swap AI - Xử lý Lỗi (Error Handling)","heading":"Xử lý Lỗi (Error Handling)","text":"### Xử lý Lỗi (Error Handling)","url":"#/API_TONG_QUAN_VI.md?id=x-l-li-error-handling","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tất cả lỗi 400 và 500:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Message field luôn là generic: `\"Bad Request\"` (400) hoặc `\"Internal Server Error\"` (500)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Không bao giờ hiển thị thông tin chi tiết về lỗi trong message field","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Thông tin chi tiết chỉ có trong property `debug` (chỉ khi `DEBUG` env var = `'true'` hoặc `'1'`)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Trong production, `debug` property sẽ bị tắt hoàn toàn để bảo mật","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"data\": null,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"status\": \"error\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"message\": \"Bad Request\",  // Generic message","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"code\": 400,","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"debug\": {  // Chỉ có khi DEBUG=true","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"error\": \"Detailed error: D1_TYPE_ERROR: Type 'object' not supported...\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"path\": \"/profiles\",","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"\"stack\": \"...\"","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Xử lý JSON trong D1 Database","heading":"Xử lý JSON trong D1 Database","text":"### Xử lý JSON trong D1 Database","url":"#/API_TONG_QUAN_VI.md?id=x-l-json-trong-d1-database","level":3},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Quan trọng:** D1 database không hỗ trợ JSON objects trực tiếp. Tất cả JSON data phải được chuyển thành string trước khi lưu.","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Ví dụ với preferences:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- ✅ Đúng: `\"preferences\": \"{\\\"theme\\\":\\\"dark\\\",\\\"language\\\":\\\"vi\\\"}\"` (JSON string)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- ✅ Đúng: `\"preferences\": {\"theme\":\"dark\",\"language\":\"vi\"}` (Object - sẽ tự động chuyển thành string)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- ❌ Sai: Không thể lưu object trực tiếp vào D1","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Hệ thống tự động xử lý:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu gửi object → tự động chuyển thành JSON string","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Nếu gửi string → sử dụng trực tiếp","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Khi đọc từ database → trả về dạng string (client có thể parse nếu cần)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Tổng kết","heading":"Tổng kết","text":"## Tổng kết","url":"#/API_TONG_QUAN_VI.md?id=tng-kt","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Tổng số API endpoints: 22**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"**Danh sách đầy đủ các API endpoints:**","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"1. POST `/faceswap` - Đổi mặt (Face Swap) - luôn dùng Vertex AI, hỗ trợ multiple selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"2. POST `/removeBackground` - Xóa nền (Remove Background)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"3. POST `/enhance` - AI enhance ảnh","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"4. POST `/colorize` - AI chuyển ảnh đen trắng thành màu","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"5. POST `/aging` - AI lão hóa khuôn mặt","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"6. POST `/upscaler4k` - AI upscale ảnh lên 4K","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"7. POST `/upload-url` - Tải ảnh lên server (hỗ trợ nhiều file)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"8. GET `/presets` - Liệt kê presets","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"9. GET `/presets/{id}` - Lấy preset theo ID (bao gồm prompt_json)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"10. DELETE `/presets/{id}` - Xóa preset","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"11. GET `/selfies` - Liệt kê selfies","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"12. DELETE `/selfies/{id}` - Xóa selfie","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"13. GET `/results` - Liệt kê results","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"14. DELETE `/results/{id}` - Xóa result","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"15. POST `/profiles` - Tạo profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"16. GET `/profiles/{id}` - Lấy profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"17. PUT `/profiles/{id}` - Cập nhật profile","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"18. GET `/profiles` - Liệt kê profiles","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"19. POST `/upload-thumbnails` - Tải lên thumbnails và presets (batch)","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"20. GET `/thumbnails` - Liệt kê thumbnails","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"21. GET `/thumbnails/{id}/preset` - Lấy preset_id từ thumbnail_id","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"22. GET `/config` - Lấy config","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"23. OPTIONS `/*` - CORS preflight requests","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI - Lưu ý về Custom Domain","heading":"Lưu ý về Custom Domain","text":"## Lưu ý về Custom Domain","url":"#/API_TONG_QUAN_VI.md?id=lu-v-custom-domain","level":2},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **Worker API Domain**: `https://api.d.shotpix.app` - Dùng cho tất cả API endpoints","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- **R2 Public Domain**: `https://resources.d.shotpix.app` - Dùng cho public URLs của files trong R2 bucket","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Tổng quan API Face Swap AI","heading":"Tổng quan API Face Swap AI","text":"- Format R2 public URL: `https://resources.d.shotpix.app/{bucket-name}/{key}`","url":"#/API_TONG_QUAN_VI.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"# Face Swap AI - Requirements","url":"#/REQUIREMENTS.md","level":1},{"title":"Face Swap AI - Requirements - Overview","heading":"Overview","text":"## Overview","url":"#/REQUIREMENTS.md?id=overview","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"A minimal web application for face swapping that allows users to upload preset images, upload selfies, and generate face-swapped results. The applicat","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Structure","heading":"Frontend Structure","text":"## Frontend Structure","url":"#/REQUIREMENTS.md?id=frontend-structure","level":2},{"title":"Face Swap AI - Requirements - File Organization","heading":"File Organization","text":"### File Organization","url":"#/REQUIREMENTS.md?id=file-organization","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `index.html` - Main HTML structure with inline CSS and JavaScript","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Layout","heading":"UI Layout","text":"### UI Layout","url":"#/REQUIREMENTS.md?id=ui-layout","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Main workspace: Two-column grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Left column: Preset section (top) and Selfie section (bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column: Result image (spans both rows, large display)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Bottom section: Results history gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both preset and selfie have identical UI: Upload area + Gallery for selection","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI/UX Design Guide","heading":"UI/UX Design Guide","text":"## UI/UX Design Guide","url":"#/REQUIREMENTS.md?id=uiux-design-guide","level":2},{"title":"Face Swap AI - Requirements - Design Principles","heading":"Design Principles","text":"### Design Principles","url":"#/REQUIREMENTS.md?id=design-principles","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Minimalism**: Remove all unnecessary elements. Every component must serve a purpose.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Clarity**: Users should understand what to do without reading instructions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Efficiency**: Minimize clicks and steps to complete tasks.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Consistency**: Use consistent spacing, colors, and interaction patterns throughout.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Feedback**: Always provide clear visual feedback for user actions.","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Layout Structure","heading":"Layout Structure","text":"### Layout Structure","url":"#/REQUIREMENTS.md?id=layout-structure","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Container","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 1200px (centered on large screens)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px on desktop, 16px on mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF (white) or #FAFAFA (very light gray)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 0px (sharp, professional edges)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Main Workspace - Two Column Grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Layout**: CSS Grid with 2 columns","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Left Column** (40% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Section** (top row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Section** (bottom row):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Upload area with drag & drop (identical to preset)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery grid below for selecting existing selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie preview (large, prominent)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap between sections: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Right Column** (60% width):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Image Display** (spans both rows):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gap between columns**: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Generate Button**: Full width below the grid, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Bottom Section - Results History","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full width grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Responsive grid: 4 columns desktop, 3 tablets, 2 mobile","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 16px between items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Color Palette","heading":"Color Palette","text":"### Color Palette","url":"#/REQUIREMENTS.md?id=color-palette","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: #2563EB (Blue 600) - Main actions, selected states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Hover**: #1D4ED8 (Blue 700) - Interactive elements on hover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary Light**: #DBEAFE (Blue 100) - Subtle backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Neutral Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Background**: #FFFFFF (White)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Surface**: #F9FAFB (Gray 50) - Card backgrounds","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Border**: #E5E7EB (Gray 200) - Dividers, borders","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Primary**: #111827 (Gray 900) - Main text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text Secondary**: #6B7280 (Gray 500) - Secondary text, labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Colors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**: #10B981 (Green 500) - Success messages, completed states","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**: #EF4444 (Red 500) - Error messages, warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Warning**: #F59E0B (Amber 500) - Warnings","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**: #3B82F6 (Blue 500) - Informational messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Typography","heading":"Typography","text":"### Typography","url":"#/REQUIREMENTS.md?id=typography","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Family","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Primary**: System font stack: `-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Monospace**: `'SF Mono', Monaco, 'Cascadia Code', 'Roboto Mono', Consolas, monospace` (for filenames only)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Font Sizes","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H1 (Page Title)**: 28px / 1.2 line-height / 700 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **H2 (Section Title)**: 20px / 1.3 line-height / 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Body**: 16px / 1.5 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Small**: 14px / 1.4 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Caption**: 12px / 1.3 line-height / 400 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Text Hierarchy","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Page title: H1, centered or left-aligned","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Section headers: H2, left-aligned with 24px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Labels: Small, Text Secondary color, 8px margin-bottom","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body text: Body size, Text Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Spacing System","heading":"Spacing System","text":"### Spacing System","url":"#/REQUIREMENTS.md?id=spacing-system","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use 4px base unit for consistent spacing","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XS**: 4px (tight spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **S**: 8px (small gaps)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **M**: 16px (default spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **L**: 24px (section spacing)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XL**: 32px (large sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **XXL**: 48px (major sections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Component Specifications","heading":"Component Specifications","text":"### Component Specifications","url":"#/REQUIREMENTS.md?id=component-specifications","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Areas","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px dashed #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex, column, center, align-items center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (subtle highlight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Drag Over State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Primary Light)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border style: solid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Icon/Illustration**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 48px × 48px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Primary: \"Click to upload or drag and drop\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 4px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Subtext**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- \"JPG, PNG, WebP (max 10MB)\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **File Input**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hidden (display: none)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Triggered by container click","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Selected Image Preview (Preset/Selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6 (Gray 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 300px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image without cropping)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Label**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-left","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.7)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 0 0 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Selected Preset\" or \"Selected Selfie\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 36px × 36px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: × (close/delete, 20px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease, transform 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background rgba(220, 38, 38, 1) (Red 600), transform: scale(1.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog before deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Result Image Display","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB (Surface)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min height: 600px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-row: span 2 (spans both preset and selfie rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image** (when result exists):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: contain (show full image)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Empty State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: 64px × 64px, Gray 300","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Centered vertically and horizontally","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Gallery Grid (Preset/Selfie Selection)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Grid-template-columns: repeat(auto-fill, minmax(100px, 1fr))","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max columns: 3 on desktop (fits in left column)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max height: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow-y: auto","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Gallery Item**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Aspect ratio: 1:1 (square)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Overflow: hidden","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #F3F4F6","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 2px solid transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: transform 0.2s ease, border-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: relative","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selected State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border color: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border width: 3px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 0 0 3px rgba(37, 99, 235, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover State**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transform: scale(1.02)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box shadow: 0 4px 12px rgba(0, 0, 0, 0.1)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Image**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Height: 100%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Object-fit: cover","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: block","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Button** (Gallery Item):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: absolute, top-right corner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 24px × 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(239, 68, 68, 0.9) (Red 500 with opacity)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: × (close/delete, 14px, white)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Opacity: 0 (hidden by default)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: opacity 0.2s ease, background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on gallery item): Opacity: 1","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover (on button): Background rgba(220, 38, 38, 1) (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click: Show confirmation dialog, prevent event propagation (don't select item)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Primary Button (Generate)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Default**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #2563EB (Primary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, 600 weight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Width: 100% (on mobile), auto (on desktop)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Transition: background-color 0.2s ease","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Hover**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #1D4ED8 (Primary Hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Disabled**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1D5DB (Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #9CA3AF (Gray 400)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: not-allowed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Loading**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show spinner icon (16px) + text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable interaction","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"##### Secondary Button (Reset/Clear)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #6B7280 (Text Secondary)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Same padding and sizing as primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Status Messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 12px 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 8px 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Small","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Success**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #D1FAE5 (Green 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #065F46 (Green 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ✓ (checkmark)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Error**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FEE2E2 (Red 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #991B1B (Red 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ✕ (cross)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Info**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #DBEAFE (Blue 100)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #1E40AF (Blue 800)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Icon: ℹ (info)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Loading Spinner","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 9999","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 32px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text-align: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 200px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Spinner**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Size: 40px × 40px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 3px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-top: 3px solid #2563EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 50%","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Animation: spin 0.8s linear infinite","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin: 0 auto 16px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Text**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body, Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-top: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Confirmation Dialog","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Overlay**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Position: fixed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Top: 0, left: 0, right: 0, bottom: 0","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: rgba(0, 0, 0, 0.5)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Align-items: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: center","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Z-index: 10000","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Dialog Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border radius: 8px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Min-width: 320px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width: 400px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Title**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: H2 (20px, 600 weight)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Primary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Message**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Font: Body (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Margin-bottom: 24px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Line-height: 1.5","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Button Container**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display: flex","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gap: 12px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Justify-content: flex-end","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Cancel Button**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: transparent","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: Text Secondary","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: 1px solid #E5E7EB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #F9FAFB","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Confirm Button** (Delete):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Background: #EF4444 (Red 500)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color: #FFFFFF","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border: none","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Padding: 10px 20px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Border-radius: 6px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cursor: pointer","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hover: Background #DC2626 (Red 600)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - User Flow","heading":"User Flow","text":"### User Flow","url":"#/REQUIREMENTS.md?id=user-flow","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Primary Flow: Generate Face Swap","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. **Select/Upload Preset** (left column, top)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" → \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new preset","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. **Select/Upload Selfie** (left column, bottom)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option A: Upload new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks upload area or drags file","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large preview appears immediately (300-400px height)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Uploading...\" → \"Uploaded\" or \"Already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Gallery refreshes to show new selfie","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Option B: Select from gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- User clicks thumbnail in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Selected border on thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. **Generate Button Enabled**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Visual feedback: Button changes from disabled to active","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Both large previews visible in left column","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Right column shows empty state","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. **Click Generate**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay appears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button disabled","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status: \"Processing face swap...\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"5. **Result Display**","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading overlay disappears","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image appears in large right column (spans both rows)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success message: \"Face swap completed\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result added to history gallery below","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Responsive Design","heading":"Responsive Design","text":"### Responsive Design","url":"#/REQUIREMENTS.md?id=responsive-design","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Breakpoints","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Mobile**: < 768px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single column layout (stack preset, selfie, result vertically)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Full-width buttons","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 2-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reduced padding (16px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Full width, normal height","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Tablet**: 768px - 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Standard padding (24px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Desktop**: > 1024px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Two-column grid layout (40% left, 60% right)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- 3-column gallery grid for presets/selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Max-width container (1200px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Large display, spans both rows","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Accessibility","heading":"Accessibility","text":"### Accessibility","url":"#/REQUIREMENTS.md?id=accessibility","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Keyboard Navigation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All interactive elements must be keyboard accessible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Tab order: Upload areas → Gallery items → Generate button → Results","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enter/Space to activate buttons and select items","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: 2px solid outline in Primary color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Screen Readers","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- All images must have alt text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Buttons must have descriptive labels","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Status messages must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading states must be announced","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Visual Accessibility","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Color contrast: Minimum 4.5:1 for text","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Focus indicators: Clear and visible","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error states: Use icons + text, not just color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Touch targets: Minimum 44px × 44px","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Performance Considerations","heading":"Performance Considerations","text":"### Performance Considerations","url":"#/REQUIREMENTS.md?id=performance-considerations","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Lazy load gallery images (use loading=\"lazy\")","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Optimize images before upload (client-side compression if possible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show skeleton loaders while fetching data","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Debounce search/filter inputs if added later","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Cache gallery images in browser","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error States","heading":"Error States","text":"### Error States","url":"#/REQUIREMENTS.md?id=error-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Upload Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network error: \"Upload failed. Please check your connection and try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- File too large: \"File exceeds 10MB limit. Please choose a smaller file.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid format: \"Invalid file type. Please upload JPG, PNG, or WebP.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Duplicate: \"This image already exists. Using existing version.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### Generation Errors","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API error: \"Face swap failed. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Timeout: \"Request timed out. Please try again.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Invalid images: \"Could not process images. Please ensure both images contain faces.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Empty States","heading":"Empty States","text":"### Empty States","url":"#/REQUIREMENTS.md?id=empty-states","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Presets Gallery**: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Selfies Gallery**: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **No Results History**: \"No results yet. Generate your first face swap to see it here.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Result Display Empty**: \"Result will appear here\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use subtle illustration or icon (48px, Gray 300)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Text: Small, Text Secondary, centered","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Backend API Endpoints","heading":"Backend API Endpoints","text":"## Backend API Endpoints","url":"#/REQUIREMENTS.md?id=backend-api-endpoints","level":2},{"title":"Face Swap AI - Requirements - Backend Database Schema","heading":"Backend Database Schema","text":"### Backend Database Schema","url":"#/REQUIREMENTS.md?id=backend-database-schema","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets` table: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `thumbnail_r2_key`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies` table: `id`, `image_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results` table: `id`, `preset_name`, `result_url`, `profile_id`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Metadata (type, sub_category, gender, position) được lưu trong R2 bucket path, không lưu trong database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Thumbnails được lưu trong cùng row với preset (same-row approach)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Endpoints","heading":"Endpoints","text":"### Endpoints","url":"#/REQUIREMENTS.md?id=endpoints","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/presets`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ presets: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset contains: `id`, `image_url`, `prompt_json`, `thumbnail_url`, `thumbnail_format`, `thumbnail_resolution`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Query params: `include_thumbnails` (optional, default: false) - bao gồm presets có thumbnail","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Presets are stored as individual entries (no collections)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all presets","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/selfies`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ selfies: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie contains: `id`, `selfie_url` (full URL), `action`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selfies are stored as individual entries","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend queries database and returns all selfies","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Lưu ý**: `selfie_url` trong database chỉ lưu bucket key, API tự động assemble full URL từ `R2_DOMAIN` khi trả về","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (preset ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find preset by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `presets` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Preset deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if preset not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### DELETE `/selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Path parameter: `id` (selfie ID)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Find selfie by ID in database","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Delete file from R2 storage using `image_url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Delete record from `selfies` table","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Return `{ success: true, message: \"Selfie deleted\" }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error handling: Return 404 if selfie not found, 500 on deletion failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/upload-url`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Content-Type: `multipart/form-data` hoặc `application/json`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (multipart): `files` (file[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, chỉ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Body (JSON): `image_url` hoặc `image_urls` (string[]), `type`, `profile_id`, `enableVertexPrompt` (optional), `action` (optional, chỉ cho selfie)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend logic:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"1. Upload file(s) to R2 storage","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"2. Với selfie: Tự động xóa ảnh cũ dựa trên action:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `action=\"faceswap\"`: Tối đa 4 ảnh, xóa ảnh cũ nhất khi có >= 4 ảnh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Action khác: Tối đa 1 ảnh, xóa ảnh cũ khi có >= 1 ảnh","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"3. Insert record(s) vào database (`presets` hoặc `selfies` table) với bucket key (không phải full URL)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"4. Với preset: tự động generate Vertex prompt nếu `enableVertexPrompt=true`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Response format: `{ data: { results: [...], count, successful, failed }, status, message, code, debug? }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Với selfie: mỗi result có thêm field `action`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Hỗ trợ upload nhiều file cùng lúc","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Lưu ý**: `selfie_url` trong database chỉ lưu bucket key (ví dụ: `\"selfie/filename.jpg\"`), API tự động assemble full URL khi trả về","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### POST `/faceswap`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"preset_image_id\": \"preset_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"selfie_id\": \"selfie_id_from_database\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"profile_id\": \"user_profile_id\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"resultImageUrl\": \"result_url\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"status\": \"success\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"message\": \"Processing successful\",","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"code\": 200,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"\"debug\": {}","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"#### GET `/results`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Returns: `{ results: [...] }`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result contains: `result_url`, `created_at`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Frontend Functionality","heading":"Frontend Functionality","text":"## Frontend Functionality","url":"#/REQUIREMENTS.md?id=frontend-functionality","level":2},{"title":"Face Swap AI - Requirements - Preset Section (Left Column, Top)","heading":"Preset Section (Left Column, Top)","text":"### Preset Section (Left Column, Top)","url":"#/REQUIREMENTS.md?id=preset-section-left-column-top","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one preset at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'preset'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and preset object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Preset Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each preset card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click preset to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected preset shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No presets yet. Upload your first preset above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected preset preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Preset**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this preset?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /presets/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted preset was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload presets gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Section (Left Column, Bottom)","heading":"Selfie Section (Left Column, Bottom)","text":"### Selfie Section (Left Column, Bottom)","url":"#/REQUIREMENTS.md?id=selfie-section-left-column-bottom","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Upload Area**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Identical UI and functionality to Preset Upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Single file input (one selfie at a time)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Drag and drop support","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On file selection:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use original filename from file input (sanitize for safety)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show preview immediately using FileReader in large preview area","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/upload-url` with original filename and type 'selfie'","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: true`: Use existing URL, show message \"Image already exists\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If response has `exists: false`: Upload file to returned uploadUrl","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Store uploaded/existing URL and selfie object","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show success/error status messages","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after upload","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Selfie Gallery**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display below upload area in scrollable grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` endpoint on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each selfie card shows thumbnail image (square, 100px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Click selfie to select (visual feedback with selected state)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected selfie shows in large preview area above gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Use `image_url` directly from database (no conversion needed)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"No selfies yet. Upload your first selfie above.\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on each gallery item (top-right corner, appears on hover)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Delete button on selected selfie preview (top-right corner, always visible)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- **Delete Selfie**:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On delete button click (gallery or preview):","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show confirmation dialog: \"Are you sure you want to delete this selfie?\"","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- If confirmed: Call `DELETE /selfies/:id`","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On success: Remove from gallery, clear selection if deleted selfie was selected, show success message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On error: Show error message, keep item in gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload selfies gallery after successful deletion","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Display (Right Column, Spans Both Rows)","heading":"Result Display (Right Column, Spans Both Rows)","text":"### Result Display (Right Column, Spans Both Rows)","url":"#/REQUIREMENTS.md?id=result-display-right-column-spans-both-rows","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Large display area (min-height: 600px)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Shows generated face swap result","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Empty state: \"Result will appear here\" with icon","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Result image: Max width/height 100%, object-fit: contain","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Updates automatically after successful generation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Face Swap Generation","heading":"Face Swap Generation","text":"### Face Swap Generation","url":"#/REQUIREMENTS.md?id=face-swap-generation","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Button positioned below main workspace grid","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Enabled when both preset and selfie are selected","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- On click:","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show loading spinner overlay","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Disable button","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Call `/faceswap` with preset URL and selfie URL","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display result image in right column on success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show error message on failure","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Reload results history gallery after success","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Results Display","heading":"Results Display","text":"### Results Display","url":"#/REQUIREMENTS.md?id=results-display","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display results in simple grid gallery","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each result card shows image and date","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Date formatted as Vietnamese locale","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Data Structures","heading":"Data Structures","text":"## Data Structures","url":"#/REQUIREMENTS.md?id=data-structures","level":2},{"title":"Face Swap AI - Requirements - Preset Object","heading":"Preset Object","text":"### Preset Object","url":"#/REQUIREMENTS.md?id=preset-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"prompt_json: object | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_url: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_format: 'webp' | 'lottie' | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"thumbnail_resolution: string | null,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Selfie Object","heading":"Selfie Object","text":"### Selfie Object","url":"#/REQUIREMENTS.md?id=selfie-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"id: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"image_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Result Object","heading":"Result Object","text":"### Result Object","url":"#/REQUIREMENTS.md?id=result-object","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"result_url: string,","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"created_at: string (ISO format)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - State Variables","heading":"State Variables","text":"## State Variables","url":"#/REQUIREMENTS.md?id=state-variables","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedPreset`: Currently selected preset object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selectedSelfie`: Currently selected selfie object or null","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `presets`: Array of all preset objects (loaded from `/presets`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `selfies`: Array of all selfie objects (loaded from `/selfies`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- `results`: Array of all result objects (loaded from `/results`)","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - UI Elements","heading":"UI Elements","text":"## UI Elements","url":"#/REQUIREMENTS.md?id=ui-elements","level":2},{"title":"Face Swap AI - Requirements - Preset Gallery","heading":"Preset Gallery","text":"### Preset Gallery","url":"#/REQUIREMENTS.md?id=preset-gallery","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Simple grid layout","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Each card: square aspect ratio, image only","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Selected state: border highlight","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Status Messages","heading":"Status Messages","text":"### Status Messages","url":"#/REQUIREMENTS.md?id=status-messages","level":3},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Success: Green color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Error: Red color","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Loading: Spinner animation","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Image URL Handling","heading":"Image URL Handling","text":"## Image URL Handling","url":"#/REQUIREMENTS.md?id=image-url-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Database stores the final accessible URL directly in `image_url` field","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Backend constructs the correct R2 URL (e.g., `/r2/preset/filename.jpg` or full URL with worker domain) when uploading","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Frontend uses `image_url` from database directly - no conversion needed","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- URLs are ready to use as-is for display and API calls","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Error Handling","heading":"Error Handling","text":"## Error Handling","url":"#/REQUIREMENTS.md?id=error-handling","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Network errors: Show error message","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- API errors: Display error message from response","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Image load errors: Show placeholder","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements - Initialization","heading":"Initialization","text":"## Initialization","url":"#/REQUIREMENTS.md?id=initialization","level":2},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load presets from `/presets` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load selfies from `/selfies` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Load results from `/results` on page load","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Display loading placeholders while fetching","url":"#/REQUIREMENTS.md","level":0},{"title":"Face Swap AI - Requirements","heading":"Face Swap AI - Requirements","text":"- Show empty states if no data available","url":"#/REQUIREMENTS.md","level":0}];
    
    // Configure Docsify
    window.$docsify = {
      name: 'Face Swap AI API',
      repo: '',
      loadSidebar: true,
      subMaxLevel: 3,
      auto2top: true,
      homepage: 'API_TONG_QUAN_VI.md',
      coverpage: false,
      search: {
        maxAge: 86400000,
        paths: ["API_TONG_QUAN_VI.md","REQUIREMENTS.md"],
        placeholder: 'Tìm kiếm...',
        noData: 'Không tìm thấy kết quả',
        depth: 6
      },
      notFoundPage: true,
      executeScript: true,
      pagination: {
        previousText: 'Trước',
        nextText: 'Tiếp',
        crossChapter: true,
        crossChapterText: true,
      },
      plugins: [
        function(hook, vm) {
          // Override sidebar loading
          hook.beforeEach(function(html) {
            return html;
          });
          
          hook.mounted(function() {
            // Inject sidebar content
            const sidebarEl = document.querySelector('.sidebar');
            if (sidebarEl && window.__staticSidebar) {
              // Docsify will load sidebar, but we can pre-populate it
            }
            
            // Ensure sidebar is expanded by default
            setTimeout(() => {
              const sidebar = document.querySelector('.sidebar');
              const app = document.querySelector('#app');
              if (sidebar && app) {
                sidebar.style.transform = 'translateX(0)';
                sidebar.style.display = 'block';
                app.classList.remove('close');
              }
            }, 100);
          });
          
          // Override fetch to serve from embedded content
          const originalFetch = window.fetch;
          window.fetch = function(url, options) {
            if (typeof url === 'string') {
              // Handle markdown files
              if (url.endsWith('.md') || url.includes('.md')) {
                const fileName = url.split('/').pop().split('?')[0];
                if (window.__staticDocs[fileName]) {
                  return Promise.resolve(new Response(
                    window.__staticDocs[fileName],
                    { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                  ));
                }
              }
              // Handle sidebar
              if (url.includes('_sidebar.md') || url.endsWith('_sidebar')) {
                return Promise.resolve(new Response(
                  window.__staticSidebar,
                  { headers: { 'Content-Type': 'text/markdown; charset=utf-8' } }
                ));
              }
            }
            return originalFetch.apply(this, arguments);
          };
          
          // Inject search index when search plugin loads
          hook.doneEach(function() {
            if (window.Docsify && window.Docsify.util && window.__staticSearchIndex) {
              // Try to set search index
              setTimeout(() => {
                const searchPlugin = window.Docsify.dom.find('.search input');
                if (searchPlugin && !window.__searchIndexSet) {
                  // Store index globally for search plugin
                  window.DocsifySearchIndex = window.__staticSearchIndex;
                  window.__searchIndexSet = true;
                }
              }, 100);
            }
          });
        },
        // Custom search plugin that uses pre-generated index
        function(hook, vm) {
          hook.ready(function() {
            if (window.__staticSearchIndex) {
              // Override search functionality
              const searchInput = document.querySelector('.search input');
              if (searchInput) {
                searchInput.addEventListener('input', function(e) {
                  const query = e.target.value.toLowerCase().trim();
                  if (query.length < 2) return;
                  
                  const results = window.__staticSearchIndex.filter(item => {
                    const searchText = (item.title + ' ' + item.text).toLowerCase();
                    return searchText.includes(query);
                  });
                  
                  // Display results (simplified - Docsify will handle UI)
                  console.log('Search results:', results.length);
                });
              }
            }
          });
        }
      ]
    };
  </script>
  
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/pagination.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/emoji.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/external-script.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/docsify/lib/plugins/zoom-image.min.js"></script>
</body>
</html>